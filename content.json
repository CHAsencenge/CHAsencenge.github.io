{"meta":{"title":"è§£å­—","subtitle":null,"description":"è§£å­—æ— æœ","author":"CHAsencenge","url":"https://chasencenge.github.io","root":"/"},"pages":[{"title":"categories","date":"2020-07-07T02:56:17.000Z","updated":"2020-07-17T09:52:44.213Z","comments":true,"path":"categories/index.html","permalink":"https://chasencenge.github.io/categories/index.html","excerpt":"","text":""},{"title":"å…³äº","date":"2020-07-17T03:53:18.000Z","updated":"2020-07-17T09:52:44.212Z","comments":true,"path":"about/index.html","permalink":"https://chasencenge.github.io/about/index.html","excerpt":"","text":""},{"title":"å‹é“¾","date":"2020-07-17T03:52:56.000Z","updated":"2020-07-17T09:52:44.250Z","comments":true,"path":"links/index.html","permalink":"https://chasencenge.github.io/links/index.html","excerpt":"","text":""},{"title":"tags","date":"2020-07-07T02:57:07.000Z","updated":"2020-07-17T09:52:44.250Z","comments":true,"path":"tags/index.html","permalink":"https://chasencenge.github.io/tags/index.html","excerpt":"","text":""}],"posts":[{"title":"Pyplotç»˜å›¾","slug":"Pyplotç»˜å›¾","date":"2020-07-27T12:56:31.000Z","updated":"2020-07-27T13:20:21.018Z","comments":true,"path":"2020/07/27/Pyplotç»˜å›¾/","link":"","permalink":"https://chasencenge.github.io/2020/07/27/Pyplotç»˜å›¾/","excerpt":"","text":"æ ‡è¯†æ•£ç‚¹ï¼šplt.scatter(x, y)å¯é€‰é¡¹sä¿®æ”¹æ•£ç‚¹å¤§å°ï¼Œcolorä¿®æ”¹é¢œè‰² 1plt.scatter(thisNodeLoc[0], thisNodeLoc[1], s=10, color='b') è¿çº¿ï¼šplt.plot([x1, y1], [x2, y2])1plt.plot([thisNodeLoc[0], sendToNodeLoc[0]], [thisNodeLoc[1], sendToNodeLoc[1]]) æ³¨é‡Šæ–‡å­—ï¼šplt.annotate(txt, xy=(), xytext=())xyå¤„å¡«æ³¨é‡Šç‚¹åæ ‡ï¼Œxytextå¤„å¡«æ–‡æœ¬ä½ç½®ï¼Œå¯åŠ åç§»offset 1plt.annotate(thisNodeLoc, xy=(thisNodeLoc[0], thisNodeLoc[1]), xytext=(thisNodeLoc[0]+1, thisNodeLoc[1]+1)) é™åˆ¶åæ ‡åŒºé—´ï¼š12plt.xlim(-2200,2200)plt.ylim(-2200,2200) 12345678910for n in range(0, nodeNum): thisNodeLoc = [nodes[n].locX, nodes[n].locY] sendToNodeLoc = [nodes[n].sendTo.locX, nodes[n].sendTo.locY] plt.scatter(thisNodeLoc[0], thisNodeLoc[1], s=10, color='b') plt.plot([thisNodeLoc[0], sendToNodeLoc[0]], [thisNodeLoc[1], sendToNodeLoc[1]]) plt.annotate(thisNodeLoc, xy=(thisNodeLoc[0], thisNodeLoc[1]), xytext=(thisNodeLoc[0]+1, thisNodeLoc[1]+1))plt.xlim(-2200,2200)plt.ylim(-2200,2200)plt.show() æœ€åè®°å¾—ç”¨plt.show()å°†å…¶æ˜¾ç¤ºå‡ºæ¥","categories":[{"name":"Python","slug":"Python","permalink":"https://chasencenge.github.io/categories/Python/"}],"tags":[{"name":"Python","slug":"Python","permalink":"https://chasencenge.github.io/tags/Python/"}]},{"title":"ç™¾åº¦ä¹‹æ˜Ÿ2020---1003.Permutation","slug":"ç™¾åº¦ä¹‹æ˜Ÿ2020-1003-Permutation","date":"2020-07-26T10:04:53.000Z","updated":"2020-07-26T10:28:00.105Z","comments":true,"path":"2020/07/26/ç™¾åº¦ä¹‹æ˜Ÿ2020-1003-Permutation/","link":"","permalink":"https://chasencenge.github.io/2020/07/26/ç™¾åº¦ä¹‹æ˜Ÿ2020-1003-Permutation/","excerpt":"","text":"Problem Description ä¸€å¼€å§‹æœ‰ nä¸ªæ•°ï¼Œä»–ä»¬æŒ‰ 1â€¦nçš„é¡ºåºæ’åˆ—ï¼Œè¦æ±‚äº¤æ¢æœ€å¤š må¯¹æ•°å­—ï¼ˆåŒä¸€ä¸ªæ•°å­—å¯ä»¥å‚ä¸å¤šæ¬¡äº¤æ¢ï¼‰ï¼Œä½¿å¾—é€†åºå¯¹æ•°ç›®æœ€å¤§ã€‚ å¯¹äºä¸€ä¸ªåºåˆ— Aï¼Œå¦‚æœå­˜åœ¨æ­£æ•´æ•° i, jä½¿å¾—1â‰¤i&lt;jâ‰¤n è€Œä¸” A[i] &gt; A[j]ï¼Œåˆ™ &lt;A[i],A[j]&gt; è¿™ä¸ªæœ‰åºå¯¹ç§°ä¸º Açš„ä¸€ä¸ªé€†åºå¯¹ã€‚ Input ç¬¬ä¸€è¡Œä¸€ä¸ªæ­£æ•´æ•°test (1â‰¤testâ‰¤100000) è¡¨ç¤ºæ•°æ®ç»„æ•°ã€‚ å¯¹äºæ¯ç»„æ•°æ®ï¼Œä¸€è¡Œä¸¤ä¸ªæ•´æ•° nï¼Œm (1â‰¤nâ‰¤1000000,0â‰¤mâ‰¤1000000) è¡¨ç¤ºæ•°å­—ä¸ªæ•°å’Œæœ€å¤šå¯ä»¥äº¤æ¢çš„æ•°å­—å¯¹æ•°ã€‚ Output å¯¹äºæ¯ç»„æ•°æ®ï¼Œä¸€è¡Œä¸€ä¸ªæ•´æ•°è¡¨ç¤ºç­”æ¡ˆã€‚ Sample Input 123456761 12 02 13 14 14 2 Sample Output 123456001356 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071#include &lt;iostream&gt;#include&lt;vector&gt;#include&lt;algorithm&gt;using namespace std;// å¯¹æ¯ä¸ªï¼ˆn, 1ï¼‰ç»“æœéƒ½ä¸ºï¼š2 * n - 3int com(int n)&#123; int com = 2 * n - 3; return com;&#125;// æŠŠï¼ˆn, mï¼‰è½¬æ¢ä¸ºï¼ˆn, 1ï¼‰, (n -2, 1)...(n - 2m + 2, 1)ä¹‹å’Œçš„å½¢å¼å¹¶åˆ©ç”¨com()è®¡ç®—ç»“æœint arr(int n, int m)&#123; int res = 0; for (int i = 0; i &lt; m; i++) &#123; res += com(n - 2 * i); //cout &lt;&lt; i &lt;&lt;\" \"&lt;&lt; res&lt;&lt;endl; &#125; return res;&#125;vector&lt;int&gt; compute() &#123; int groupNum; cin &gt;&gt; groupNum; vector&lt;int&gt; output; for (int i = 0; i &lt; groupNum; i++) &#123; int n; int m; //cout &lt;&lt; \"choiseNum:\" &lt;&lt; choiseNum &lt;&lt; endl; cin &gt;&gt; n; //cout &lt;&lt; \"b:\" &lt;&lt; b &lt;&lt; endl; cin &gt;&gt; m; //cout &lt;&lt; \"c:\" &lt;&lt; c &lt;&lt; endl; if (n == 1 || m == 0) &#123; output.push_back(0); &#125; else &#123; if (2 * m &lt; n) &#123; int res = arr(n, m); output.push_back(res); &#125; else &#123; m = n / 2; int res = arr(n, m); output.push_back(res); &#125; &#125; &#125; return output; &#125;int main()&#123; vector&lt;int&gt; res = compute(); for (int i = 0; i &lt; res.size(); i++) &#123; //cout &lt;&lt; res[i]; printf(\"%d\\n\", res[i]); &#125; return 0;&#125;","categories":[{"name":"Algorithm","slug":"Algorithm","permalink":"https://chasencenge.github.io/categories/Algorithm/"},{"name":"C++","slug":"Algorithm/C","permalink":"https://chasencenge.github.io/categories/Algorithm/C/"}],"tags":[{"name":"C++","slug":"C","permalink":"https://chasencenge.github.io/tags/C/"},{"name":"Algorithm","slug":"Algorithm","permalink":"https://chasencenge.github.io/tags/Algorithm/"}]},{"title":"ç™¾åº¦ä¹‹æ˜Ÿ2020---1002.Game","slug":"ç™¾åº¦ä¹‹æ˜Ÿ2020-1002-Game","date":"2020-07-26T10:04:18.000Z","updated":"2020-07-26T10:27:47.180Z","comments":true,"path":"2020/07/26/ç™¾åº¦ä¹‹æ˜Ÿ2020-1002-Game/","link":"","permalink":"https://chasencenge.github.io/2020/07/26/ç™¾åº¦ä¹‹æ˜Ÿ2020-1002-Game/","excerpt":"","text":"Problem Description Alice å’Œ Bob åœ¨ç©æ¸¸æˆã€‚ æ¡Œé¢ä¸Šæœ‰ä¸¤å †é‡‘å¸ï¼Œå°‘çš„é‚£å †æœ‰ x ä¸ªé‡‘å¸ï¼Œå¤šçš„é‚£å †æœ‰ 2x ä¸ªé‡‘å¸ã€‚ å‡è®¾é‡‘å¸å¯ä»¥è¢«æ— é™ç»†åˆ†ã€‚Alice å’Œ Bob äº‹å…ˆéƒ½ä¸çŸ¥é“ xæ˜¯å‡ ï¼Œä½†æ˜¯ä»–ä»¬éƒ½çŸ¥é“ xæ˜¯ä¸€ä¸ª (0, 1]ä¹‹é—´å‡åŒ€åˆ†å¸ƒçš„éšæœºå®æ•°ã€‚ Alice ä¼šç­‰æ¦‚ç‡çš„è¢«åˆ†é…åˆ°å…¶ä¸­çš„ä¸€å †é‡‘å¸ï¼ŒBob ä¼šå¾—åˆ°å¦ä¸€å †ã€‚xçš„å€¼å’Œä¸¤å †é‡‘å¸çš„åˆ†é…æ˜¯ç›¸äº’ç‹¬ç«‹çš„ã€‚ æ‹¿åˆ°é‡‘å¸ä»¥åï¼ŒAlice ä¼šé©¬ä¸Šæ•°æ¸…è‡ªå·±æ‹¿åˆ°å¤šå°‘é‡‘å¸ã€‚ç„¶å Alice å¯ä»¥é€‰æ‹©æ˜¯å¦å’Œ Bob é‚£å †æ¢ã€‚ ç»™å®š Alice æ‹¿åˆ°çš„é‡‘å¸æ•°ç›®ï¼Œè¯·é—® Alice è¦ä¸è¦äº¤æ¢ï¼Œä½¿å¾—å¥¹æœŸæœ›èƒ½å¾—åˆ°çš„é‡‘å¸æ•°ç›®æ›´å¤šï¼Ÿ å¦‚æœäº¤æ¢æœŸæœ›å¾—åˆ°çš„é‡‘å¸æ•°ç›®å¤šäºä¸äº¤æ¢æœŸæœ›å¾—åˆ°çš„é‡‘å¸æ•°ç›®ï¼Œè¾“å‡ºäº¤æ¢ï¼Œå¦åˆ™ä¸äº¤æ¢ã€‚ Input ç¬¬ä¸€è¡Œä¸€ä¸ªæ­£æ•´æ•°test (1â‰¤testâ‰¤200000) è¡¨ç¤ºæ•°æ®ç»„æ•°ã€‚ æ¥ä¸‹æ¥æ¯è¡Œä¸€ä¸ªå°æ•°p(0&lt;pâ‰¤2)ï¼Œpæœ€å¤šä¿ç•™äº”ä½å°æ•°ï¼Œè¡¨ç¤º Alice æ‹¿åˆ°çš„é‡‘å¸æ•°ç›®ã€‚ Output å¯¹äºæ¯ç»„æ•°æ®ï¼Œè¾“å‡º Yes è¡¨ç¤ºéœ€è¦äº¤æ¢ï¼Œè¾“å‡º No è¡¨ç¤ºä¸è¦äº¤æ¢ã€‚ Sample Input 1211.00000 Sample Output 1Yes 12345678910111213141516171819202122232425262728293031323334353637383940414243444546#include &lt;iostream&gt;#include&lt;vector&gt;#include&lt;algorithm&gt;#include &lt;string&gt;using namespace std;vector&lt;string&gt; compute()&#123; int groupNum; std::cin &gt;&gt; groupNum; vector&lt;string&gt; output; for (int i = 0; i &lt; groupNum; i++) &#123; float num; std::cin &gt;&gt; num; //float exception; if (num &gt; 1) &#123; output.push_back(\"No\"); &#125; else &#123; if (2 * num * 0.5 + num / 2 * 0.5 &gt; num) &#123; output.push_back(\"Yes\"); &#125; else &#123; output.push_back(\"No\"); &#125; &#125; &#125; return output;&#125;int main()&#123; vector&lt;string&gt; res = compute(); for (int i = 0; i &lt; res.size(); i++) &#123; //cout &lt;&lt; res[i]; printf(\"%s\\n\", res[i].c_str()); &#125; return 0;&#125;","categories":[{"name":"Algorithm","slug":"Algorithm","permalink":"https://chasencenge.github.io/categories/Algorithm/"},{"name":"C++","slug":"Algorithm/C","permalink":"https://chasencenge.github.io/categories/Algorithm/C/"}],"tags":[{"name":"C++","slug":"C","permalink":"https://chasencenge.github.io/tags/C/"},{"name":"Algorithm","slug":"Algorithm","permalink":"https://chasencenge.github.io/tags/Algorithm/"}]},{"title":"ç™¾åº¦ä¹‹æ˜Ÿ2020---1001.Discount","slug":"ç™¾åº¦ä¹‹æ˜Ÿ2020-1001-Discount","date":"2020-07-26T10:03:53.000Z","updated":"2020-07-26T10:21:02.628Z","comments":true,"path":"2020/07/26/ç™¾åº¦ä¹‹æ˜Ÿ2020-1001-Discount/","link":"","permalink":"https://chasencenge.github.io/2020/07/26/ç™¾åº¦ä¹‹æ˜Ÿ2020-1001-Discount/","excerpt":"","text":"Problem Description å­¦çš‡æ¥åˆ°äº†ä¸€ä¸ªé¤é¦†åƒé¥­ã€‚ä»–è§‰å¾—è¿™å®¶é¤é¦†å¾ˆå¥½åƒï¼Œäºæ˜¯å°±æƒ³åŠä¸ªä¼šå‘˜ã€‚ ä¸€å…±æœ‰ nç§ä¼šå‘˜å……å€¼å¡å¥—é¤ï¼Œå‡è®¾å­¦çš‡è¿™é¤é¥­çš„æ¶ˆè´¹ä¸º aå…ƒï¼Œé€‰æ‹©ç¬¬ iç§å¥—é¤ï¼Œéœ€è¦å……å€¼ b[i] * a çš„é’±ï¼Œè¿™æ¬¡åƒé¥­å¯ä»¥æ‰“ c[i]Ã—10 æŠ˜ï¼Œç”±å……å€¼çš„é’±æ”¯ä»˜ï¼ˆå³è¿™æ¬¡åƒé¥­åªéœ€è¦ä»å……å€¼é‡‘é¢ä¸­æ‰£é™¤ aÃ—c[i] å…ƒï¼‰ã€‚ä»¥åç”¨å‰©ä½™çš„å……å€¼çš„é’±åƒé¥­ä¸å†æ‰“æŠ˜ã€‚ è¯·é—®å­¦çš‡åº”è¯¥é€‰æ‹©å“ªä¸ªå¥—é¤ï¼ˆå¿…é¡»é€‰æ‹©æ°å¥½ä¸€ä¸ªå¥—é¤ï¼‰ï¼Œä½¿å¾—ä¼˜æƒ çš„æ¯”ä¾‹æœ€å¤§ï¼Ÿ ä¼˜æƒ æ¯”ä¾‹çš„å®šä¹‰æ˜¯æŠŠå……çš„é’±ç”¨å®Œä»¥åï¼Œ(æœ¬æ¥åº”è¯¥ä»˜çš„é’± - å®é™…ä»˜çš„é’±) / æœ¬æ¥åº”è¯¥ä»˜çš„é’±ã€‚åœ¨è¿™ä¸ªé¢˜ç›®é‡Œï¼Œå®é™…ä»˜çš„é’±å°±æ˜¯è¿™æ¬¡å……å€¼çš„èŠ±è´¹ã€‚ Input ç¬¬ä¸€è¡Œä¸€ä¸ªæ•´æ•° test(1â‰¤testâ‰¤100) è¡¨ç¤ºæ•°æ®ç»„æ•°ã€‚ å¯¹äºæ¯ç»„æ•°æ®ï¼Œç¬¬ä¸€è¡Œä¸€ä¸ªæ­£æ•´æ•° n(1â‰¤nâ‰¤100) è¡¨ç¤ºå¥—é¤çš„æ•°ç›®ã€‚ æ¥ä¸‹æ¥ nè¡Œï¼Œæ¯è¡Œä¸€ä¸ªæ­£æ•´æ•° b[i]å’Œä¸€ä¸ªå°æ•° c[i]ã€‚ Output å¯¹äºæ¯ç»„æ•°æ®ï¼Œè¾“å‡ºä¸€ä¸ªäº”ä½å°æ•°è¡¨ç¤ºæœ€å¤§çš„ä¼˜æƒ æ¯”ä¾‹ã€‚å¦‚æœå°æ•°ç‚¹åè¶…è¿‡äº”ä½ï¼Œå››èˆäº”å…¥åˆ°äº”ä½ã€‚ Sample Input 1234122 0.53 0.1 Sample Output 123450.23077æ ·ä¾‹è§£é‡Šå¯¹äºç¬¬ä¸€ç§å¥—é¤ï¼Œä¼˜æƒ æ¯”ä¾‹ä¸º 0.5a / (2a + 0.5aï¼‰ = 0.2ï¼›å¯¹äºç¬¬äºŒç§å¥—é¤ï¼Œä¼˜æƒ æ¯”ä¾‹ä¸º 0.9a / (3a + 0.9aï¼‰ = 9 / 39ï¼› 12345678910111213141516171819202122232425262728293031323334353637383940414243#include &lt;iostream&gt;#include&lt;vector&gt;#include&lt;algorithm&gt;using namespace std;vector&lt;float&gt; compute() &#123; int groupNum; cin &gt;&gt; groupNum; vector&lt;float&gt; output; for (int i = 0; i &lt; groupNum; i++) &#123; float res = 0; int choiseNum; cin &gt;&gt; choiseNum; //cout &lt;&lt; \"choiseNum:\" &lt;&lt; choiseNum &lt;&lt; endl; int b; float c; for (int j = 0; j &lt; choiseNum; j++) &#123; cin &gt;&gt; b; //cout &lt;&lt; \"b:\" &lt;&lt; b &lt;&lt; endl; cin &gt;&gt; c; //cout &lt;&lt; \"c:\" &lt;&lt; c &lt;&lt; endl; float temp = (1 - c) / (b + 1 - c); res = max(res, temp); &#125; output.push_back(res); &#125; return output;&#125;int main()&#123; vector&lt;float&gt; res = compute(); for (int i = 0; i &lt; res.size(); i++) &#123; //cout &lt;&lt; res[i]; printf(\"%.5f\\n\", res[i]); &#125; return 0;&#125;","categories":[{"name":"Algorithm","slug":"Algorithm","permalink":"https://chasencenge.github.io/categories/Algorithm/"},{"name":"C++","slug":"Algorithm/C","permalink":"https://chasencenge.github.io/categories/Algorithm/C/"}],"tags":[{"name":"C++","slug":"C","permalink":"https://chasencenge.github.io/tags/C/"},{"name":"Algorithm","slug":"Algorithm","permalink":"https://chasencenge.github.io/tags/Algorithm/"}]},{"title":"æ¸¸æˆå®¢æˆ·ç«¯é¢ç»çŸ¥è¯†ç‚¹","slug":"æ¸¸æˆå®¢æˆ·ç«¯é¢ç»çŸ¥è¯†ç‚¹","date":"2020-07-24T05:40:54.000Z","updated":"2020-07-24T05:43:25.394Z","comments":true,"path":"2020/07/24/æ¸¸æˆå®¢æˆ·ç«¯é¢ç»çŸ¥è¯†ç‚¹/","link":"","permalink":"https://chasencenge.github.io/2020/07/24/æ¸¸æˆå®¢æˆ·ç«¯é¢ç»çŸ¥è¯†ç‚¹/","excerpt":"","text":"","categories":[{"name":"Unity","slug":"Unity","permalink":"https://chasencenge.github.io/categories/Unity/"},{"name":"Unreal","slug":"Unity/Unreal","permalink":"https://chasencenge.github.io/categories/Unity/Unreal/"}],"tags":[{"name":"Unity","slug":"Unity","permalink":"https://chasencenge.github.io/tags/Unity/"},{"name":"Unreal","slug":"Unreal","permalink":"https://chasencenge.github.io/tags/Unreal/"}]},{"title":"Unityé¡¹ç›®å¯¹æ¥åˆ°Laya","slug":"Unityé¡¹ç›®å¯¹æ¥åˆ°Laya","date":"2020-07-21T09:29:24.000Z","updated":"2020-07-24T02:30:25.993Z","comments":true,"path":"2020/07/21/Unityé¡¹ç›®å¯¹æ¥åˆ°Laya/","link":"","permalink":"https://chasencenge.github.io/2020/07/21/Unityé¡¹ç›®å¯¹æ¥åˆ°Laya/","excerpt":"","text":"Unity APIGameObject.FindWithTagé€šè¿‡Tagåæ‰¾åˆ°æ¸¸æˆå¯¹è±¡ 1ring = GameObject.FindWithTag(&quot;ring&quot;) FindWithTag è¿”å›ä¸€ä¸ªæ ‡è®°ä¸º tag çš„æ´»åŠ¨ GameObjectã€‚å¦‚æœæœªæ‰¾åˆ° GameObjectï¼Œåˆ™è¿”å› nullã€‚ Find æŒ‰ name æŸ¥æ‰¾ GameObjectï¼Œç„¶åè¿”å›å®ƒã€‚ RigidbodyRigidbodyæ˜¯åˆšä½“ï¼Œå¯ä»¥ä¸ºæ¸¸æˆå¯¹è±¡èµ‹äºˆç‰©ç†å±æ€§ï¼Œå‘å¯¹è±¡æ·»åŠ  Rigidbody ç»„ä»¶åï¼Œå…¶è¿åŠ¨å°†å—åˆ° Unity ç‰©ç†å¼•æ“çš„æ§åˆ¶ã€‚å³ä½¿ä¸æ·»åŠ ä»»ä½•ä»£ç ï¼ŒRigidbody å¯¹è±¡ä¹Ÿå—åˆ°å‘ä¸‹çš„é‡åŠ›ï¼Œå¹¶åœ¨ä¸å…¶ä»–å¯¹è±¡ç¢°æ’æ—¶ä½œå‡ºååº”ï¼ˆéœ€æœ‰é€‚å½“çš„colliderï¼‰ position åˆšä½“çš„ä½ç½® rotation åˆšä½“çš„æ—‹è½¬ useGravity æ§åˆ¶é‡åŠ›æ˜¯å¦å½±å“è¯¥åˆšä½“ angularVelocity åˆšä½“çš„è§’é€Ÿåº¦çŸ¢é‡ï¼ˆä»¥å¼§åº¦/ç§’ä¸ºå•ä½ï¼‰ velocity åˆšä½“çš„é€Ÿåº¦çŸ¢é‡ AddForce å‘ Rigidbody æ·»åŠ åŠ› Sleep å¼ºåˆ¶åˆšä½“è¿›å…¥ç¡çœ çŠ¶æ€è‡³å°‘ä¸€å¸§ AddTorque å‘åˆšä½“æ·»åŠ æ‰­çŸ© Quaternionåœ¨APIä¸­çš„UnityEngine-&gt;classesï¼Œå››å…ƒæ•° 12Vector3 dir = hoopPoint.position - ballPoint.position;Quaternion wantedRotation = Quaternion.LookRotation(dir); Quaternion.LookRotation(dir)ä½¿ç”¨æŒ‡å®šçš„ forward å’Œ upwards æ–¹å‘åˆ›å»ºæ—‹è½¬ AngleAxis åˆ›å»ºä¸€ä¸ªå›´ç»• axis æ—‹è½¬ angle åº¦çš„æ—‹è½¬ LookRotation ä½¿ç”¨æŒ‡å®šçš„ forward å’Œ upwards æ–¹å‘åˆ›å»ºæ—‹è½¬ GameObject.GetComponentGameObject.GetComponent() åœ¨UnityEngine-&gt;classes-&gt;GameObject è¿”å› GameObject ä¸­ç±»å‹ä¸º type çš„æ‰€æœ‰ç»„ä»¶ ç¤ºä¾‹ï¼š 12345678void Start()&#123; Component[] hingeJoints; hingeJoints = GetComponents(typeof(HingeJoint)); foreach (HingeJoint joint in hingeJoints) joint.useSpring = false;&#125; ForceModeä½äºUnityEngine-&gt;Enumerations ä½¿ç”¨ ForceMode æŒ‡å®šå¦‚ä½•ä½¿ç”¨ Rigidbody.AddForce æ¥æ–½åŠ åŠ›ã€‚ AddForce å‡½æ•°å¯å®šä¹‰è‡ªå·±çš„åŠ›çŸ¢é‡ï¼Œä»¥åŠé€‰æ‹©å¦‚ä½•å°†æ­¤åŠ›æ–½åŠ äº GameObjectï¼ˆæ­¤ GameObject å¿…é¡»é™„åŠ æœ‰ Rigidbody ç»„ä»¶ï¼‰ï¼Œä»è€Œå½±å“æ‚¨çš„ GameObject çš„ç§»åŠ¨æ–¹å¼ã€‚ Force å‘æ­¤åˆšä½“æ·»åŠ è¿ç»­åŠ›ï¼Œä½¿ç”¨å…¶è´¨é‡ Acceleration å‘æ­¤åˆšä½“æ·»åŠ è¿ç»­åŠ é€Ÿåº¦ï¼Œå¿½ç•¥å…¶è´¨é‡ Impulse å‘æ­¤åˆšä½“æ·»åŠ ç¬æ—¶åŠ›å†²å‡»ï¼Œè€ƒè™‘å…¶è´¨é‡ VelocityChange å‘æ­¤åˆšä½“æ·»åŠ ç¬æ—¶é€Ÿåº¦å˜åŒ–ï¼Œå¿½ç•¥å…¶è´¨é‡ transformå¯¹è±¡çš„ä½ç½®ã€æ—‹è½¬å’Œç¼©æ”¾ æ¯ä¸ªå˜æ¢éƒ½å¯ä»¥æœ‰ä¸€ä¸ªçˆ¶çº§ï¼Œä½¿å¾—èƒ½å¤Ÿåˆ†å±‚åº”ç”¨ä½ç½®ã€æ—‹è½¬å’Œç¼©æ”¾ parent å˜æ¢çš„çˆ¶çº§ position ä¸–ç•Œç©ºé—´ä¸­çš„å˜æ¢ä½ç½® rotation ä¸€ä¸ªå››å…ƒæ•°ï¼Œç”¨äºå­˜å‚¨å˜æ¢åœ¨ä¸–ç•Œç©ºé—´ä¸­çš„æ—‹è½¬ localEulerAngles ä»¥æ¬§æ‹‰è§’è¡¨ç¤ºçš„ç›¸å¯¹äºçˆ¶å˜æ¢æ—‹è½¬çš„æ—‹è½¬ï¼ˆä»¥åº¦ä¸ºå•ä½ï¼‰ localPosition ç›¸å¯¹äºçˆ¶å˜æ¢çš„å˜æ¢ä½ç½® localRotation ç›¸å¯¹äºçˆ¶çº§å˜æ¢æ—‹è½¬çš„å˜æ¢æ—‹è½¬ localScale ç›¸å¯¹äºçˆ¶å¯¹è±¡çš„å˜æ¢ç¼©æ”¾ childCount çˆ¶å˜æ¢å…·æœ‰çš„å­é¡¹æ•° Camera.ScreenPointToRay1Ray ray = Camera.main.ScreenPointToRay(Input.mousePosition); Physics.Raycastå‚æ•°ï¼š origin å°„çº¿åœ¨ä¸–ç•Œåæ ‡ç³»ä¸­çš„èµ·ç‚¹ direction å°„çº¿çš„æ–¹å‘ maxDistance å°„çº¿åº”æ£€æŸ¥ç¢°æ’çš„æœ€å¤§è·ç¦» layerMask å±‚é®ç½©ï¼Œç”¨äºåœ¨æŠ•å°„å°„çº¿æ—¶æœ‰é€‰æ‹©åœ°å¿½ç•¥ç¢°æ’ä½“ queryTriggerInteraction æŒ‡å®šè¯¥æŸ¥è¯¢æ˜¯å¦åº”è¯¥å‘½ä¸­è§¦å‘å™¨ bool å¦‚æœå°„çº¿ä¸ä»»ä½•ç¢°æ’ä½“ç›¸äº¤ï¼Œè¿”å› trueï¼Œå¦åˆ™ä¸º falseã€‚ RaycastHitç”¨äºä»å°„çº¿æŠ•å°„è·å–ä¿¡æ¯çš„ç»“æ„ barycentricCoordinate å‘½ä¸­çš„ä¸‰è§’å½¢çš„é‡å¿ƒåæ ‡ collider å‘½ä¸­çš„ Collider distance ä»å°„çº¿åŸç‚¹åˆ°æ’å‡»ç‚¹çš„è·ç¦» lightmapCoord æ’å‡»ç‚¹å¤„çš„ UV å…‰ç…§è´´å›¾åæ ‡ normal å°„çº¿å‘½ä¸­çš„è¡¨é¢çš„æ³•çº¿ point ä¸–ç•Œç©ºé—´ä¸­å°„çº¿å‘½ä¸­ç¢°æ’ä½“çš„æ’å‡»ç‚¹ rigidbody å‘½ä¸­çš„ç¢°æ’ä½“çš„ Rigidbodyã€‚å¦‚æœè¯¥ç¢°æ’ä½“æœªé™„åŠ åˆ°åˆšä½“ï¼Œåˆ™å€¼ä¸º /null/ textureCoord ç¢°æ’ä½ç½®å¤„çš„ UV çº¹ç†åæ ‡ textureCoord2 æ’å‡»ç‚¹å¤„çš„è¾…åŠ© UV çº¹ç†åæ ‡ transform å‘½ä¸­çš„åˆšä½“æˆ–ç¢°æ’ä½“çš„ Transform triangleIndex å‘½ä¸­çš„ä¸‰è§’å½¢çš„ç´¢å¼• Collideræ‰€æœ‰ç¢°æ’ä½“çš„åŸºç±» BoxColliderã€SphereColliderã€CapsuleColliderã€MeshColliderã€PhysicMaterialã€Rigidbody å¦‚æœåœ¨æ¸¸æˆè¿‡ç¨‹ä¸­éœ€è¦ç§»åŠ¨å…·æœ‰ Collider çš„å¯¹è±¡ï¼Œè¿˜åº”å°† Rigidbody ç»„ä»¶é™„åŠ åˆ°è¯¥å¯¹è±¡ã€‚å¦‚æœä¸æƒ³ä½¿è¯¥å¯¹è±¡ä¸å…¶ä»–å¯¹è±¡è¿›è¡Œç‰©ç†äº¤äº’ï¼Œå¯å°† Rigidbody è®¾ç½®ä¸ºè¿åŠ¨åˆšä½“ å˜é‡ï¼š attachedRigidbody ç¢°æ’ä½“é™„åŠ åˆ°çš„åˆšä½“ bounds ç¢°æ’ä½“çš„ä¸–ç•Œç©ºé—´åŒ…å›´ä½“ç§¯ï¼ˆåªè¯»ï¼‰ contactOffset è¯¥ç¢°æ’ä½“çš„æ¥è§¦åç§»å€¼ enabled å¯ç”¨çš„ Collider å°†ä¸å…¶ä»– Collider ç¢°æ’ï¼Œç¦ç”¨çš„ Collider ä¸ä¼šè¿™æ · isTrigger ç¢°æ’ä½“æ˜¯ä¸æ˜¯è§¦å‘å™¨ material ç¢°æ’ä½“ä½¿ç”¨çš„æè´¨ sharedMaterial è¯¥ç¢°æ’ä½“çš„å…±äº«ç‰©ç†æè´¨ æ¶ˆæ¯ï¼š OnCollisionEnter å½“è¯¥ç¢°æ’ä½“/åˆšä½“å·²å¼€å§‹æ¥è§¦å¦ä¸€ä¸ªåˆšä½“/ç¢°æ’ä½“æ—¶ï¼Œè°ƒç”¨ OnCollisionEnter OnCollisionExit å½“è¯¥ç¢°æ’ä½“/åˆšä½“å·²åœæ­¢æ¥è§¦å¦ä¸€ä¸ªåˆšä½“/ç¢°æ’ä½“æ—¶ï¼Œè°ƒç”¨ OnCollisionExit OnCollisionStay å¯¹åº”æ­£åœ¨æ¥è§¦åˆšä½“/ç¢°æ’ä½“çš„æ¯ä¸€ä¸ªç¢°æ’ä½“/åˆšä½“ï¼Œæ¯å¸§è°ƒç”¨ä¸€æ¬¡ OnCollisionStay OnTriggerEnter å½“ Collider other äº‹ä»¶è¿›å…¥è¯¥è§¦å‘å™¨æ—¶è°ƒç”¨ OnTriggerEnter OnTriggerExit å½“ Collider other å·²åœæ­¢æ¥è§¦è¯¥è§¦å‘å™¨æ—¶è°ƒç”¨ OnTriggerExit OnTriggerStay å¯¹äºæ­£åœ¨æ¥è§¦è¯¥è§¦å‘å™¨çš„æ¯ä¸ªå…¶ä»– Colliderï¼Œâ€œå‡ ä¹â€æ‰€æœ‰å¸§éƒ½è°ƒç”¨ OnTriggerStayã€‚æ­¤å‡½æ•°ä½äºç‰©ç†è®¡æ—¶å™¨ä¸Šï¼Œå› æ­¤å®ƒä¸å¿…è¿è¡Œæ¯ä¸ªå¸§ ç»§æ‰¿çš„æˆå‘˜å˜é‡ï¼š gameObject æ­¤ç»„ä»¶é™„åŠ åˆ°çš„æ¸¸æˆå¯¹è±¡ã€‚å§‹ç»ˆå°†ç»„ä»¶é™„åŠ åˆ°æ¸¸æˆå¯¹è±¡ tag æ­¤æ¸¸æˆå¯¹è±¡çš„æ ‡ç­¾ transform é™„åŠ åˆ°æ­¤ GameObject çš„ Transform hideFlags è¯¥å¯¹è±¡åº”è¯¥éšè—ã€éšåœºæ™¯ä¸€èµ·ä¿å­˜è¿˜æ˜¯ç”±ç”¨æˆ·ä¿®æ”¹ name å¯¹è±¡çš„åç§° å…¬å…±å‡½æ•°ï¼š BroadcastMessage è°ƒç”¨æ­¤æ¸¸æˆå¯¹è±¡æˆ–å…¶ä»»ä½•å­é¡¹ä¸­çš„æ¯ä¸ª MonoBehaviour ä¸Šåä¸º methodName çš„æ–¹æ³• CompareTag æ­¤æ¸¸æˆå¯¹è±¡æ˜¯å¦ä½¿ç”¨ tag è¿›è¡Œäº†æ ‡è®° GetComponent å¦‚æœæ¸¸æˆå¯¹è±¡é™„åŠ äº†ç±»å‹ä¸º type çš„ç»„ä»¶ï¼Œåˆ™å°†å…¶è¿”å›ï¼Œå¦åˆ™è¿”å› null GetComponentInChildren ä½¿ç”¨æ·±åº¦é¦–æ¬¡æœç´¢è¿”å› GameObject æˆ–å…¶ä»»ä½•å­é¡¹ä¸­ç±»å‹ä¸º type çš„ç»„ä»¶ GetComponentInParent è¿”å› GameObject æˆ–å…¶ä»»ä½•çˆ¶é¡¹ä¸­ç±»å‹ä¸º type çš„ç»„ä»¶ GetComponents è¿”å› GameObject ä¸­ç±»å‹ä¸º type çš„æ‰€æœ‰ç»„ä»¶ GetComponentsInChildren è¿”å› GameObject æˆ–å…¶ä»»ä½•å­é¡¹ä¸­ç±»å‹ä¸º type çš„æ‰€æœ‰ç»„ä»¶ GetComponentsInParent è¿”å› GameObject æˆ–å…¶ä»»ä½•çˆ¶é¡¹ä¸­ç±»å‹ä¸º type çš„æ‰€æœ‰ç»„ä»¶ SendMessage è°ƒç”¨æ­¤æ¸¸æˆå¯¹è±¡ä¸­çš„æ¯ä¸ª MonoBehaviour ä¸Šåä¸º methodName çš„æ–¹æ³• SendMessageUpwards è°ƒç”¨æ­¤æ¸¸æˆå¯¹è±¡ä¸­çš„æ¯ä¸ª MonoBehaviour ä¸Šæˆ–æ­¤è¡Œä¸ºçš„æ¯ä¸ªçˆ¶çº§ä¸Šåä¸º methodName çš„æ–¹æ³• GetInstanceID è¿”å›å¯¹è±¡çš„å®ä¾‹ ID ToString è¿”å› GameObject çš„åç§° é™æ€å‡½æ•°ï¼š Destroy åˆ é™¤ GameObjectã€ç»„ä»¶æˆ–èµ„æº DestroyImmediate ç«‹å³é”€æ¯å¯¹è±¡ /obj/ã€‚å¼ºçƒˆå»ºè®®æ‚¨æ”¹ç”¨ Destroy DontDestroyOnLoad åœ¨åŠ è½½æ–°çš„ Scene æ—¶ï¼Œè¯·å‹¿é”€æ¯ Object FindObjectOfType è¿”å›ç¬¬ä¸€ä¸ªç±»å‹ä¸º type çš„å·²åŠ è½½çš„æ¿€æ´»å¯¹è±¡ FindObjectsOfType è¿”å›æ‰€æœ‰ç±»å‹ä¸º type çš„å·²åŠ è½½çš„æ¿€æ´»å¯¹è±¡çš„åˆ—è¡¨ Instantiate å…‹éš† original å¯¹è±¡å¹¶è¿”å›å…‹éš†å¯¹è±¡ C#outoutåŒrefä¸€æ ·ï¼Œéƒ½æ˜¯æœ‰ä¸€çº§åœ°å€ä¼ é€’çš„ï¼Œä¹Ÿå°±æ˜¯ï¼Œå¸¦æœ‰è¿™ä¸¤ä¸ªä¿®é¥°ç¬¦çš„å‚æ•°ï¼Œå¦‚æœè¢«ä¿®æ”¹äº†åŸæ¥çš„å€¼ï¼Œå°†ä»¥æ–°çš„å€¼ä½œä¸ºä»–çš„å€¼ï¼ˆåœ¨å‡½æ•°æ‰§è¡Œå®Œæ¯•åï¼Œè¯¥å‚æ•°çš„å€¼å°†è¿”å›ç»™å‡½æ•°è°ƒç”¨ä¸­ä½¿ç”¨çš„å˜é‡ï¼Œæœ‰ç‚¹åƒC++ &amp;ï¼‰ åœ¨å‡½æ•°ä¸­ä½¿ç”¨outå‚æ•°æ—¶ï¼Œå¿…é¡»å°†å…¶çœ‹æˆå°šæœªèµ‹å€¼ã€‚ä¹Ÿå°±æ˜¯è¯´è°ƒç”¨ä»£ç å¯ä»¥æŠŠå·²èµ‹å€¼çš„å˜é‡ç”¨ä½œoutå‚æ•°ï¼Œä½†åœ¨å‡½æ•°æ‰§è¡Œæ—¶è¯¥å˜é‡çš„å€¼ä¼šä¸¢å¤±ï¼Œæ‰€ä»¥å°±ç®—åœ¨å‡½æ•°å¤–å·²ç»åˆå§‹åŒ–ï¼Œåœ¨å‡½æ•°å†…ä¹Ÿè¦é‡æ–°åˆå§‹åŒ– ç¤ºä¾‹ï¼š // ç¬¬ä¸€è¡Œhitä¸ç”¨åˆå§‹åŒ–ï¼Œå‚æ•°ä¸­hitå‰åŠ outï¼Œå°½ç®¡Physics.Raycastè¿”å›boolï¼Œhitå·²åœ¨å…¶ä¸­èµ‹å€¼ï¼Œæ‰€ä»¥ä¸‹ä¸€ä¸ªifè¯­å¥ä¸­hitå¯ä»¥è°ƒç”¨å…¶å¯¹è±¡çš„å±æ€§æ–¹æ³• 123456789101112131415RaycastHit hit;if (Physics.Raycast(ray, out hit, 1000, 1 &lt;&lt; 8)) &#123; if (hit.collider.gameObject.tag == &quot;Basketball&quot; &amp;&amp; !hit.collider.gameObject.GetComponent&lt;BSKBall&gt;().IsShooting()) &#123; currentBall = hit.collider.gameObject; Rigidbody r = currentBall.GetComponent&lt;Rigidbody&gt;(); r.isKinematic = true; Vector3 touchPoint = Camera.main.ScreenToWorldPoint(Input.mousePosition + new Vector3(0, 0, depth)); touchPoint.x = Mathf.Clamp(touchPoint.x, leftEdge.transform.position.x + 0.29f, rightEdge.transform.position.x - 0.29f); touchPoint.y = selectBallPosY; currentBall.transform.position = touchPoint; &#125; &#125; Unityåæ ‡å››ç§åæ ‡ï¼šä¸–ç•Œåæ ‡(World Space)ï¼šæ¸¸æˆç‰©ä½“åœ¨åˆ›é€ çš„ä¸–ç•Œä¸­çš„åæ ‡ transfrom.positionè·å¾—çš„æ˜¯ç‰©ä½“ç›¸å¯¹äºä¸–ç•Œåæ ‡çš„ä½ç½® transfrom.localPositionè·å¾—çš„æ˜¯ç‰©ä½“ç›¸å¯¹äºçˆ¶ç‰©ä½“åæ ‡çš„ä½ç½® å±å¹•åæ ‡(Screen Space)ï¼šä»¥åƒç´ è®° è§†å£åæ ‡(Viewport Space)ï¼šå°†å±å¹•åæ ‡å•ä½åŒ– åæ ‡è½¬æ¢ï¼šç‰©ä½“Bç›¸å¯¹äºç‰©ä½“Açš„å±€éƒ¨åæ ‡ï¼šA.transform.InverseTransformPoint(B) å±å¹•åæ ‡è½¬ä¸–ç•Œåæ ‡ï¼šCamera.main.ScreenToWorldPoint 12Vector3 mousePos = Input.mousePosition;Vector3 screenToWorld = Camera.main.ScreenToWorldPoint(new Vector3(mousePos.x, mousePos.y, -Camera.main.transform.position.z)); ä¸–ç•Œåæ ‡è½¬å±å¹•åæ ‡ï¼šCamera.main.WorldToScreenPoint 1Vector3 worldToScreen = Camera.main.WorldToScreenPoint(transform.position); Mathf.Clampåœ¨ç»™å®šçš„æœ€å°æµ®ç‚¹å€¼å’Œæœ€å¤§æµ®ç‚¹å€¼ä¹‹é—´é’³åˆ¶ç»™å®šå€¼ã€‚å¦‚æœåœ¨æœ€å°å’Œæœ€å¤§èŒƒå›´å†…ï¼Œåˆ™è¿”å›ç»™å®šå€¼ å¦‚æœç»™å®šçš„æµ®ç‚¹å€¼å°äºæœ€å°å€¼ï¼Œåˆ™è¿”å›æœ€å°å€¼ã€‚å¦‚æœç»™å®šå€¼å¤§äºæœ€å¤§å€¼ï¼Œåˆ™è¿”å›æœ€å¤§å€¼ã€‚ä½¿ç”¨ Clamp å¯å°†æŸä¸ªå€¼é™åˆ¶ä¸ºæœ€å°å€¼å’Œæœ€å¤§å€¼å®šä¹‰çš„æŸä¸ªèŒƒå›´å†… å˜é‡ gameObject æ­¤ç»„ä»¶é™„åŠ åˆ°çš„æ¸¸æˆå¯¹è±¡ã€‚å§‹ç»ˆå°†ç»„ä»¶é™„åŠ åˆ°æ¸¸æˆå¯¹è±¡ã€‚ tag æ­¤æ¸¸æˆå¯¹è±¡çš„æ ‡ç­¾ã€‚ transform é™„åŠ åˆ°æ­¤ GameObject çš„ Transformã€‚ å…¬å…±å‡½æ•° BroadcastMessage è°ƒç”¨æ­¤æ¸¸æˆå¯¹è±¡æˆ–å…¶ä»»ä½•å­é¡¹ä¸­çš„æ¯ä¸ª MonoBehaviour ä¸Šåä¸º methodName çš„æ–¹æ³•ã€‚ CompareTag æ­¤æ¸¸æˆå¯¹è±¡æ˜¯å¦ä½¿ç”¨ tag è¿›è¡Œäº†æ ‡è®°ï¼Ÿ GetComponent å¦‚æœæ¸¸æˆå¯¹è±¡é™„åŠ äº†ç±»å‹ä¸º type çš„ç»„ä»¶ï¼Œåˆ™å°†å…¶è¿”å›ï¼Œå¦åˆ™è¿”å› nullã€‚ GetComponentInChildren ä½¿ç”¨æ·±åº¦é¦–æ¬¡æœç´¢è¿”å› GameObject æˆ–å…¶ä»»ä½•å­é¡¹ä¸­ç±»å‹ä¸º type çš„ç»„ä»¶ã€‚ GetComponentInParent è¿”å› GameObject æˆ–å…¶ä»»ä½•çˆ¶é¡¹ä¸­ç±»å‹ä¸º type çš„ç»„ä»¶ã€‚ GetComponents è¿”å› GameObject ä¸­ç±»å‹ä¸º type çš„æ‰€æœ‰ç»„ä»¶ã€‚ GetComponentsInChildren è¿”å› GameObject æˆ–å…¶ä»»ä½•å­é¡¹ä¸­ç±»å‹ä¸º type çš„æ‰€æœ‰ç»„ä»¶ã€‚ GetComponentsInParent è¿”å› GameObject æˆ–å…¶ä»»ä½•çˆ¶é¡¹ä¸­ç±»å‹ä¸º type çš„æ‰€æœ‰ç»„ä»¶ã€‚ SendMessage è°ƒç”¨æ­¤æ¸¸æˆå¯¹è±¡ä¸­çš„æ¯ä¸ª MonoBehaviour ä¸Šåä¸º methodName çš„æ–¹æ³•ã€‚ SendMessageUpwards è°ƒç”¨æ­¤æ¸¸æˆå¯¹è±¡ä¸­çš„æ¯ä¸ª MonoBehaviour ä¸Šæˆ–æ­¤è¡Œä¸ºçš„æ¯ä¸ªçˆ¶çº§ä¸Šåä¸º methodName çš„æ–¹æ³•ã€‚ ç»§æ‰¿çš„æˆå‘˜å˜é‡ hideFlags è¯¥å¯¹è±¡åº”è¯¥éšè—ã€éšåœºæ™¯ä¸€èµ·ä¿å­˜è¿˜æ˜¯ç”±ç”¨æˆ·ä¿®æ”¹ï¼Ÿ name å¯¹è±¡çš„åç§°ã€‚ å…¬å…±å‡½æ•° GetInstanceID è¿”å›å¯¹è±¡çš„å®ä¾‹ IDã€‚ ToString è¿”å› GameObject çš„åç§°ã€‚ Componenté™„åŠ åˆ° GameObject çš„æ‰€æœ‰å†…å®¹çš„åŸºæœ¬ç±» æ³¨ï¼šä»£ç ä¸ä¼šç›´æ¥åˆ›å»º Componentï¼Œè€Œæ˜¯ç¼–å†™è„šæœ¬ä»£ç ï¼Œç„¶åå°†è¯¥è„šæœ¬é™„åŠ åˆ°GameObject ResourcesResources ç±»å…è®¸æ‚¨æŸ¥æ‰¾å’Œè®¿é—®èµ„æºç­‰å¯¹è±¡ åœ¨ç¼–è¾‘å™¨ä¸­ï¼ŒResources.FindObjectsOfTypeAll å¯ç”¨äºå®šä½èµ„æºå’Œåœºæ™¯å¯¹è±¡ é€šè¿‡ Resources.Load å‡½æ•°ï¼Œå¯è®¿é—® Assets æ–‡ä»¶å¤¹ä¸­å¤„äºä»»æ„ä½ç½®çš„åä¸ºâ€œResourcesâ€çš„æ–‡ä»¶å¤¹ä¸­çš„æ‰€æœ‰èµ„æºã€‚ å¯ä»¥å­˜åœ¨å¤šä¸ªâ€œResourcesâ€æ–‡ä»¶å¤¹ï¼ŒåŠ è½½å¯¹è±¡æ—¶ï¼Œå°†å¯¹æ¯ä¸ªæ–‡ä»¶å¤¹è¿›è¡Œæ£€æŸ¥ æ³¨æ„ï¼šAssets ä¸­çš„ Resources æ–‡ä»¶å¤¹éœ€è¦åœ¨ä½¿ç”¨å‰åˆ›å»ºã€‚åˆ›å»ºæ–°é¡¹ç›®æ—¶ï¼Œä¸ä¼šåˆ›å»ºè¯¥æ–‡ä»¶å¤¹ é™æ€å‡½æ•°ï¼šï¼ˆå‡½æ•°è°ƒç”¨çš„ç»“æœä¸ä¼šè®¿é—®æˆ–è€…ä¿®æ”¹ä»»ä½•å¯¹è±¡ï¼ˆéstaticï¼‰æ•°æ®æˆå‘˜ï¼Œè¿™æ ·çš„æˆå‘˜å£°æ˜ä¸ºé™æ€æˆå‘˜å‡½æ•°æ¯”è¾ƒå¥½ï¼‰ FindObjectsOfTypeAll è¿”å›æ‰€æœ‰ç±»å‹ä¸º type çš„å¯¹è±¡çš„åˆ—è¡¨ã€‚ Load åŠ è½½å­˜å‚¨åœ¨ Resources æ–‡ä»¶å¤¹ä¸­çš„ path å¤„çš„èµ„æºã€‚ LoadAll åŠ è½½ä½äº Resources æ–‡ä»¶å¤¹ä¸­çš„ path å¤„çš„æ–‡ä»¶å¤¹ä¸­çš„æ‰€æœ‰èµ„æºï¼Œæˆ–åŠ è½½ä½äºè¯¥å¤„çš„æ–‡ä»¶ã€‚ LoadAsync å¼‚æ­¥åŠ è½½å­˜å‚¨åœ¨ Resources æ–‡ä»¶å¤¹ä¸­çš„ path å¤„çš„èµ„æºã€‚ UnloadAsset ä»å†…å­˜ä¸­å¸è½½ /assetToUnload/ã€‚ UnloadUnusedAssets å¸è½½æœªä½¿ç”¨çš„èµ„æºã€‚ Laya APIRigidbody3Då¯¹åº”äºUnityä¸­Rigidbody.AddForceï¼ŒRigidbody.AddTorqueï¼Œ Layaæä¾›çš„ç±»ä¸ºRigidbody3Dï¼Œå¯¹åº”çš„æ–¹æ³•ä¸ºRigidbody3D.applyForceï¼ŒRigidbody3D.applyTorque 12345applyForce(force: Vector3, localOffset?: Vector3): voidapplyImpulse(impulse: Vector3, localOffset?: Vector3): voidapplyTorque(torque: Vector3): void","categories":[{"name":"Unity","slug":"Unity","permalink":"https://chasencenge.github.io/categories/Unity/"},{"name":"Laya","slug":"Unity/Laya","permalink":"https://chasencenge.github.io/categories/Unity/Laya/"},{"name":"C#","slug":"Unity/Laya/C","permalink":"https://chasencenge.github.io/categories/Unity/Laya/C/"},{"name":"TypeScript","slug":"Unity/Laya/C/TypeScript","permalink":"https://chasencenge.github.io/categories/Unity/Laya/C/TypeScript/"}],"tags":[{"name":"Laya","slug":"Laya","permalink":"https://chasencenge.github.io/tags/Laya/"},{"name":"TypeScript","slug":"TypeScript","permalink":"https://chasencenge.github.io/tags/TypeScript/"},{"name":"Unity","slug":"Unity","permalink":"https://chasencenge.github.io/tags/Unity/"},{"name":"C#","slug":"C","permalink":"https://chasencenge.github.io/tags/C/"}]},{"title":"Pythonå®ç°LoraèŠ‚ç‚¹æ‹“æ‰‘è‡ªåŠ¨è§„åˆ’","slug":"Pythonå®ç°LoraèŠ‚ç‚¹æ‹“æ‰‘è‡ªåŠ¨è§„åˆ’","date":"2020-07-20T02:57:58.000Z","updated":"2020-07-21T08:19:28.548Z","comments":true,"path":"2020/07/20/Pythonå®ç°LoraèŠ‚ç‚¹æ‹“æ‰‘è‡ªåŠ¨è§„åˆ’/","link":"","permalink":"https://chasencenge.github.io/2020/07/20/Pythonå®ç°LoraèŠ‚ç‚¹æ‹“æ‰‘è‡ªåŠ¨è§„åˆ’/","excerpt":"","text":"NodeClass.py:123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215216217# å°è®°ï¼š# å…ˆä¸è€ƒè™‘ä¸­ç»§èŠ‚ç‚¹åœ¨classBæ¨¡å¼ä¸‹å‘Beaconçš„èƒ½è€—# èƒ½é‡æ•ˆç‡çš„è®¡ç®—å…¬å¼æ˜¯å¦æœ‰é—®é¢˜ï¼Ÿåªè€ƒè™‘å‘åŒ…çš„èƒ½è€—å’Œæ—¶é—´# energyConsumptionéœ€ç»Ÿä¸€æˆè‡ªå·±åœ¨lifetimeä¸­çš„èƒ½é‡æ¶ˆè€—æ¨å¯¼ï¼Œä¸å†ç”¨è®ºæ–‡ä¸­ç¬¼ç»Ÿçš„æŠ˜çº¿å›¾å€¼# æ³¨æ„åŒºåˆ†self.sendTo.indexå’Œä¸€äº›å‡½æ•°ä¸­çš„node.indexçš„åŒºåˆ«ï¼Œå‰è€…ä½¿ç”¨çš„åœºæ™¯åœ¨ç¡®å®šèŠ‚ç‚¹æ‹“æ‰‘ä¹‹åï¼Œåè€…ä½¿ç”¨åœ¨ç¡®å®šèŠ‚ç‚¹æ‹“æ‰‘ä¹‹å‰çš„ä¸€äº›éå†æƒ…å†µimport mathimport numpy as np# pythonä¸­çš„publicã€privateå’Œprotectedæ˜¯é€šè¿‡å˜é‡åå‰çš„ä¸‹åˆ’çº¿æ ‡è¯†çš„ï¼Œä¿æŠ¤ç±»å‹ä¸€ä¸ªä¸‹åˆ’çº¿ï¼Œç§æœ‰ç±»å‹ä¸¤ä¸ªä¸‹åˆ’çº¿class Node: def __init__(self, name, locX, locY, nodeNum, _payload, _bandW, _c, _pi, _beta, _whiteNoise, _dutyCycle, _batteryE, _dataGen, _cycleT, _transRadioE, _recvRadioE, _spareRadioE, _offRadioE, _onMcuE, _offMcuE, isGateway=0, whichSet=0, index=0): # é»˜è®¤ç¼ºçœå€¼isGateway=0 self.name = name self.payload = _payload self.bandW = _bandW self.c = _c self.pi = _pi self.beta = _beta self.whiteNoise = _whiteNoise self.dutyCycle = _dutyCycle self.batteryE = _batteryE # æ¯ç¡®å®šè¦å¤šä¸ºå¦ä¸€ä¸ªèŠ‚ç‚¹è¿›è¡Œä¸­ç»§ï¼ŒdataGenéœ€è¦æ›´æ–°æ·»åŠ å¸®å¿™è½¬å‘çš„æ•°æ®é‡ self.dataGen = _dataGen self.cycleT = _cycleT self.transRadioE = _transRadioE self.recvRadioE = _recvRadioE self.spareRadioE = _spareRadioE self.offRadioE = _offRadioE self.onMcuE = _onMcuE self.offMcuE = _offMcuE # æ³¨æ„å’ŒdataGençš„åŒºåˆ«ï¼Œè¿™ä¸ªå˜é‡æ˜¯èŠ‚ç‚¹å‘é€ç»™èŠ‚ç‚¹/ç½‘å…³çš„æ€»æ•°æ®é‡ï¼Œå¸¦æœ‰ä¸­ç»§æ•°æ® self.dataSend = _dataGen self.lifeT = 0.0 self.cycleE = 0.0 self.symbleT = 0.0 self.pktT = 0.0 self.transT = 0.0 self.recvT = 0.0 self.spareT = 0.0 self.airtime = 0.0 self.goodput = 0.0 # ç”¨äºMSTä¸­åˆ¤æ–­èŠ‚ç‚¹åœ¨å“ªä¸ªé›†åˆä¸­,åˆå§‹é›†åˆä¸º0ï¼ŒMSTé›†åˆä¸º1 self.whichSet = whichSet # æ ‡è¯†ä¸€ä¸ªâ€œèŠ‚ç‚¹â€æ˜¯å¦æ˜¯ç½‘å…³ï¼Œè¾“å…¥ä¸­ç¬¬ä¸€ä¸ªâ€œç‚¹â€ä¸ºç½‘å…³ï¼Œåæ ‡[0, 0] self.isGateway = isGateway self.locX = locX self.locY = locY # ç»™èŠ‚ç‚¹ä¸€ä¸ªç´¢å¼•æ ‡è¯† self.index = index self.relayNum = 0 # å­˜æ”¾äº†æ­¤èŠ‚ç‚¹é€šå¾€å…¶ä»–èŠ‚ç‚¹æ—¶ä½¿ç”¨çš„å‚æ•°å€¼ self.spreadFactor = [7 for i in range(nodeNum)] self.transPower = [13 for i in range(nodeNum)] self.channel = [1 for i in range(nodeNum)] self.codingRate = [5 for i in range(nodeNum)] self.pdr = 0.0 # æ ‡è¯†æ­¤èŠ‚ç‚¹çš„æ•°æ®ç›´æ¥å‘é€ç»™å“ªä¸ªèŠ‚ç‚¹ï¼Œä¸ºNodeç±»å‹ self.sendTo = self # æ ‡è¯†æ­¤èŠ‚ç‚¹å¸®åŠ©å“ªäº›èŠ‚ç‚¹è¿›è¡Œæ•°æ®è½¬å‘ self.relayFrom = [] # æ ‡è¯†æ­¤èŠ‚ç‚¹å·¥ä½œåœ¨å“ªä¸ªclassä¸‹ï¼Œclassä¼šå½±å“cycleE self.workClass = 'A' # self._prop = [] def distNode(self, node): dist = math.pow((math.pow((self.locX - node.locX), 2) + math.pow((self.locY - node.locY), 2)), 0.5) # print(self.locX) # print(self.locY) # print(node.locX) # print(node.locY) print('Distance of ' + self.name + ' to ' + node.name + ' = ' + str(dist)) return dist # 8ä¸ªä¿¡é“ï¼Œä»902.1å¼€å§‹æ¯æ¬¡åŠ 0.2 def freq(self, node): frequency = 902.1 + 0.2 * self.channel[node.index] frequency *= math.pow(10, 6) print('Frequency of channel ' + str(self.channel[node.index]) + ' = ' + str(frequency)) return frequency # Rayleigh fading channel def g(self): reyleigh = np.random.exponential(1.0, size=None) print(self.name + ' return rayleigh fading channel g of: ' + str(reyleigh)) return reyleigh # æ­¤ä¸ºè®ºæ–‡ä¸­çš„æŠ˜çº¿å›¾å€¼è§‚æµ‹å€¼å®ç°çš„èƒ½è€—å‡½æ•°ï¼Œç°æ›¿æ¢æˆè®¡ç®—å¼æ–¹å¼å®ç° # energy consumption, unit is mW def enerConsump(self, node): energyPacket = [[40, 50], [50, 67], [65, 85], [95, 105], [100, 125], [110, 135]] clsP = 0 if self.transPower[node.index] &lt;= 15: cls_p = 0 else: cls_p = 1 clsS = self.spreadFactor[node.index] - 7 # rst = energy_packet[cls_s][cls_p] * 0.001 rst = energyPacket[clsS][clsP] # print(\"ec(line 70, unit is mW):\", rst) name = self.name sf = str(self.spreadFactor[node.index]) tp = str(self.transPower[node.index]) # åªæ˜¯ä¸ºäº†ä¸‹ä¸€è¡Œä¸è¶…é•¿... print('Energy Consumption of ' + name + ' with sf=' + sf + ', tp=' + tp + ' is: ' + str(rst)) return rst # å…¬å¼è®¡ç®—æ–¹å¼æ±‚energy consumption # def enerConsump(self): def th(self, si): if si == 7: return -6 elif si == 8: return -9 elif si == 9: return -12 elif si == 10: return -15 elif si == 11: return -17.5 elif si == 12: return -20 def ss(self, si): if si == 7: return -123 elif si == 8: return -126 elif si == 9: return -129 elif si == 10: return -132 elif si == 11: return -134.5 elif si == 12: return -137 def tomWatt(self, dBm): mWatt = math.pow(10, (dBm / 10)) # print(self.name + ' dBm to mWatt is: ' + str(mWatt)) return mWatt def energyEffi(self, node): tempVar = (8 * self.payload - 4 * self.spreadFactor[node.index] + 28 + 16) / (4 * self.spreadFactor[node.index]) time = (20.25 + max(math.ceil(tempVar) * self.channel[node.index], 0)) * 2 ** self.spreadFactor[node.index] / self.bandW energyInTime = time * self.enerConsump(node) energyEfficiency = self.payload * self.selfToNodePdr(node) / energyInTime print('EnergyEfficiency of ' + self.name + ' is: ' + str(energyEfficiency)) return energyEfficiency # å°†è®¾å¤‡é‡å æ•°è€ƒè™‘è¿›æ¥ï¼Œé‡å ã€channelä¼šé™ä½pdr def selfToNodePdr(self, node): # tempVal1æ˜¯è·¯å¾„æŸå¤±å‡½æ•° tempVar1 = (self.c / (4 * self.pi * self.freq(node) * self.distNode(node))) ** self.beta # print('tempVar1:', tempVar1) tempVar2 = (self.tomWatt(self.th(self.spreadFactor[node.index])) * self.whiteNoise + self.tomWatt( self.ss(self.spreadFactor[node.index]))) # print('tempVar2:', tempVar2) # è¿™åœ°æ–¹è¿˜æ˜¯æœ‰é—®é¢˜ï¼ï¼ï¼ï¼ä¸ºä»€ä¹ˆæ˜¯/1000/1000ï¼Œå¯¹æ¯”æ³¨é‡Šè¡Œ # pdr = math.exp(-math.pow(tempVar2 / (self.tomWatt(self.transPower) * tempVar1), 0.5)) pdr = math.exp(-math.pow(tempVar2 / (self.transPower[node.index] * tempVar1), 0.5) / 1000 / 1000) print('Pdr of ' + self.name + ' to ' + node.name + ' is: ' + str(pdr)) return pdr # ä¸»æ–‡ä»¶é‡Œå…ˆç¡®å®šsendToè°ï¼Œå†æ›´æ–°transTå€¼ def updateTransT(self): self.symbleT = math.pow(2, self.spreadFactor[self.sendTo.index]) / self.bandW tempVal1 = 8 * self.payload - 4 * self.spreadFactor[self.sendTo.index] + 28 + 16 tempVal2 = 20.25 + max(math.ceil(tempVal1 / (4 * self.spreadFactor[self.sendTo.index])) * self.codingRate[self.sendTo.index], 0) self.pktT = self.symbleT * tempVal2 # è®¡ç®—transT # æ­¤èŠ‚ç‚¹å°†æ•°æ®ï¼ˆåŒ…æ‹¬è‡ªå·±çš„å’Œä¸­è½¬çš„ï¼‰å‘ç»™å…¶å°†è¦å‘è‡³çš„èŠ‚ç‚¹æ—¶çš„pdr pdr = self.selfToNodePdr(self.sendTo) if pdr != 0: if self.relayFrom: for child in self.relayFrom: # æ ¹æ®ä¸­ç»§äº†å“ªäº›èŠ‚ç‚¹æ¥æ›´æ–°dataSendçš„æ•°æ®é‡ï¼ŒdataSendæ˜¯æ­¤èŠ‚ç‚¹æ€»å…±å‘é€çš„æ•°æ®é‡ # è‹¥æ­¤èŠ‚ç‚¹éä¸­ç»§èŠ‚ç‚¹ï¼Œåˆ™dataSend == dataGen self.dataSend += child.dataGen self.transT = self.pktT * self.cycleT / self.dataSend / pdr else: self.transT = 10000 return self.transT # ç¡®å®šåœ¨self.relayFromä¸­æ·»åŠ å®Œæ‰€æœ‰çš„è¿œç«¯èŠ‚ç‚¹åå†è¿›è¡Œæ›´æ–° def updateRecvT(self): # è®¡ç®—recvTï¼Œæ­¤æ—¶é—´åŒ…æ‹¬è‡ªèº«å‘é€æ—¶çš„class Aæ¨¡å¼çš„éƒ¨åˆ†å’Œä¸­ç»§æ—¶class Bæ¨¡å¼çš„recv time # æ²¡è€ƒè™‘ä½œä¸ºå‘é€ç«¯æ—¶çš„recvTï¼Œå› ä¸ºå‘é€æ—¶å·¥ä½œåœ¨classAï¼Œåªåœ¨å‘é€æ•°æ®çš„æ—¶å€™é¡ºä¾¿å¼€ä¸€ä¸ªçª—å£æ¥æ”¶æ•°æ®ï¼Œæš‚æ—¶ä¸çŸ¥é“çª—å£æ€»æ—¶é•¿ if self.relayFrom: if self.relayFrom: for child in self.relayFrom: self.recvT += child.transT print('Update transT of ' + self.name + ' to: ' + str(self.recvT)) return self.recvT def lifetime(self): # è®¾ç½®transRadioEçº§åˆ«ï¼ˆ87å’Œ120ï¼‰ if self.transPower[self.sendTo.index] &lt; 15: self.transRadioE = 3.3 * 87e-3 self.spareT = self.dutyCycle * self.cycleT - self.transT - self.recvT radioOnE = self.transT * self.transRadioE + self.recvT * self.recvRadioE + self.spareT * self.spareRadioE radioOffE = (1 - self.dutyCycle) * self.cycleT * self.offRadioE mcuE = self.cycleT * self.dutyCycle * self.onMcuE + self.cycleT * (1 - self.dutyCycle) * self.offMcuE self.cycleE = radioOnE + radioOffE + mcuE self.lifeT = self.cycleT * self.batteryE / self.cycleE / 3600 / 24 print('Lifetime of ' + self.name + ' is: ' + str(self.lifeT)) return self.lifeT def goodput(self): # æ³¨æ„ï¼šgoodputä¸­è®¡ç®—çš„æ•°æ®é‡ç”¨çš„æ˜¯dataGenï¼Œè€Œä¸æ˜¯dataSend goodput = self.cycleT / self.dataGen * self.payload / self.transT print('Goodput of ' + self.name + ' is: ' + goodput) return goodput TopoWithMST.py:123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199from MST.Node.NodeClass import Nodeimport randomimport numpy as npimport mathimport matplotlib.pyplot as pltimport scipy as syfrom scipy import statsimport xlsxwriter# å¸¸é‡ï¼Œå…¨å±€å˜é‡å‡ä»¥â€œ_â€å¼€å¤´å‘½å_nodeNum = 6 # device number_payload = 4 # payload size of a packet, need to be modified_bandW = 125000_c = 3 * 10 ** 8_pi = 3.1415926_beta = 3 # path loss exponent, maybe a list, need to be init_whiteNoise = random.random() # gauss white noise_dutyCycle = 0.02_batteryE = 3.7 * 2 * 3600_dataGen = 2000# Radioè€—ç”µå¸¸é‡_cycleT = 3600 * 12_transRadioE = 3.3 * 120e-3 # 29, 87, 120_recvRadioE = 3.3 * 11.5e-3_spareRadioE = 3.3 * 1.6e-3_offRadioE = 3.3 * 1.5e-6# Known and Unknown... P10 MCUè€—ç”µæƒ…å†µ_onMcuE = 23.48e-4_offMcuE = 174.65e-7sfRange = [7,8,9,10,11,12]tpRange = [13,14,15,16,17,18,19,20]chRange = [1,2,3,4,5,6,7,8]crRange = [5,6,7,8]nodeNum = 15# _node0æ˜¯ç½‘å…³ï¼Œæ‰€ä»¥isGateway=1, whichSet=1_node0 = Node('_node0', 0, 0, nodeNum, _payload, _bandW, _c, _pi, _beta, _whiteNoise, _dutyCycle, _batteryE, _dataGen, _cycleT, _transRadioE, _recvRadioE, _spareRadioE, _offRadioE, _onMcuE, _offMcuE, isGateway=1, whichSet=1)_node1 = Node('_node1', 100, 200, nodeNum, _payload, _bandW, _c, _pi, _beta, _whiteNoise, _dutyCycle, _batteryE, _dataGen, _cycleT, _transRadioE, _recvRadioE, _spareRadioE, _offRadioE, _onMcuE, _offMcuE, index=1)_node2 = Node('_node2', 500, 700, nodeNum, _payload, _bandW, _c, _pi, _beta, _whiteNoise, _dutyCycle, _batteryE, _dataGen, _cycleT, _transRadioE, _recvRadioE, _spareRadioE, _offRadioE, _onMcuE, _offMcuE, index=2)_node3 = Node('_node3', 1000, 800, nodeNum, _payload, _bandW, _c, _pi, _beta, _whiteNoise, _dutyCycle, _batteryE, _dataGen, _cycleT, _transRadioE, _recvRadioE, _spareRadioE, _offRadioE, _onMcuE, _offMcuE, index=3)_node4 = Node('_node4', 1500, 0, nodeNum, _payload, _bandW, _c, _pi, _beta, _whiteNoise, _dutyCycle, _batteryE, _dataGen, _cycleT, _transRadioE, _recvRadioE, _spareRadioE, _offRadioE, _onMcuE, _offMcuE, index=4)_node5 = Node('_node5', 500, 0, nodeNum, _payload, _bandW, _c, _pi, _beta, _whiteNoise, _dutyCycle, _batteryE, _dataGen, _cycleT, _transRadioE, _recvRadioE, _spareRadioE, _offRadioE, _onMcuE, _offMcuE, index=5)_node6 = Node('_node6', 1500, 2000, nodeNum, _payload, _bandW, _c, _pi, _beta, _whiteNoise, _dutyCycle, _batteryE, _dataGen, _cycleT, _transRadioE, _recvRadioE, _spareRadioE, _offRadioE, _onMcuE, _offMcuE, index=6)_node7 = Node('_node7', -300, 700, nodeNum, _payload, _bandW, _c, _pi, _beta, _whiteNoise, _dutyCycle, _batteryE, _dataGen, _cycleT, _transRadioE, _recvRadioE, _spareRadioE, _offRadioE, _onMcuE, _offMcuE, index=7)_node8 = Node('_node8', -500, -200, nodeNum, _payload, _bandW, _c, _pi, _beta, _whiteNoise, _dutyCycle, _batteryE, _dataGen, _cycleT, _transRadioE, _recvRadioE, _spareRadioE, _offRadioE, _onMcuE, _offMcuE, index=8)_node9 = Node('_node9', -1000, -1200, nodeNum, _payload, _bandW, _c, _pi, _beta, _whiteNoise, _dutyCycle, _batteryE, _dataGen, _cycleT, _transRadioE, _recvRadioE, _spareRadioE, _offRadioE, _onMcuE, _offMcuE, index=9)_node10 = Node('_node10', -1800, -2000, nodeNum, _payload, _bandW, _c, _pi, _beta, _whiteNoise, _dutyCycle, _batteryE, _dataGen, _cycleT, _transRadioE, _recvRadioE, _spareRadioE, _offRadioE, _onMcuE, _offMcuE, index=10)_node11 = Node('_node11', -1500, 1800, nodeNum, _payload, _bandW, _c, _pi, _beta, _whiteNoise, _dutyCycle, _batteryE, _dataGen, _cycleT, _transRadioE, _recvRadioE, _spareRadioE, _offRadioE, _onMcuE, _offMcuE, index=11)_node12 = Node('_node12', 1500, -2000, nodeNum, _payload, _bandW, _c, _pi, _beta, _whiteNoise, _dutyCycle, _batteryE, _dataGen, _cycleT, _transRadioE, _recvRadioE, _spareRadioE, _offRadioE, _onMcuE, _offMcuE, index=12)_node13 = Node('_node13', 100, -100, nodeNum, _payload, _bandW, _c, _pi, _beta, _whiteNoise, _dutyCycle, _batteryE, _dataGen, _cycleT, _transRadioE, _recvRadioE, _spareRadioE, _offRadioE, _onMcuE, _offMcuE, index=13)_node14 = Node('_node14', 1200, -1200, nodeNum, _payload, _bandW, _c, _pi, _beta, _whiteNoise, _dutyCycle, _batteryE, _dataGen, _cycleT, _transRadioE, _recvRadioE, _spareRadioE, _offRadioE, _onMcuE, _offMcuE, index=14)# ä¸€äº›åŸºç¡€æµ‹è¯•# _node1.distNode(_node2)# _node1.selfToNodePdr(_node6)# print(\"------\")# _node1.selfToNodePdr(_node6)# nodes = [_node0, _node1, _node2, _node3, _node4, _node5, _node6, _node7, _node8, _node9, _node10, _node11, _node12,# _node13, _node14]# for node in nodes:# print(node.name)# æµ‹è¯•æ›´æ”¹sendToå±æ€§ï¼Œå¹¶é€šè¿‡sendToå¼•ç”¨ç›¸å…³nodeçš„å±æ€§# nodes[2].sendTo = _node1# print(nodes[2].sendTo.locX)# å…ˆæ±‚æ‰€æœ‰çš„è¾¹æƒï¼ˆå–æ‰€æœ‰sfï¼Œtpï¼Œcré€‰æ‹©ä¸­ä»£ä»·æœ€å°çš„ï¼‰å­˜å‚¨ï¼Œå†ç”¨MSTè¿çº¿ï¼ˆæ¯æ¬¡è¿çº¿éœ€æ ¹æ®isGatewayç¡®å®šä»£ä»·æ˜¯å¦å åŠ ï¼‰åˆ’åˆ†é›†åˆï¼Œç›´åˆ°åŸæœ¬é›†åˆä¸ºç©ºindexes= [i for i in range(nodeNum)]# print(indexes)nodes = [_node0, _node1, _node2, _node3, _node4, _node5, _node6, _node7, _node8, _node9, _node10, _node11, _node12, _node13, _node14]# åˆå§‹åŒ–ä»£ä»·çŸ©é˜µcostMatrix = [[0.0 for i in range(nodeNum)] for j in range(nodeNum)]# print(costMatrix)# è®¡ç®—æ¯æ¡è¾¹çš„ä»£ä»·ï¼Œå­˜å…¥ä»£ä»·çŸ©é˜µï¼ˆä¸è¿‡è®°å¾—åé¢MSTæ—¶ä»£ä»·ä¼šæ ¹æ®æ˜¯å¦relayç¡®å®šæ˜¯å¦è¿›è¡Œå åŠ ï¼‰# æ±‚æ¯æ¡è¾¹çš„ä»£ä»·å®é™…ä¸Šæ˜¯å…ˆåšé¢„å¤„ç†æ±‚æœ€å°ä»£ä»·ï¼Œå³éå†äº†å¯é€‰çš„sfã€tpã€crã€# éœ€è¦è€ƒè™‘sfå’Œchç›¸åŒå¯¼è‡´çš„é‡å ,æš‚æœªæ·»åŠ # zipçš„ä½¿ç”¨for rowIndex, node in zip(indexes, nodes): for colIndex, coloum in zip(indexes, nodes): if node is not coloum: # é’ˆå¯¹æŸä¸€æ¡è¾¹æ±‚cheapestä»£ä»· maxEE = 0 setSpreadFactor = 7 setTransPower = 13 setChannel = 1 setCodingRate =5 for sf in sfRange: for tp in tpRange: for ch in chRange: for cr in crRange: node.spreadFactor[coloum.index] = sf node.transPower[coloum.index] = tp node.channel[coloum.index] = ch node.codingRate[coloum.index] = cr tempEE = node.energyEffi(coloum) if(maxEE &lt; tempEE): maxEE = tempEE setSpreadFactor = sf setTransPower = tp setChannel = ch setCodingRate = cr node.spreadFactor[coloum.index] = setSpreadFactor node.transPower[coloum.index] = setTransPower node.channel[coloum.index] = setChannel node.codingRate[coloum.index] = setCodingRate costMatrix[rowIndex][colIndex] = maxEE else: costMatrix[rowIndex][colIndex] = 0.1energyEffiMatrix = costMatrix# ä»£ä»·æ˜¯èƒ½é‡æ•ˆç‡çš„å€’æ•°for row in range(nodeNum): for col in range(nodeNum): costMatrix[row][col] = 1 / costMatrix[row][col]for n in range(0, nodeNum): print(costMatrix[n])# print(_node1.spreadFactor)# print(_node1.transPower)# print(_node1.channel)# print(_node1.codingRate)# æ­¤éƒ¨åˆ†ä»æœ‰é—®é¢˜ï¼Œéœ€æ ¸å¯¹pdrå’Œä»£ä»·ï¼ˆèƒ½é‡æ•ˆç‡EEï¼‰è®¡ç®—ä¸­å„ä¸ªå‚æ•°å¯¹energy efficiencyçš„å½±å“toWhichIndexes= [i for i in range(nodeNum)]for nodeIndex in range(0, nodeNum): minCost = 9999 # toWhichIndexä¸ºå½“å‰æŸ¥çœ‹çš„vé›†åˆä¸­çš„èŠ‚ç‚¹çš„indexï¼Œå¯é€šè¿‡nodesåˆ—è¡¨åç´¢å¼•åˆ°ç›¸åº”çš„node # thisLineCostä¸ºå•æ¡è¾¹çš„costï¼Œæˆ‘ä»¬éœ€è¦çš„æ˜¯å®é™…çš„costï¼ˆå³å¸¦relayï¼‰ # relayæ˜¯åœ¨MSTçš„è¿‡ç¨‹ä¸­äº§ç”Ÿçš„ # ç½‘å…³åˆå§‹åº”åœ¨ué›†åˆï¼Œå¯¹åº”çš„whichSet=1 for toWhichIndex, thisLineCost in zip(toWhichIndexes, costMatrix[nodeIndex]): # ä¸€ä¸ªèŠ‚ç‚¹å±äºué›†åˆï¼Œä¸€ä¸ªèŠ‚ç‚¹å±äºvé›†åˆï¼Œæ‰è¿›è¡Œå¤„ç†ï¼Œå¦åˆ™ä¸ç¬¦åˆMSTè¦æ±‚ï¼Œè¿›è¡Œä¸‹è½®å¾ªç¯ addRelay = nodes[0] ifRelay = False nodeToUSet = nodes[0] if (nodes[nodeIndex].whichSet == 1 and nodes[toWhichIndex].whichSet == 0): # å…¶ä¸­æœ‰ä¸€ä¸ªæ˜¯ç½‘å…³çš„è¯ï¼Œè¯´æ˜ä¸ç½‘å…³ç›´æ¥ç›¸è¿ï¼ŒthisLineCostå³ä¸ºrealCost if (nodes[nodeIndex].isGateway == 1 or nodes[toWhichIndex].isGateway == 1): realCost = thisLineCost if realCost &lt; minCost: minCost = realCost nodeToUSet = nodes[toWhichIndex] # æ‰€æ£€ç´¢çš„è¾¹ä¸æ˜¯ä¸ç½‘å…³ç›´æ¥ç›¸è¿ï¼Œéœ€è¦ä¸­ç»§ else: realCost = thisLineCost + costMatrix[toWhichIndex][0] # [0]ä»£è¡¨ä¸­ç»§èŠ‚ç‚¹åˆ°ç½‘å…³çš„ä»£ä»·ï¼Œå› ä¸ºç½‘å…³ä¸ºçŸ©é˜µçš„ç¬¬ä¸€åˆ— if realCost &lt; minCost: addRelay = nodes[toWhichIndex] # nodeç±»å‹ ifRelay = True minCost = realCost nodeToUSet = nodes[toWhichIndex] # å¦‚æœæœ‰ä¸­ç»§çš„æ‹“æ‰‘é€‰æ‹©ï¼Œä¸ºä¸­ç»§ç‚¹ä¿®æ”¹relayNum, relayFromä¿¡æ¯ if (ifRelay == True and addRelay): addRelay.relayNum += 1 addRelay.relayFrom.append(nodes[nodeIndex]) # æŠŠæ–°é€‰æ‹©çš„èŠ‚ç‚¹æ·»åŠ åˆ°Ué›†åˆ nodeToUSet.whichSet = 1 # æ³¨æ„ç”Ÿæˆæ ‘çš„æ–¹å‘ # åˆ°æœ€ååº”è¯¥_node0(ç½‘å…³)çš„sendToæ²¡ä»€ä¹ˆç”¨ nodeToUSet.sendTo = nodes[nodeIndex]# æµ‹è¯•ç»“æœ# æ£€æŸ¥æ‹“æ‰‘for n in range(0, nodeNum): print(nodes[n].name + ' send to ' + nodes[n].sendTo.name)print('nodes belong to which set:')# æ£€æŸ¥é›†åˆsetList = []for n in range(0, nodeNum): # print(nodes[n].whichSet) setList.append(nodes[n].whichSet)print(setList)# æ£€æŸ¥æ¯ä¸ªèŠ‚ç‚¹çš„relayNum# relayNumè®¡æ•°è§„åˆ™è¿˜æœ‰é—®é¢˜for n in range(0, nodeNum): print(nodes[n].name + ' relay number: ' + str(nodes[n].relayNum))","categories":[{"name":"Python","slug":"Python","permalink":"https://chasencenge.github.io/categories/Python/"},{"name":"Lora","slug":"Python/Lora","permalink":"https://chasencenge.github.io/categories/Python/Lora/"}],"tags":[{"name":"Python","slug":"Python","permalink":"https://chasencenge.github.io/tags/Python/"},{"name":"Lora","slug":"Lora","permalink":"https://chasencenge.github.io/tags/Lora/"}]},{"title":"hexoæ›´æ¢flex-blockä¸»é¢˜","slug":"hexoæ›´æ¢flex-blockä¸»é¢˜","date":"2020-07-17T03:00:22.000Z","updated":"2020-07-20T03:27:13.778Z","comments":true,"path":"2020/07/17/hexoæ›´æ¢flex-blockä¸»é¢˜/","link":"","permalink":"https://chasencenge.github.io/2020/07/17/hexoæ›´æ¢flex-blockä¸»é¢˜/","excerpt":"","text":"åŸºç¡€é…ç½®hexo/_config.ymlæ–‡ä»¶ä¸­ï¼š 1theme: flex-block ä¸ºäº†èƒ½å¤Ÿæ­£å¸¸æ˜¾ç¤ºå›¾ç‰‡ï¼Œåœ¨hexo/_config.ymlï¼š 12# Writingpost_asset_folder: true è¿™æ ·æ¯æ¬¡åˆ›å»ºæ–°æ–‡ä»¶æ—¶ä¼šç”Ÿæˆä¸€ä¸ªassetæ–‡ä»¶å¤¹ï¼Œç”¨åˆ°çš„å›¾ç‰‡ç´ æå‡æ”¾åœ¨æ­¤åŒåæ–‡ä»¶å¤¹ä¸­è¿›è¡Œè°ƒç”¨ è¿˜éœ€å®‰è£…ç›¸åº”æ’ä»¶ï¼š 1npm install https://github.com/CodeFalling/hexo-asset-image --save åœ¨ç›¸åº”çš„.mdæ–‡ä»¶ä¸­è°ƒç”¨å›¾ç‰‡èµ„æºæ—¶ï¼Œåˆ‡è®°ï¼ï¼ï¼ï¼ğŸ’ŠğŸ’ŠğŸ’Š è°ƒç”¨å›¾ç‰‡èµ„æºçš„è·¯å¾„ç›´æ¥å†™å›¾ç‰‡æ–‡ä»¶åï¼Œé»˜è®¤è·¯å¾„å·²ç»åˆ‡åˆ°ç›¸åº”åŒåæ–‡ä»¶å¤¹ä¸‹ï¼Œä¸å¯ä½¿ç”¨ç»å¯¹è·¯å¾„åï¼ï¼ï¼ï¼ ä¿®æ”¹æ–°å»ºæ–‡ä»¶æ—¶ç»™å‡ºçš„é»˜è®¤Front-MatterFront-Matterè¯´æ˜ ä¿®æ”¹hexo/scaffoldsä¸‹çš„ï¼š draft.md, page.md, post.md ä¿®æ”¹æ–¹å¼è§ï¼šhttps://github.com/miiiku/flex-block æ·»åŠ ä»£ç é«˜äº®https://highlightjs.org/ ä¸‹è½½ä¾èµ–ï¼š 1npm install highlight.js hexo/_config.yml: 12345678highlight: enable: true line_number: true auto_detect: false tab_replace: hljs: true # theme: railscasts theme: pojoaque æ·»åŠ ç¤¾äº¤å¹³å°é“¾æ¥hexo/themes/flex-block/_config.yml: 12345678910111213social_icon: header_enable: true footer_enable: true icons: - &#123; type: email, value: 958198376@qq.com&#125; - &#123; type: github, value: https://github.com/CHAsencenge&#125; - &#123; type: google+, value: &#125; - &#123; type: ins, value: &#125; - &#123; type: twitter, value: &#125; - &#123; type: youtube, value: &#125; - &#123; type: weibo, value: https://weibo.com/u/5701921017&#125; - &#123; type: cloudmusic, value: https://music.163.com/#/user/home?id=92407481&#125; - &#123; type: zhihu, value: &#125; ä¿®æ”¹ä¸»é¡µæ ‡ç­¾æ˜¾ç¤ºï¼ˆè‹±æ–‡-&gt;ä¸­æ–‡ï¼‰hexo/themes/flex-block/_config.yml: ä¿®æ”¹å…¶ä¸­çš„menu: 123456menu: ä¸»é¡µ: / å…³äº: /about å‹é“¾: /links æ ‡ç­¾: /tags åˆ†ç±»: /categories æ·»åŠ å‹é“¾é¡µé¢å¹¶é¡ºæ‰‹æ”¾äº›è¦ç”¨çš„å›¾ç‰‡èµ„æºæ·»åŠ å‹é“¾é¡µé¢ï¼š(é¡ºå£ä¸€æï¼Œhexo new page ä¼šç”Ÿæˆä¸_poståŒçº§çš„æ–‡ä»¶å¤¹) 1hexo new page links åœ¨links/index.mdä¸­ä¿®æ”¹Front-matterï¼Œæ·»åŠ ï¼š 1type: links ç¡®è®¤hexo/themes/flex-block/_config.ymlä¸­æ˜¯å¦æœ‰(å·¦ä¾§ä¸ºæ ‡ç­¾æ˜¾ç¤ºï¼Œä¸é‡è¦ï¼Œé‡è¦çš„æ˜¯æ˜¯å¦å†™äº†å³ä¾§çš„/linksç›®å½•)ï¼š 1links: /links å­˜æ”¾å‹é“¾æ•°æ®åœ¨sourceç›®å½•ä¸‹(ä¸_poståŒçº§) ï¼Œ åˆ›å»º: _dataæ–‡ä»¶å¤¹ åœ¨source/_dataä¸‹æ–°å»ºlinks.yml ä¸€è¡Œä¸€æ¡å‹é“¾æ•°æ®ï¼Œæ ¼å¼å¦‚ä¸‹(ç°åœ¨linksæ–‡ä»¶å¤¹ä¸‹åˆ›å»ºAssetæ–‡ä»¶å¤¹ï¼Œå­˜æ”¾ç›¸åº”çš„å›¾ç‰‡èµ„æºï¼Œå¹¶pushåˆ°ä»“åº“ï¼Œå› ä¸ºcoverå‚æ•°éœ€è¦urlï¼Œä¸èƒ½æ˜¯æœ¬åœ°è·¯å¾„ï¼Œæ‰€ä»¥å°†èµ„æºæ¨åˆ°ä»“åº“åŒæ—¶ä»ä»“åº“çš„å¯¹åº”urlå–å›¾ç‰‡èµ„æºä½œä¸ºcover)ï¼š 1234567891011121314151617181920- &#123; \"name\" : \"tianzixiao\", \"describe\" : \"æµ‹è¯•\", \"link\" : \"Asset/tianzixiao.png\", \"cover\" : \"https://chasencenge.github.io/links/Asset/tianzixiao.png\" &#125;- &#123; \"name\" : \"cover1\", \"describe\" : \"æµ‹è¯•\", \"link\" : \"Asset/cover1.jpg\", \"cover\" : \"https://chasencenge.github.io/links/Asset/cover1.jpg\" &#125;- &#123; \"name\" : \"cover2\", \"describe\" : \"æµ‹è¯•\", \"link\" : \"Asset/cover2.jpg\", \"cover\" : \"https://chasencenge.github.io/links/Asset/cover2.jpg\" &#125;- &#123; \"name\" : \"cover3\", \"describe\" : \"æµ‹è¯•\", \"link\" : \"Asset/cover3.jpg\", \"cover\" : \"https://chasencenge.github.io/links/Asset/cover3.jpg\" &#125;- &#123; \"name\" : \"cover4\", \"describe\" : \"æµ‹è¯•\", \"link\" : \"Asset/cover4.jpg\", \"cover\" : \"https://chasencenge.github.io/links/Asset/cover4.jpg\" &#125;- &#123; \"name\" : \"cover5\", \"describe\" : \"æµ‹è¯•\", \"link\" : \"Asset/cover5.jpg\", \"cover\" : \"https://chasencenge.github.io/links/Asset/cover5.jpg\" &#125;- &#123; \"name\" : \"cover6\", \"describe\" : \"æµ‹è¯•\", \"link\" : \"Asset/cover6.jpg\", \"cover\" : \"https://chasencenge.github.io/links/Asset/cover6.jpg\" &#125;- &#123; \"name\" : \"cover7\", \"describe\" : \"æµ‹è¯•\", \"link\" : \"Asset/cover7.jpg\", \"cover\" : \"https://chasencenge.github.io/links/Asset/cover7.jpg\" &#125;- &#123; \"name\" : \"cover8\", \"describe\" : \"æµ‹è¯•\", \"link\" : \"Asset/cover8.jpg\", \"cover\" : \"https://chasencenge.github.io/links/Asset/cover8.jpg\" &#125;- &#123; \"name\" : \"cover9\", \"describe\" : \"æµ‹è¯•\", \"link\" : \"Asset/cover9.jpg\", \"cover\" : \"https://chasencenge.github.io/links/Asset/cover9.jpg\" &#125;- &#123; \"name\" : \"cover10\", \"describe\" : \"æµ‹è¯•\", \"link\" : \"Asset/cover10.jpg\", \"cover\" : \"https://chasencenge.github.io/links/Asset/cover10.jpg\" &#125;- &#123; \"name\" : \"cover11\", \"describe\" : \"æµ‹è¯•\", \"link\" : \"Asset/cover11.jpg\", \"cover\" : \"https://chasencenge.github.io/links/Asset/cover11.jpg\" &#125;- &#123; \"name\" : \"cover12\", \"describe\" : \"æµ‹è¯•\", \"link\" : \"Asset/cover12.jpg\", \"cover\" : \"https://chasencenge.github.io/links/Asset/cover12.jpg\" &#125;- &#123; \"name\" : \"cover13\", \"describe\" : \"æµ‹è¯•\", \"link\" : \"Asset/cover13.jpg\", \"cover\" : \"https://chasencenge.github.io/links/Asset/cover13.jpg\" &#125;- &#123; \"name\" : \"cover14\", \"describe\" : \"æµ‹è¯•\", \"link\" : \"Asset/cover14.jpg\", \"cover\" : \"https://chasencenge.github.io/links/Asset/cover14.jpg\" &#125;- &#123; \"name\" : \"cover15\", \"describe\" : \"æµ‹è¯•\", \"link\" : \"Asset/cover15.jpg\", \"cover\" : \"https://chasencenge.github.io/links/Asset/cover15.jpg\" &#125;- &#123; \"name\" : \"cover16\", \"describe\" : \"æµ‹è¯•\", \"link\" : \"Asset/cover16.jpg\", \"cover\" : \"https://chasencenge.github.io/links/Asset/cover16.jpg\" &#125;- &#123; \"name\" : \"cover17\", \"describe\" : \"æµ‹è¯•\", \"link\" : \"Asset/cover17.jpg\", \"cover\" : \"https://chasencenge.github.io/links/Asset/cover17.jpg\" &#125;- &#123; \"name\" : \"cover18\", \"describe\" : \"æµ‹è¯•\", \"link\" : \"Asset/cover18.jpg\", \"cover\" : \"https://chasencenge.github.io/links/Asset/cover18.jpg\" &#125;- &#123; \"name\" : \"cover19\", \"describe\" : \"æµ‹è¯•\", \"link\" : \"Asset/cover19.jpg\", \"cover\" : \"https://chasencenge.github.io/links/Asset/cover19.jpg\" &#125; ä¿®æ”¹ä¸»é¡µbannerhexo/themes/flex-block/_config.yml: 1banner: https://chasencenge.github.io/links/Asset/cover19.jpg å…³äºcardæ— æ³•æ˜¾ç¤ºcoverå›¾ç‰‡çš„é—®é¢˜åœ¨ä¸»é¡µæŒ‰F12æŸ¥çœ‹é¡µé¢bugï¼Œå‘ç°æ— æ³•æ‰¾åˆ°cover.jpgï¼Œå¯¹æ¯”å…¶ä»–æ–‡ç« é¡µé¢ï¼Œæ— errorï¼Œè¯´æ˜ä¸»é¡µcardçš„å›¾ç‰‡å¯»å¾„å’Œæ–‡ç« é¡µçš„coverå¯»å¾„ä¸åŒ åœ¨F12è°ƒè¯•å·¥å…·ä¸­-&gt;Applicationï¼Œå¯¹æ¯”ä¸»é¡µå’Œæ–‡ç« é¡µæŸ¥çœ‹ï¼Œå‘ç°å„è‡ªçš„imageåŠ è½½æ˜¯åœ¨å„è‡ªçš„index.htmlåŒçº§ç›®å½•ä¸‹ï¼Œæ•…å°†ç”¨åˆ°çš„æ‰€æœ‰æ–‡ä»¶èµ„æºå¤åˆ¶åˆ°hexo/publicç›®å½•ä¸‹ï¼Œä½†æ˜¯æ­¤ç›®å½•ä»…æ”¯æŒä¸»é¡µæ­£å¸¸æ˜¾ç¤ºï¼Œç¿»é¡µæ—¶ä¼šè¿›å…¥page2ï¼Œpage3ç­‰ç­‰ï¼Œæ‰€ä»¥å°†æ‰€ç”¨åˆ°çš„cardèµ„æºåŒæ ·æ”¾ç½®åœ¨hexo/public/page/2ã€hexo/public/page/3ç­‰ç›®å½•ä¸‹ btwï¼Œä¸ºäº†ä¿è¯ä¸»é¡µcardæ˜¾ç¤ºçš„å›¾ç‰‡ä¸å†²çªï¼Œä»¥ä¸Šç›®å½•ä¸‹çš„å›¾ç‰‡ä¸å¯é‡åï¼Œåˆç”±äºä»¥ä¸Šç›®å½•çš„å›¾ç‰‡åéœ€ä¸hexo/source/_postä¸­çš„æ¯ä¸€ç¯‡çš„coveråŒåï¼Œæ•…æ¯ä¸ªæ–‡ç« çš„asset-folderä¸­çš„coverå‘½åä¸è¦é‡åï¼Œæ–‡ç« front-matteråŒç† asset-folderçš„coverå‘½åï¼š front-matterçš„coverå‘½åä¿è¯ä¸asset-folderä¸€è‡´ï¼Œå¹¶ä¸hexo/publicä¸­çš„èµ„æºåç§°ä¸€è‡´ï¼š1cover: cover22.jpg","categories":[{"name":"Hexo","slug":"Hexo","permalink":"https://chasencenge.github.io/categories/Hexo/"},{"name":"Environment","slug":"Hexo/Environment","permalink":"https://chasencenge.github.io/categories/Hexo/Environment/"}],"tags":[{"name":"Hexo","slug":"Hexo","permalink":"https://chasencenge.github.io/tags/Hexo/"}]},{"title":"Laya Basketballå°æ¸¸æˆè¸©å‘å†ç¨‹","slug":"Laya-Basketballå°æ¸¸æˆè¸©å‘å†ç¨‹","date":"2020-07-17T01:39:43.000Z","updated":"2020-07-24T09:06:45.280Z","comments":true,"path":"2020/07/17/Laya-Basketballå°æ¸¸æˆè¸©å‘å†ç¨‹/","link":"","permalink":"https://chasencenge.github.io/2020/07/17/Laya-Basketballå°æ¸¸æˆè¸©å‘å†ç¨‹/","excerpt":"Laya3Då°é¡¹ç›®ä¸­çš„è¸©å‘å†ç¨‹","text":"Laya3Då°é¡¹ç›®ä¸­çš„è¸©å‘å†ç¨‹ .lh or .lsæµ‹è¯•Unityå¯¼å‡ºçš„Sceneï¼ˆä»…åŒ…å«3Dçƒæ¶ï¼‰åœ¨å¯¼å…¥Layaåçš„æ˜¾ç¤ºï¼Œå‘ç°è‹¥å¯¼å‡º.lhæ–‡ä»¶ï¼Œåœ¨Layaåˆ›å»ºçš„Sceneä¸­æŒ‚è½½è„šæœ¬è¿è¡Œæ—¶ä¼šæŠ¥â€œcannot read â€˜_addCameraâ€™ of undefinedâ€é”™è¯¯ï¼Œè§£å†³æ­¤é—®é¢˜æ—¶é€‰æ‹©é‡æ–°å¯¼å‡º.lsæ–‡ä»¶ ç›¸åº”è„šæœ¬ï¼š 123456789101112131415161718import &#123; ui &#125; from \"./../ui/layaMaxUI\";export default class SmallScene extends Laya.Script &#123; constructor() &#123; super(); &#125; onEnable(): void &#123; Laya3D.init(0, 0); Laya.Stat.show(); Laya.stage.scaleMode = Laya.Stage.SCALE_FULL; Laya.stage.screenMode = Laya.Stage.SCREEN_NONE; Laya.Scene3D.load(\"res/Loading/LayaScene_SmallScene/Conventional/SmallScene.ls\", Laya.Handler.create(null, function(scene:Laya.Scene3D):void &#123; Laya.stage.addChild(scene) as Laya.Scene3D; &#125;)); &#125; onDisable(): void &#123; &#125;&#125;new SmallScene; å¯¼å‡ºæ–‡ä»¶è¯´æ˜ï¼šls â€” åœºæ™¯æ–‡ä»¶ï¼š Jsonæ–‡ä»¶ï¼ŒåŒ…å«åœºæ™¯ä¸­æ‰€æœ‰èŠ‚ç‚¹çš„æ•°æ®ä¿¡æ¯ï¼ŒåŒ…å«å…‰ç…§è´´å›¾ä¿¡æ¯lh â€” å±‚çº§æ–‡ä»¶ï¼š Jsonæ–‡ä»¶ï¼ŒåŒ…å«åœºæ™¯ä¸­æ‰€æœ‰èŠ‚ç‚¹çš„æ•°æ®ä¿¡æ¯ï¼Œä¸åŒ…å«å…‰ç…§è´´å›¾ä¿¡æ¯lt â€” åœ°å½¢æ–‡ä»¶ï¼š Jsonæ–‡ä»¶ï¼ŒåŒ…å«åœ°å½¢ä¸­çš„æ•°æ®ä¿¡æ¯lm â€” ç½‘æ ¼æ–‡ä»¶ï¼š äºŒè¿›åˆ¶æ–‡ä»¶ï¼ŒåŒ…å«æ¨¡å‹æ‰€æœ‰é¡¶ç‚¹çš„æ•°æ®ä¿¡æ¯lmat â€” æè´¨æ–‡ä»¶ï¼š Jsonæ–‡ä»¶ï¼ŒåŒ…å«å…‰ç…§ï¼Œè´´å›¾ï¼Œæ¸²æŸ“æ¨¡å¼ç­‰åŸºæœ¬æè´¨ä¿¡æ¯lsani â€” è’™çš®åŠ¨ç”»æ–‡ä»¶ï¼šäºŒè¿›åˆ¶æ–‡ä»¶ï¼ŒåŒ…å«éª¨éª¼åŠ¨ç”»å¸§ç‡ä¿¡æ¯lrani â€” åˆšä½“åŠ¨ç”»æ–‡ä»¶ï¼šäºŒè¿›åˆ¶æ–‡ä»¶ï¼ŒåŒ…å«åˆšä½“åŠ¨ç”»å¸§ç‡ä¿¡æ¯lav â€” æ–°ç‰ˆåŠ¨ç”»èŠ‚ç‚¹æ–‡ä»¶ï¼šJsonæ–‡ä»¶ï¼ŒåªåŒ…å«Animatorç»„ä»¶ä¸‹èŠ‚ç‚¹çš„æ•°æ®ä¿¡æ¯lani â€” æ–°ç‰ˆåŠ¨ç”»æ–‡ä»¶ï¼šäºŒè¿›åˆ¶æ–‡ä»¶ï¼ŒåŒ…å«AnimatoråŠ¨ç”»å¸§ç‡ä¿¡æ¯ Mesh Collider å’Œ Box Colliderçš„é€‰æ‹©ï¼šç¯®ç­å¤„æœ‰ä¸¤ä¸ªTriggerï¼Œä¸€ä¸ªåœ¨ç¯®ç­ä¸€ä¸ªåœ¨ç¯®ç½‘ï¼Œç¯®ç­ç¯é™„è¿‘ç”¨Box Colliderï¼ˆå…ƒç¢°æ’å™¨ï¼‰ï¼Œç¯®ç½‘ç”¨Mesh Colliderï¼ˆç½‘æ ¼ï¼‰ï¼Œåè€…æ¸²æŸ“æ—¶æ¶ˆè€—èµ„æºæ¯”å‰è€…å¤§å¾ˆå¤š å¦‚ä½•è¿›ä¸€æ­¥æ“ä½œå¯¼å…¥çš„Sceneä¸­çš„å­å¯¹è±¡ï¼Ÿlaya.display.Node æµ‹è¯•æ—¶åœ¨Laya.Scene3D.loadçš„callä¸­æ·»åŠ ï¼š 1console.log(\"scene.numChildren:\", scene.numChildren); å¯åœ¨è¿è¡Œæ—¶æŸ¥çœ‹sceneä¸­çš„å­å¯¹è±¡ä¸ªæ•° å…¶ä»–ç±»ä¼¼æ“ä½œä»£ç å¦‚ä¸‹ï¼š 123456789101112Laya.Scene3D.load(\"res/Loading/LayaScene_SmallScene/Conventional/SmallScene.ls\", Laya.Handler.create(null, function(scene:Laya.Scene3D):void &#123; //myScene = scene; Laya.stage.addChild(scene) as Laya.Scene3D; //var camera = new Laya.Camera(0, 3, 10); //scene.addChild(camera); console.log(\"scene.numChildren:\", scene.numChildren); let sprite:Laya.Sprite3D = new Laya.Sprite3D(); scene.addChildAt(sprite, 5); console.log(scene.getChildAt(3).name); console.log(scene.getChildAt(4).name); console.log(scene.getChildAt(5).name); &#125;)); å…³äºLaya.Handler.createHandleræ˜¯äº‹ä»¶å¤„ç†å™¨ç±» laya.utils.Handler create(caller:*, method:Fuction, args:Array = null, once:Boolean = true): Handler caller:* -æ‰§è¡ŒåŸŸ(this) method:Function -å›è°ƒæ–¹æ³• args:Array -æºå¸¦çš„å‚æ•° once:Boolean -æ˜¯å¦åªæ‰§è¡Œä¸€æ¬¡ï¼Œé»˜è®¤ä¸ºtrue æ³¨æ„onceåæˆ–è€…Handler.recover()åä¸è¦å†ä½¿ç”¨æ­¤å¯¹è±¡ æµç¨‹GolbalDataScene -&gt; StartScene -&gt; LoadingScene -&gt; GameScene GolbalDataScene/GameStaticController/ConfigControllerä¸­æ§åˆ¶åŠ è½½Assets/Resources/Configä¸­çš„BallsDataå’ŒStageData ä¸€äº›è¯´æ˜æ¯ä¸ªSceneä¸­çš„UIControlleræ˜¯ç”¨ç›¸åŒçš„BSK Managerè„šæœ¬ï¼Œå³ï¼Œæ‰€æœ‰åœºæ™¯èƒ½ç”¨åˆ°çš„UIç›¸å…³çš„ç®¡ç†æ§åˆ¶éƒ½æ”¾åœ¨è¿™ä¸ªè„šæœ¬ï¼Œå…¶ä»–é€šç”¨çš„Cotorllerä¹Ÿå¦‚æ­¤ resetçƒçš„å‡½æ•°åœ¨BSKGameController -&gt; resetBallsï¼Œè®¾ç½®äº†ç¯®çƒçš„åˆå§‹åŒ–ä½ç½®ï¼ŒRotationï¼Œlayerï¼Œæ”¾åˆ°ballsåˆ—è¡¨ï¼ˆä½†æ˜¯æ²¡æœ‰è®¾ç½®å…¶ç‰©ç†å±æ€§å¦‚é‡åŠ›ã€ç¢°æ’ï¼‰ ç»™ç¯®çƒï¼ˆballsï¼‰è·å–BSKBallç»„ä»¶ã€æ·»åŠ åˆšä½“ã€å¹¶ä¸”siKinematic = trueä½¿ç‰©ç†å½±å“åˆšä½“åœ¨BSKShooterä¸­çš„Updateå‡½æ•°ä¸­ï¼ˆUpdateæ¯ä¸€å¸§éƒ½è°ƒç”¨ï¼‰ åœ¨Layaä¸­åˆ›å»ºçš„å¯¹åº”è„šæœ¬çš„ç±»å‹çš„é€‰æ‹©è¦è€ƒè™‘Unityä¸­å¯¹åº”è„šæœ¬æ˜¯å¦æœ‰Updateç­‰é€å¸§åˆ·æ–°çš„åŠŸèƒ½ å¯¹Unityä¸­å…·æœ‰Updateç­‰é€å¸§åˆ·æ–°çš„Componentï¼ˆMonobehaviorï¼‰ï¼Œåœ¨Layaä¸­åˆ›å»ºå¯¹åº”è„šæœ¬æ‰€é€‰ç±»å‹è¦è€ƒè™‘æ˜¯å¦æœ‰ç›¸åŒé€å¸§åˆ·æ–°çš„å†…ç½®å‡½æ•° BSKBall -&gt; Startå‡½æ•°ï¼š 1gameObject.GetComponent&lt;Renderer&gt;().material = BSKGameConfig.s_Instance.GetBallMaterial(); ç¯®çƒèµ„æºæ˜¯å¦‚ä½•åŠ è½½è¿›å»çš„ï¼šåœ¨BSKGameControllerå£°æ˜ä¸€ä¸ªGameObjectå¯¹è±¡-BallPrefabï¼Œç„¶ååœ¨Unityçš„Inspectorä¸­å¯ä»¥ç›´æ¥é€‰å–éœ€è¦çš„â€œlanqiuâ€èµ„æº å°†Unityä¸­çš„Sceneå¯¼å…¥Layaæ—¶ï¼Œgames_bgä¸èƒ½å¯¼å…¥ï¼Œå› ä¸ºä¸æ”¯æŒSprite Renderer","categories":[{"name":"Laya","slug":"Laya","permalink":"https://chasencenge.github.io/categories/Laya/"}],"tags":[{"name":"Laya","slug":"Laya","permalink":"https://chasencenge.github.io/tags/Laya/"},{"name":"TypeScript","slug":"TypeScript","permalink":"https://chasencenge.github.io/tags/TypeScript/"}]},{"title":"LoRaçš„ä¸‰ç§class","slug":"LoRaçš„ä¸‰ç§class","date":"2020-07-14T14:30:06.000Z","updated":"2020-07-20T02:36:29.406Z","comments":true,"path":"2020/07/14/LoRaçš„ä¸‰ç§class/","link":"","permalink":"https://chasencenge.github.io/2020/07/14/LoRaçš„ä¸‰ç§class/","excerpt":"LoRa class A, class B, class Cä¸‰ç§å·¥ä½œæ¨¡å¼","text":"LoRa class A, class B, class Cä¸‰ç§å·¥ä½œæ¨¡å¼ class AClass A æ˜¯ LoRaWAN å¼ºåˆ¶è¦æ±‚æ‰€æœ‰ LoRa ç»ˆç«¯è®¾å¤‡å¿…é¡»æ”¯æŒçš„é€šä¿¡æ¨¡å¼ã€‚åœ¨Class Aä¸­ï¼Œç»ˆç«¯è®¾å¤‡åªåœ¨æœ‰æ•°æ®éœ€è¦å¤„ç†æˆ–å‘é€çš„æ—¶å€™æ‰ä»ä¼‘çœ æ¨¡å¼ä¸­é†’æ¥ï¼Œå¹¶ä¸”ä¸€åˆ‡é€šä¿¡éƒ½åªèƒ½ç”±å‘é€ç»ˆç«¯è®¾å¤‡ä¸»åŠ¨å‘èµ·ï¼Œç½‘å…³ä¸€ç›´å¤„äºä¾¦å¬æ¨¡å¼ã€‚å½“å‘é€ç»ˆç«¯è®¾å¤‡è¿›è¡Œä¸€æ¬¡å‘é€ï¼ˆTXï¼‰ä¹‹åï¼Œä¼šç­‰å¾…æ—¶é—´T(RX_DELAY1)ä¹‹ååˆå§‹åŒ–ä¸€ä¸ªæ¥æ”¶çª—å£RX1ï¼Œè‹¥RX1å†…å‘é€ç»ˆç«¯è®¾å¤‡æœªæ”¶åˆ°ä»»ä½•æ•°æ®ï¼Œåˆ™ä¼šåœ¨T_(RX_DELAY2)æ—¶é—´åå†åˆå§‹åŒ–ä¸€ä¸ªæ¥æ”¶çª—å£RX2ï¼Œç»§ç»­ç­‰å¾…æ¥æ”¶æ•°æ®ï¼Œçª—å£å…³é—­ååˆ™è¿›å…¥ç¡çœ æ¨¡å¼ã€‚ç½‘å…³å¯åœ¨æ­¤çª—å£æ—¶é—´å†…å‘ç»ˆç«¯è®¾å¤‡å‘é€æ•°æ® æ¥æ”¶çª—å£RX1ä¸€èˆ¬æ˜¯åœ¨ä¸Šè¡Œå1ç§’å¼€å§‹ï¼Œæ¥æ”¶çª—å£RX2æ˜¯åœ¨ä¸Šè¡Œå2ç§’å¼€å§‹ ç»ˆç«¯æœ‰æ•°æ®äº†ï¼Œå°±ä¸ŠæŠ¥ï¼Œé¡ºä¾¿æ”¶ä¸€ä¸‹æœåŠ¡å™¨ä¸‹å‘çš„æŒ‡ä»¤ã€‚ç»ˆç«¯æ²¡æ•°æ®çš„æ—¶å€™ï¼ŒæœåŠ¡å™¨ä¸‹å‘ä¸äº†æŒ‡ä»¤ class BClass B ä¸ºéœ€è¦åŒå‘äº¤äº’çš„åº”ç”¨è®¾è®¡ã€‚åœ¨ Class A çš„åŸºç¡€ä¸Šå¢åŠ äº†å¯ä»¥ç”±ç½‘å…³ä¸»åŠ¨å”¤é†’å‘é€ç»ˆç«¯è®¾å¤‡çš„æœºåˆ¶ï¼Œç½‘å…³æ¯éš” T_Beacon æ—¶é—´ä¼šå‘é€ä¸€ä¸ª Beacon æ¥ä¸»åŠ¨å”¤é†’ç»ˆç«¯è®¾å¤‡ï¼Œåœ¨ä¸¤ä¸ª Beacon ä¹‹é—´ï¼Œç»ˆç«¯è®¾å¤‡çš„é€šä¿¡æ¨¡å¼å’Œ Class A ç›¸åŒã€‚é€šè¿‡ Class B ä¸»åŠ¨å”¤é†’èŠ‚ç‚¹çš„æ–¹å¼ï¼Œç½‘å…³å¯ä»¥å®šæœŸå¼€å¯ç»ˆç«¯è®¾å¤‡çš„ä¸‹è½½å’Œä¸Šä¼ åŠŸèƒ½ã€‚ç›¸æ¯” Class Aï¼ŒClass B é™ä½äº†æ•°æ®çš„ä¼ è¾“æ—¶å»¶ï¼Œä½†ä¹Ÿå¢åŠ äº†ç»ˆç«¯è®¾å¤‡çš„èƒ½è€— æœ‰ä¸€ä¸ªåŒæ­¥æ—¶éš™beaconï¼Œè¿˜æœ‰ä¸€ä¸ªå›ºå®šå‘¨æœŸçš„æ¥æ”¶çª—å£pingæ—¶éš™ã€‚(éš”å‡ åç§’æ”¶ä¸€ä¸ªæ•°æ®ã€‚å…¶ä»–æ—¶å€™éƒ½åœ¨ä¼‘çœ ) ç»ˆç«¯å’ŒåŸºç«™çº¦å®šä¸€ä¸ªæ—¶é—´ä¸‹å‘æ•°æ®ï¼Œç»ˆç«¯å’ŒåŸºç«™ä¾é beaconä¿¡å·æ ¡å¯¹æ—¶é—´ï¼Œç¡®ä¿çº¦å®šçš„æ—¶é—´ä¸ä¼šé”™ä½ ClassBçš„ç›®çš„æ˜¯ä½¿å¾—èŠ‚ç‚¹å…·æœ‰åœ¨é¢„å®šæ—¶é—´æ‰“å¼€æ¥æ”¶çª—å£ï¼ˆç§°ä¹‹ä¸ºping slotï¼‰çš„èƒ½åŠ›ã€‚ä¸€ä¸ªæ”¯æŒClassBçš„ç½‘ç»œï¼Œæ‰€æœ‰çš„ç½‘å…³éƒ½å¿…é¡»åŒæ­¥å‘é€beacon class CClass C ç”¨äºæ—¶å»¶è¦æ±‚é«˜çš„åº”ç”¨ï¼Œå‘é€ç»ˆç«¯è®¾å¤‡å†å‘é€å®Œæˆä¹‹åä¼šç«‹å³åˆå§‹åŒ–æ¥æ”¶çª—å£ï¼Œè‹¥æœªæ”¶åˆ°ä»»ä½•æ•°æ®ï¼Œåˆ™ä¼šä¸€ç›´å¼€å¯éšåçš„RX2çª—å£æŒç»­ä¾¦å¬ä¿¡é“ï¼Œç”¨äºæ¥æ”¶ç½‘å…³è¿”å›çš„æ•°æ® åœ¨class Açš„åŸºç¡€ä¸Šï¼Œåœ¨class Aä¼‘çœ æœŸé—´ï¼Œä¸€ç›´æ‰“å¼€æ¥æ”¶çª—å£RX2ï¼ˆå‡ ä¹éšæ—¶å¯ä»¥æ¥æ”¶æ•°æ®ï¼‰ BeaconLoRaä¸€æ—¦çº¦å®šå¥½äº†æ—¶é—´ï¼ŒåŸºç«™å°±é»˜è®¤è®¾å¤‡ä¸€å®šä¼šåœ¨é‚£ä¸ªæ—¶é—´ç‚¹æ¥æ”¶ï¼Œæ‰€ä»¥éœ€è¦ä¸¥æ ¼çš„æ—¶é—´åŒæ­¥ã€‚Beaconåˆ™æ˜¯æ—¶é—´åŒæ­¥çš„æœ€å…³é”®çš„åœ°æ–¹ èŠ‚ç‚¹ç”±ClassAåˆ‡æ¢åˆ°ClassBä¹‹å‰å¿…é¡»æ”¶åˆ°beaconï¼Œè¿›å…¥ClassBä¹‹åè¿˜éœ€è¦å‘¨æœŸæœç´¢/æ¥æ”¶beaconï¼Œä»è€ŒåŒæ­¥æ—¶é’Ÿã€‚Class BèŠ‚ç‚¹å¯èƒ½ä¸´æ—¶æ”¶ä¸åˆ°beaconï¼Œæ­¤æ—¶èŠ‚ç‚¹è¦é€æ¸åŠ å®½beaconå’Œpingçš„æ¥æ”¶çª—ã€‚å¦‚æœæ”¶åˆ°beaconå2å°æ—¶æ”¶ä¸åˆ°æ–°çš„beaconï¼ŒèŠ‚ç‚¹éœ€ä½¿ç”¨å†…éƒ¨æ—¶é’Ÿä¿æŒåŒæ­¥","categories":[{"name":"LoRa","slug":"LoRa","permalink":"https://chasencenge.github.io/categories/LoRa/"}],"tags":[{"name":"LoRa","slug":"LoRa","permalink":"https://chasencenge.github.io/tags/LoRa/"}]},{"title":"C++.hå’Œ.cpp","slug":"C-hå’Œ-cpp","date":"2020-07-13T03:04:52.000Z","updated":"2020-07-20T02:27:33.402Z","comments":true,"path":"2020/07/13/C-hå’Œ-cpp/","link":"","permalink":"https://chasencenge.github.io/2020/07/13/C-hå’Œ-cpp/","excerpt":"C++çš„.hæ–‡ä»¶å’Œ.cppæ–‡ä»¶å„åº”è¯¥åŒ…å«ä»€ä¹ˆå†…å®¹","text":"C++çš„.hæ–‡ä»¶å’Œ.cppæ–‡ä»¶å„åº”è¯¥åŒ…å«ä»€ä¹ˆå†…å®¹ .hæ–‡ä»¶ç±»çš„å£°æ˜ï¼Œæˆå‘˜å‡½æ•°å£°æ˜â€¦ è®°å¾—åœ¨å¤´éƒ¨æ·»åŠ ï¼š 123#ifndef XXXX_H //è¿™é‡Œå¦‚æœå¤´æ–‡ä»¶åä¸ºLoraNode.h, åˆ™å†™ä¸ºLORANODE_H#define XXXX_H#pragma once //è¿™ä¸ªä¸€èˆ¬åœ¨åˆ›å»ºå¤´æ–‡ä»¶çš„æ—¶å€™ä¼šè‡ªåŠ¨æ·»åŠ  å°¾éƒ¨æ·»åŠ ï¼š 1#endif ç›®çš„æ˜¯ä¸ºäº†é˜²æ­¢é‡å¤ç¼–è¯‘è€ŒæŠ¥é”™ .cppæ–‡ä»¶å¡«å†™ç±»æˆå‘˜å‡½æ•°çš„å®šä¹‰ é¦–å…ˆå¼•ç”¨å¤´æ–‡ä»¶ 1#include \"xxxx.h\" æ³¨ï¼šä¸ç”¨å†é‡å†™class Name{}ï¼Œå¦åˆ™ä¼šæŠ¥é”™ä¸ºclassé‡å®šä¹‰ï¼Œç›´æ¥ä½¿ç”¨::è¿›è¡Œå¤–éƒ¨å®šä¹‰ç±»æˆå‘˜å‡½æ•°å³å¯ ä¾‹ï¼š 123double LoraNode::th(si)&#123;...&#125;","categories":[{"name":"C++","slug":"C","permalink":"https://chasencenge.github.io/categories/C/"}],"tags":[{"name":"C++","slug":"C","permalink":"https://chasencenge.github.io/tags/C/"}]},{"title":"å°†Unityåœºæ™¯å¯¼å…¥åˆ°LayaAir","slug":"å°†Unityåœºæ™¯å¯¼å…¥åˆ°LayaAir","date":"2020-07-09T01:02:46.000Z","updated":"2020-07-20T02:40:39.069Z","comments":true,"path":"2020/07/09/å°†Unityåœºæ™¯å¯¼å…¥åˆ°LayaAir/","link":"","permalink":"https://chasencenge.github.io/2020/07/09/å°†Unityåœºæ™¯å¯¼å…¥åˆ°LayaAir/","excerpt":"","text":"å°†U3Dæ’ä»¶æ‹–æ‹½åˆ°Unityé¡¹ç›®çš„Assetsç›®å½•ä¸‹ï¼Œä¼šè‡ªåŠ¨åœ¨é¡¹ç›®ä¸­import LayaAir3Dé€‰é¡¹ LayaAir3d-&gt;Export Toolä¸­å¯ä»¥å¯¼å‡ºUnity Scene å¯¼å‡ºåˆ°layaå·¥ç¨‹ä¸‹çš„bin-&gt;resæ–‡ä»¶å¤¹ LayaAir3D-&gt;Help-&gt;Tutorialå¯çœ‹å“ªäº›æ˜¯èƒ½å¤Ÿå…¼å®¹çš„ éª¨éª¼åŠ¨ç”»ï¼š spineéª¨éª¼åŠ¨ç”»å·¥å…· éª¨éª¼åŠ¨ç”»: æŠŠåŠ¨ç”»æ‰“æ•£, é€šè¿‡å·¥å…·ï¼Œè°ƒéª¨éª¼çš„è¿åŠ¨ç­‰æ¥å½¢æˆåŠ¨ç”»spineæ˜¯ä¸€ä¸ªéå¸¸æµè¡Œçš„2Déª¨éª¼åŠ¨ç”»åˆ¶ä½œå·¥å…·spine åŠ¨ç”»ç¾æœ¯äººå‘˜å¯¼å‡º3ä¸ªæ–‡ä»¶: (1) .pngæ–‡ä»¶:åŠ¨ç”»çš„â€éª¨éª¼â€çš„å›¾ç‰‡é›†; (2).atlasæ–‡ä»¶: æ¯ä¸ªéª¨éª¼åœ¨å›¾ç‰‡é›†é‡Œé¢ä½ç½®ï¼Œå¤§å°; (3).jsonæ–‡ä»¶: éª¨éª¼åŠ¨ç”»çš„animæ§åˆ¶æ–‡ä»¶,ä»¥åŠéª¨éª¼ä½ç½®ç­‰ä¿¡æ¯;éª¨éª¼åŠ¨ç”»å¯¼å…¥: ç›´æ¥æŠŠä¸‰ä¸ªæ–‡ä»¶æ‹·è´åˆ°é¡¹ç›®çš„èµ„æºç›®å½•ä¸‹å³å¯;ä½¿ç”¨éª¨éª¼åŠ¨ç”» 2ç§æ–¹å¼: (1) ç›´æ¥æ‹–åŠ¨åˆ°åœºæ™¯; (2) åˆ›å»ºä¸€ä¸ªèŠ‚ç‚¹æ¥æ·»åŠ sp.Skeletonç»„ä»¶; Unityçš„éª¨éª¼åŠ¨ç”»ï¼šUnityå¯¼å…¥éª¨éª¼åŠ¨ç”»æ—¶éœ€è¦çš„æºæ–‡ä»¶ä¹Ÿæ˜¯spineå¯¼å‡ºçš„ï¼š .atlas .json .pngä¸‰ä¸ªæ–‡ä»¶ï¼Œä¸è¿‡éœ€è¦å°†.atlasé‡å‘½åä¸º.atlas.txt Layaçš„éª¨éª¼åŠ¨ç”»ï¼šLayaçš„éª¨éª¼åŠ¨ç”»åœ¨å¯¼å…¥çš„æ—¶å€™æ˜¯ç›´æ¥å¯¹æ¥Spineå¯¼å‡ºçš„éª¨éª¼åŠ¨ç”»æ ¼å¼çš„ï¼Œå³.atlas .json .pngä¸‰ä¸ªæ–‡ä»¶","categories":[{"name":"Laya","slug":"Laya","permalink":"https://chasencenge.github.io/categories/Laya/"},{"name":"Environment","slug":"Laya/Environment","permalink":"https://chasencenge.github.io/categories/Laya/Environment/"}],"tags":[{"name":"Laya","slug":"Laya","permalink":"https://chasencenge.github.io/tags/Laya/"},{"name":"Environment","slug":"Environment","permalink":"https://chasencenge.github.io/tags/Environment/"}]},{"title":"ä¸ºSublimeæ·»åŠ TypeScripté«˜äº®æ”¯æŒ","slug":"ä¸ºSublimeæ·»åŠ TypeScripté«˜äº®æ”¯æŒ","date":"2020-07-09T00:50:23.000Z","updated":"2020-07-20T02:43:30.256Z","comments":true,"path":"2020/07/09/ä¸ºSublimeæ·»åŠ TypeScripté«˜äº®æ”¯æŒ/","link":"","permalink":"https://chasencenge.github.io/2020/07/09/ä¸ºSublimeæ·»åŠ TypeScripté«˜äº®æ”¯æŒ/","excerpt":"","text":"é¦–å…ˆåœ¨cmdæˆ–è€…Git CMDå®‰è£…typescriptç¼–è¯‘æ”¯æŒï¼šnpm install -g typescript è‹¥å‡ºç°npm ERR! code EINTEGRITYæŠ¥é”™ï¼š npm cache verify æ‰“å¼€sublimeå®‰è£…package controlï¼šåœ¨sublimeä¸­ctrl+shift+pæ‰“å¼€å‘½ä»¤é¢æ¿ è¾“å…¥ipæŸ¥æ‰¾Package Control: Installl Package æ‰“å¼€package controlå®‰è£…TypeScriptï¼šæ‰“å¼€preference-&gt;package controlï¼Œç„¶åç»§ç»­æŸ¥æ‰¾TypeScriptè¿›è¡Œå®‰è£…","categories":[{"name":"Laya","slug":"Laya","permalink":"https://chasencenge.github.io/categories/Laya/"}],"tags":[{"name":"Environment","slug":"Environment","permalink":"https://chasencenge.github.io/tags/Environment/"}]},{"title":"UnitySprite","slug":"UnitySprite","date":"2020-07-08T01:35:52.000Z","updated":"2020-07-20T02:39:25.922Z","comments":true,"path":"2020/07/08/UnitySprite/","link":"","permalink":"https://chasencenge.github.io/2020/07/08/UnitySprite/","excerpt":"Spriteç›¸å…³","text":"Spriteç›¸å…³ Sprite RendererFlipï¼šå‹¾é€‰åå›¾ç‰‡ä¼šåœ¨Xæˆ–Yè½´æ–¹å‘ä¸Šç¿»è½¬ Material:æè´¨ï¼Œé»˜è®¤æ˜¯Sprites - Defaultï¼Œåœºæ™¯ä¸­çš„ç¯å…‰ä¸ä¼šå½±å“åˆ°å›¾ç‰‡ï¼Œæ”¹ä¸ºDefault - Diffuseï¼Œç¯å…‰å¯ä»¥ç…§äº®å›¾ç‰‡ Draw Modeï¼šç»˜å›¾æ¨¡å¼, æ™®é€šï¼Œæ‹‰ä¼¸ï¼Œå¹³é“º Sorting Layerï¼šåˆ†ç±»å±‚ï¼Œæ§åˆ¶å›¾ç‰‡çš„æ¸²æŸ“é¡ºåºï¼Œç‚¹å¼€Sorting Layerï¼Œè¶Šé ä¸‹çš„è¶Šåæ¸²æŸ“ï¼Œè¶Šåœ¨æœ€å‰é¢ï¼ŒæŒ¡ä½åé¢çš„å›¾ç‰‡ Order In Layerï¼šåœ¨åŒä¸€å±‚ä¸­çš„æ¬¡åºï¼Œå½“å›¾ç‰‡åœ¨åŒä¸€ä¸ªå±‚ä¸‹æ—¶ï¼Œè®¾ç½®æ­¤æ•°å€¼å¯ä»¥å†æ¬¡æ§åˆ¶æ¸²æŸ“é¡ºåº Mask Interactionï¼šé®ç½©äº¤äº’ æ‰“åŒ…å›¾é›†Editor-&gt;Project Settings-&gt;Editorä¸‹é¢æœ‰sprite packerçš„æ¨¡å¼ã€‚Disabledè¡¨ç¤ºä¸å¯ç”¨å®ƒï¼ŒEnabled For Builds è¡¨ç¤ºåªæœ‰æ‰“åŒ…çš„æ—¶å€™æ‰ä¼šå¯ç”¨å®ƒï¼ŒAlways Enabled è¡¨ç¤ºæ°¸è¿œå¯ç”¨å®ƒã€‚ è¿™é‡Œçš„å¯ç”¨å®ƒå°±è¡¨ç¤ºæ˜¯å¦å°†å°å›¾è‡ªåŠ¨æ‰“æˆå›¾é›†ã€‚ .prefabæ–‡ä»¶ .prefabæ–‡ä»¶åœ¨Unityå¼•æ“ä¸­ï¼Œæ‰®æ¼”ç€é…ç½®æ–‡ä»¶çš„ä½œç”¨ï¼Œç”¨å®ƒå°†å¤šä¸ªç»„ä»¶å…³è”åœ¨äº†ä¸€èµ·ï¼Œç»„æˆäº†ä¸€ä¸ªæ•´ä½“ï¼Œé»˜è®¤æ˜¯ä¸€ä¸ªäºŒè¿›åˆ¶æ–‡ä»¶ .metaæ–‡ä»¶æ–°çš„èµ„æºå¯¼å…¥Unityæ—¶ï¼ŒUnityä¼šè‡ªåŠ¨åšä¸‹é¢è¿™ä»¶äº‹ï¼š 1.åˆ†é…å”¯ä¸€ID 2.åˆ›å»º.metaæ–‡ä»¶ 3.å¤„ç†èµ„æº .metaæ–‡ä»¶åŒ…å«å†…å®¹ï¼š guidï¼šåˆ†é…çš„å”¯ä¸€IDå­˜åœ¨è¿™é‡Œ MonoImporterï¼šå®ƒçš„æ•°æ®æ˜¯ä¸åŒçš„ImprotSettingæ•°æ®ï¼Œæ¯”å¦‚Mode Improterï¼ŒAudio Improterç­‰ç­‰ï¼Œå¯¹ç…§Inspectoré¢æ¿å°±å¯ä»¥çœ‹æ‡‚æ¯è¡Œæ•°æ®","categories":[{"name":"Unity","slug":"Unity","permalink":"https://chasencenge.github.io/categories/Unity/"}],"tags":[{"name":"Unity","slug":"Unity","permalink":"https://chasencenge.github.io/tags/Unity/"},{"name":"Sprite","slug":"Sprite","permalink":"https://chasencenge.github.io/tags/Sprite/"}]},{"title":"ProjectTinyçˆ¬å‘è®°å½•","slug":"ProjectTinyçˆ¬å‘è®°å½•","date":"2020-07-07T13:23:22.000Z","updated":"2020-07-20T02:37:18.401Z","comments":true,"path":"2020/07/07/ProjectTinyçˆ¬å‘è®°å½•/","link":"","permalink":"https://chasencenge.github.io/2020/07/07/ProjectTinyçˆ¬å‘è®°å½•/","excerpt":"","text":"","categories":[{"name":"Tiny","slug":"Tiny","permalink":"https://chasencenge.github.io/categories/Tiny/"},{"name":"Unity","slug":"Tiny/Unity","permalink":"https://chasencenge.github.io/categories/Tiny/Unity/"}],"tags":[{"name":"Tiny","slug":"Tiny","permalink":"https://chasencenge.github.io/tags/Tiny/"},{"name":"Unity","slug":"Unity","permalink":"https://chasencenge.github.io/tags/Unity/"}]},{"title":"ProjectTinyWorkshopæ ¸å¿ƒçŸ¥è¯†ç‚¹","slug":"ProjectTinyWorkshopæ ¸å¿ƒçŸ¥è¯†ç‚¹","date":"2020-07-07T13:03:53.000Z","updated":"2020-07-17T09:52:44.170Z","comments":true,"path":"2020/07/07/ProjectTinyWorkshopæ ¸å¿ƒçŸ¥è¯†ç‚¹/","link":"","permalink":"https://chasencenge.github.io/2020/07/07/ProjectTinyWorkshopæ ¸å¿ƒçŸ¥è¯†ç‚¹/","excerpt":"ECS & Monobehaviours","text":"ECS & Monobehaviours Monobehaviours: C#ç±»ï¼Œå¼•ç”¨ç±»å‹ï¼Œæ•°æ®åˆ†æ•£åœ¨å†…å­˜ä¸­ï¼Œå½“æ•°æ®å–å›æ—¶ï¼Œç³»ç»Ÿéœ€è¦éå†å†…å­˜å»å¯»æ‰¾ï¼Œæ“ä½œæ—¶ä¸éœ€è¦çš„æ•°æ®ä¹Ÿè¢«å¤„ç† ECS: ä½¿ç”¨å€¼ç±»å‹ï¼Œæ•°æ®ä¼šåœ¨å†…å­˜ä¸­ç´§å¯†åœ°è£…åœ¨ä¸€å—(chunk)ï¼Œä»…å¤„ç†éœ€è¦æ“ä½œçš„æ•°æ® Entitiesåªæ˜¯å¸®åŠ©æˆ‘ä»¬æ‰¾åˆ°(component)æ•°æ®çš„handle Componentsä¸¾ä¾‹ï¼š(Componentåªæ˜¯æ¨¡å—åŒ–çš„æ•°æ®) 123456789101112struct Health : IComponentData&#123; int current; int max;&#125;struct Sprite2D : IComponentData&#123; Entity image; Rect imageRegion; Vector2 pivot;&#125; Entitiesä¸¾ä¾‹ï¼š æ¯”å¦‚æŸä¸ªEntity 1æœ‰å››ä¸ªç»„ä»¶(Component)ï¼ŒLocalPositionç»„ä»¶ï¼ŒSprite2DRendererç»„ä»¶ï¼ŒHealthç»„ä»¶ï¼ŒPlayerç»„ä»¶ï¼ˆè¿™é‡Œæ²¡æœ‰è¡Œä¸ºï¼Œè¡Œä¸ºç”±ç³»ç»Ÿï¼ˆSystemï¼‰ç»™å‡ºï¼‰ Systemsä¸åœ¨ä¹å®ƒå¤„ç†çš„ç”Ÿå‘½å€¼æ˜¯ç©å®¶çš„ç”Ÿå‘½å€¼è¿˜æ˜¯ä¸€ä¸ªå…½äººæˆ–è€…å“¥å¸ƒæ—çš„ç”Ÿå‘½å€¼ SystemsåŒ…æ‹¬ä¸¤éƒ¨åˆ†ï¼Œä¸€æ˜¯queryï¼Œå¸®æˆ‘æ‰¾åˆ°è¿™ä¸ªæ•°æ®ï¼Œé‚£ä¸ªæ•°æ®â€¦ï¼Œæ‰¾åˆ°äº†ä¹‹åå¯¹æ•°æ®çš„action ç”¨Systemçš„æ–¹å¼ç­›é€‰è¦æ“ä½œçš„rntities: 123456789101112public override void OnUpdate()&#123; var dt = Scheduler.DeltaTime(); ForEach( LocalPosition MoveToTarget Not : Frozen =&gt; //æ³¨æ„æŸ¥è¯¢æ—¶çš„è¿™ç§ç­›é€‰ï¼Œç”¨Not &#123; //actions &#125; );&#125;","categories":[{"name":"Project Tiny","slug":"Project-Tiny","permalink":"https://chasencenge.github.io/categories/Project-Tiny/"}],"tags":[{"name":"DOTS","slug":"DOTS","permalink":"https://chasencenge.github.io/tags/DOTS/"}]},{"title":"Unity DOTS(ç›´æ’­ç¬”è®°)","slug":"UnityDOTS(ç›´æ’­ç¬”è®°)","date":"2020-07-07T12:52:13.000Z","updated":"2020-07-20T02:38:44.294Z","comments":true,"path":"2020/07/07/UnityDOTS(ç›´æ’­ç¬”è®°)/","link":"","permalink":"https://chasencenge.github.io/2020/07/07/UnityDOTS(ç›´æ’­ç¬”è®°)/","excerpt":"ECSä¼˜åŒ–ç¼“å­˜è¡Œ-- ECSå’Œä¼ ç»Ÿæ¸¸æˆå¯¹è±¡-- åŸå‹Archtype-- æ ˆå¸§-- ç»„ä»¶ä¸å…±äº«ç»„ä»¶-- ECSå®ä¾‹-- æ±‡ç¼–æŒ‡ä»¤-- SIMD-- Burstç¼–è¯‘å™¨-- Unity.mathematicsæ•°å­¦åº“-- Jobå¤šçº¿ç¨‹è®¡ç®—-- ç³»ç»Ÿç”Ÿå‘½å‘¨æœŸ--","text":"ECSä¼˜åŒ–ç¼“å­˜è¡Œ-- ECSå’Œä¼ ç»Ÿæ¸¸æˆå¯¹è±¡-- åŸå‹Archtype-- æ ˆå¸§-- ç»„ä»¶ä¸å…±äº«ç»„ä»¶-- ECSå®ä¾‹-- æ±‡ç¼–æŒ‡ä»¤-- SIMD-- Burstç¼–è¯‘å™¨-- Unity.mathematicsæ•°å­¦åº“-- Jobå¤šçº¿ç¨‹è®¡ç®—-- ç³»ç»Ÿç”Ÿå‘½å‘¨æœŸ-- ECSä¼˜åŒ–ç¼“å­˜è¡Œï¼šæ€æ ·æé«˜ç¼“å†²åŒºå‘½ä¸­ç‡ï¼Œæ¯ä¸ªå¯¹è±¡åªåŠ è½½xyåæ ‡å’Œæ—‹è½¬ä¸€å…±12bï¼Œé‚£ä¹ˆä¸€ä¸ªç¼“å­˜è¡Œèƒ½å­˜äº”ä¸ªå¯¹è±¡ï¼Œæµªè´¹64-21*5 = 4b ECSå’Œä¼ ç»Ÿæ¸¸æˆå¯¹è±¡ï¼šECSï¼šEntityï¼ˆå®ä½“ï¼‰ã€Componentï¼ˆç»„ä»¶ï¼‰ã€Systemï¼ˆç³»ç»Ÿï¼‰ ä¼ ç»Ÿï¼š 12345678public class Game : MonoBehaviour&#123; public int x; private void Update() &#123; x++; &#125;&#125; ECSï¼š 123456789101112131415public struct GameComponentData : IComponentData // ç»„ä»¶ //ç»“æ„ä½“åªä¿å­˜æ•°æ®ï¼Œä¸èƒ½å†™é€»è¾‘&#123; public int x;&#125;public class MyGameSystem : ComponentSystem //åœ¨Systemé‡Œæ‰¾å…³å¿ƒçš„ç»„ä»¶&#123; protected override void OnUpdate() &#123; this.Entities.ForEach((ref GameComponentData data) =&gt; &#123; data.x++; &#125;); &#125;&#125; åŸå‹Archtypeï¼šå³ä½¿ä¸åŒçš„å®ä½“Entityï¼Œåªè¦ç»„ä»¶ç›¸åŒéƒ½ä¼šä¿å­˜åœ¨åŸå‹ArcheTypeã€‚ ArcheTypeæ˜¯16KBçš„æ•°ç»„å®¹å™¨ã€‚ æ ˆå¸§ï¼šæ ˆä¸Šä¼šä¿ç•™å€¼ç±»å‹æ•°æ®å’ŒæŒ‡å‘å †çš„æŒ‡é’ˆã€‚ ç»„ä»¶ä¸å…±äº«ç»„ä»¶ï¼šå€¼ç±»å‹ç»„ä»¶å’Œå…±äº«ç±»å‹ç»„ä»¶ã€‚ Systemå¯ä»¥æ‰¾åˆ°å®ƒå…³å¿ƒçš„ç»„ä»¶å»éå†ã€‚ Component Systemåœ¨Main Threadï¼ŒJob Component System(JCS)å¯ä»¥åœ¨å¤šçº¿ç¨‹ã€‚ Main Threadâ€“JCS &gt;&gt;&gt; Worker Threadâ€“Job, Job, Jobâ€¦â€¦ JobSystemåº”ç”¨ï¼šECSå®ä¾‹ï¼šArcheType Chunkå®¹é‡16KBï¼ŒåŒ…å«Trees #1, Trees #2, Rocks #1, Big Enemies #1, Small Enemies #1, Small Enemies #2, Queryå‡ºç¬¦åˆæ¡ä»¶çš„å®ä½“ç»„ä»¶ï¼Œå¤§æ•Œäººã€å°æ•Œäººç»Ÿä¸€Updateï¼ˆç›¸æ¯”Rocksï¼ŒTreesæ›´æ„Ÿå…´è¶£ï¼‰ æ±‡ç¼–æŒ‡ä»¤ï¼šmovæŒ‡ä»¤ï¼šå†…å­˜ä¸­æ•°æ®ä¼ åˆ°å¯„å­˜å™¨/å¯„å­˜å™¨æ•°æ®ä¼ åˆ°å¦ä¸€å¯„å­˜å™¨ mov ax 8 æ•°æ®-&gt;å¯„å­˜å™¨ mov ax bx å¯„å­˜å™¨-&gt;å¯„å­˜å™¨ SIMDï¼šæ²¡å¬æ‡‚ç”¨æ¥å¹²å˜› SIMDæŒ‡ä»¤ä¼˜åŒ–æ€»ç»“ï¼š é¿å…ä»£ç å‡ºç°åˆ†æ”¯é¢„æµ‹ï¼ˆä¼šæ‰“æ–­SIMDçš„å‘é‡åŒ–æŒ‡ä»¤ï¼‰ï¼Œä½¿ç”¨math.selectå’Œmath.lerpä»£æ›¿åˆ†æ”¯é¢„æµ‹ ä½¿ç”¨float4 bool4ç­‰ä»£æ›¿float bool ä½¿ç”¨m128è‡ªå·±ç»„ç»‡128ä½æ•°æ® ç¼–è¯‘åå°½é‡ä½¿ç”¨vå¼€å¤´æŒ‡ä»¤ï¼Œç»“å°¾å°½é‡æ˜¯psæŒ‡ä»¤è€Œä¸æ˜¯ssæŒ‡ä»¤ Burstç¼–è¯‘å™¨ï¼šBurståªæ”¯æŒå€¼ç±»å‹æ•°æ®çš„ç¼–è¯‘ï¼Œä¸æ”¯æŒå¼•ç”¨ç±»å‹æ•°æ®ç¼–è¯‘ï¼ˆå› ä¸ºC#çš„GCåšçš„ä¸å¥½ï¼‰ã€‚ Burstç¼–è¯‘å™¨æ˜¯ä»¥LLVMä¸ºåŸºç¡€çš„åç«¯ç¼–è¯‘æŠ€æœ¯ã€‚ æ€ä¹ˆå¯åŠ¨Burstç¼–è¯‘å™¨ï¼Ÿåœ¨Jobä¸Šé¢åŠ ä¸Š[BurstCompile]ï¼Œå¦‚æœåœ¨Jobå¤–æ€ä¹ˆå·¥ä½œå‘¢ï¼Ÿä½¿ç”¨æœ‰ä¸€ä¸ªé™åˆ¶æ˜¯éœ€è¦é™æ€æ–¹æ³• 12345678910111213141516[BurstCompile]public class MyClass&#123; [BurstCompile] public static float add(float a, float b) &#123; return a * b; &#125; [BurstCompile] &#123; public static unsafe void dot(float3* a, float3* b, float* c) &#123; *c = math.dot(*a, *b); &#125; &#125;&#125; Unity.mathematicsæ•°å­¦åº“ï¼šæä¾›çŸ¢é‡ç±»å‹ï¼ˆfloat4 float3â€¦ï¼‰å¯ç›´æ¥æ˜ å°„åˆ°ç¡¬ä»¶SIMDå¯„å­˜å™¨ Mathç±»ä¹Ÿæä¾›äº†ç›´æ¥æ˜ å°„åˆ°ç¡¬ä»¶SIMDå¯„å­˜å™¨ åŸæœ¬CPUä¸€ä¸ªä¸€ä¸ªè®¡ç®—çš„æœ‰äº†SIMDå¯ä»¥ä¸€æ¬¡æ€§è®¡ç®— Jobå¤šçº¿ç¨‹è®¡ç®—ï¼š12345678910111213141516171819202122[BurstCompile]public struct MyJob1 : IJob&#123; [ReadOnly] public int left; [ReadOnly] public int right; [WriteOnly] public NativeArray&lt;int&gt; @out; public Execute() &#123; @out[0] = left * right; &#125;&#125;private void Start()&#123; MyJob1 myJob = new MyJob1(); myJob.left = 2; myJob.right = 3; myJob.@out = new NativeArray&lt;int&gt;(1, Allocator.TempJob); myJob.Schedule().Complete(); //åœ¨ä¸€ä¸ªå­çº¿ç¨‹ä¸­è®¡ç®—å¹¶ä¸”ç­‰å¾…å®Œæˆ Debug.Log(myJob.@out[0]); // log 6; myJob.@out.Dispose();&#125; 1234567891011121314151617181920212223// IJobFor[BurstCompile]public struct MyJob2 : IJobFor&#123; public NativeArray&lt;int&gt; left; [ReadOnly] public NativeArra&lt;int&gt; right; public void Execute(int index) &#123; left[index] = left[index] * right[index]; //è¾“å‡ºçº¿ç¨‹IDå’Œå½“å‰æ‰§è¡Œçš„ç´¢å¼• Debug.Log(System.Threading.Thread.CurrentThread.ManagedThreadId + &quot;,&quot; + index); &#125;&#125;private void start()&#123; MyJob2 myJob = new MyJob2(); myJob.left = new NativeArray&lt;int&gt;(100, Allocator.TempJob); myJob.right = new NativeArray&lt;int&gt;(100, Allocator.TempJob); myJob.Schedule(myJob.left.Length, new JobHandle()).Complete(); //å®é™…ä¸Šæ˜¯åœ¨ä¸€ä¸ªå­çº¿ç¨‹é‡Œé¢å¼€äº†ä¸ªforå¾ªç¯ï¼ŒScheduleæ˜¯åœ¨ä¸€ä¸ªå­çº¿ç¨‹ä¸­æ‰§è¡Œï¼Œå¯ä»¥ä¿è¯é¡ºåº myJob.left.Dispose(); myJob.right.Dispose();&#125; Scheduleå’ŒScheduleParallelå¯¹æ¯”ï¼š 12//ScheduleParallelå¯ä»¥åœ¨å¤šä¸ªå­çº¿ç¨‹ä¸­å¹¶è¡Œè¿è¡Œï¼Œä¸ä¿è¯é¡ºåºmyJob.ScheduleParallel(myJob.left.Length, 64, new JobHandle()).Complete(); IJobForå’ŒIJobParallelFor 1234567891011121314151617181920212223[BurstCompile]public struct MyJob2 : IJobParallelFor&#123; public NativeArray&lt;int&gt; left; [ReadOnly] public NativeArra&lt;int&gt; right; public void Execute(int index) &#123; left[index] = left[index] * right[index]; //è¾“å‡ºçº¿ç¨‹IDå’Œå½“å‰æ‰§è¡Œçš„ç´¢å¼• Debug.Log(System.Threading.Thread.CurrentThread.ManagedThreadId + &quot;,&quot; + index); &#125;&#125;private void start()&#123; MyJob2 myJob = new MyJob2(); myJob.left = new NativeArray&lt;int&gt;(100, Allocator.TempJob); myJob.right = new NativeArray&lt;int&gt;(100, Allocator.TempJob); //å› ä¸ºæ¥å£æ˜¯IJobParallelForï¼Œè¿™é‡Œçš„Scheduleå°±å®Œå…¨æ˜¯å¹¶è¡Œæ‰§è¡Œä¸ä¿è¯é¡ºåºäº†(æ³¨æ„å‚æ•°æœ‰äº›ä¸åŒï¼Œå¤šäº†ä¸ªâ€œ64â€) myJob.Schedule(myJob.left.Length, 64, new JobHandle()).Complete(); myJob.left.Dispose(); myJob.right.Dispose();&#125; Completeæ˜¯å®ç°åœ¨ä¸»çº¿ç¨‹ç­‰å¾…æ‰§è¡Œçš„ç»“æœ myJob.Scheduleå’ŒmyJob.Runå¯¹æ¯”ï¼šScheduleæ˜¯åœ¨å¤šæ ¸å­çº¿ç¨‹ä¸­å¹¶è¡Œè®¡ç®—ï¼ŒRunæ˜¯å®Œå…¨åœ¨ä¸»çº¿ç¨‹æ‰§è¡Œ Jobçš„å¤„ç†ä¾èµ–å…³ç³»ï¼š æˆ‘æœ‰Job1å’ŒJob2ï¼Œæ€ä¹ˆå¹¶è¡Œæ‰§è¡Œå¿«ä¸€äº›ï¼Ÿ 1234567891011121314151617MyJob2 myJob1 = new MyJob2();MyJob3 myJob2 = new MyJob3();//åŒæ—¶å¹¶è¡Œæ‰§è¡ŒmyJob1.Schedule(100, 64);myJob2.Schedule(100, 64);//Job1æ‰§è¡Œå®Œæ¯•åå†å¹¶è¡Œæ‰§è¡ŒJob2//ç¼ºç‚¹æ˜¯è¦åœ¨ä¸»çº¿ç¨‹ç­‰å¾…Job1ç»“æŸ(å› ä¸ºç”¨äº†Complete())myJob1.Schedule(100, 64).Complete();myJob2.Schedule(100, 64); //è®¾ç½®Job2ä¾èµ–Job1ï¼Œè¿™æ ·ä¸éœ€è¦åœ¨ä¸»çº¿ç¨‹ç­‰å¾…//JobHandleå’Œä¾èµ–é¡¹ï¼šè°ƒç”¨Scheduleæ–¹æ³•æ—¶ä¼šè¿”å›JobHandleï¼Œå¯ä»¥ç”¨Job1çš„JobHandleä½œä¸ºJob2çš„ä¾èµ–é¡¹JobHandle jobHandle = new JobHandle();JobHandle scheduleJobDependencyJob = myJob1.Schedule(100, 64, jobHandle);myJob2.Schedule(100, 64, scheduleJobDependencyJob).Complete(); è®¾è®¡æ¨¡å¼-ç»„åˆæ¨¡å¼ï¼šç³»ç»Ÿç”Ÿå‘½å‘¨æœŸï¼šOnCreate(), OnStartRunning(), OnUpdate(), OnStopRunning(), OnDestory()","categories":[{"name":"Unity","slug":"Unity","permalink":"https://chasencenge.github.io/categories/Unity/"}],"tags":[{"name":"DOTS","slug":"DOTS","permalink":"https://chasencenge.github.io/tags/DOTS/"}]},{"title":"æœ¬åœ°ä»£ç æäº¤è‡³git","slug":"æœ¬åœ°ä»£ç æäº¤è‡³git","date":"2019-11-20T15:02:36.000Z","updated":"2020-07-20T02:40:13.092Z","comments":true,"path":"2019/11/20/æœ¬åœ°ä»£ç æäº¤è‡³git/","link":"","permalink":"https://chasencenge.github.io/2019/11/20/æœ¬åœ°ä»£ç æäº¤è‡³git/","excerpt":"æœ¬åœ°æ›´æ–°å¦‚ä½•æäº¤è‡³GitHub","text":"æœ¬åœ°æ›´æ–°å¦‚ä½•æäº¤è‡³GitHub for first use1234567git init ***init .git*** git status ***check files to be added to the local repository*** git add xxx ***add files to repo*** git commit -m &quot;commit description&quot; ***commit to repo*** git remote add origin git@github.com:mobinets/hyblora.git ***link local repo to github*** git pull --rebase origin master ***pull = fetch + merge*** git push -u origin master ***upload*** not first use repo123git add xxx git commit -m &quot;commit discription&quot; git push -u origin master","categories":[{"name":"Git","slug":"Git","permalink":"https://chasencenge.github.io/categories/Git/"}],"tags":[{"name":"git","slug":"git","permalink":"https://chasencenge.github.io/tags/git/"}]},{"title":"ParticalFilter(ç²’å­æ»¤æ³¢ç®—æ³•)","slug":"ParticalFilter(ç²’å­æ»¤æ³¢ç®—æ³•)","date":"2019-09-23T05:36:58.000Z","updated":"2020-07-20T02:36:54.957Z","comments":true,"path":"2019/09/23/ParticalFilter(ç²’å­æ»¤æ³¢ç®—æ³•)/","link":"","permalink":"https://chasencenge.github.io/2019/09/23/ParticalFilter(ç²’å­æ»¤æ³¢ç®—æ³•)/","excerpt":"ç²’å­æ»¤æ³¢ç®—æ³•","text":"ç²’å­æ»¤æ³¢ç®—æ³• 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182import numpy as npimport scipy as scipyfrom numpy.random import uniformimport scipy.statsnp.set_printoptions(threshold=3)np.set_printoptions(suppress=True)import cv2def drawLines(img, points, r, g, b): cv2.polylines(img, [np.int32(points)], isClosed=False, color=(r, g, b))def drawCross(img, center, r, g, b): d = 5 t = 2 LINE_AA = cv2.LINE_AA if cv2.__version__[0] == '3' else cv2.CV_AA color = (r, g, b) ctrx = center[0,0] ctry = center[0,1] cv2.line(img, (ctrx - d, ctry - d), (ctrx + d, ctry + d), color, t, LINE_AA) cv2.line(img, (ctrx + d, ctry - d), (ctrx - d, ctry + d), color, t, LINE_AA) def mouseCallback(event, x, y, flags,null): global center global trajectory global previous_x global previous_y global zs center=np.array([[x,y]]) trajectory=np.vstack((trajectory,np.array([x,y]))) #noise=sensorSigma * np.random.randn(1,2) + sensorMu if previous_x &gt;0: heading=np.arctan2(np.array([y-previous_y]), np.array([previous_x-x ])) if heading&gt;0: heading=-(heading-np.pi) else: heading=-(np.pi+heading) distance=np.linalg.norm(np.array([[previous_x,previous_y]])-np.array([[x,y]]) ,axis=1) std=np.array([2,4]) u=np.array([heading,distance]) predict(particles, u, std, dt=1.) zs = (np.linalg.norm(landmarks - center, axis=1) + (np.random.randn(NL) * sensor_std_err)) update(particles, weights, z=zs, R=50, landmarks=landmarks) indexes = systematic_resample(weights) resample_from_index(particles, weights, indexes) previous_x=x previous_y=y WIDTH=800HEIGHT=600WINDOW_NAME=\"Particle Filter\"#sensorMu=0#sensorSigma=3sensor_std_err=5def create_uniform_particles(x_range, y_range, N): particles = np.empty((N, 2)) particles[:, 0] = uniform(x_range[0], x_range[1], size=N) particles[:, 1] = uniform(y_range[0], y_range[1], size=N) return particlesdef predict(particles, u, std, dt=1.): N = len(particles) dist = (u[1] * dt) + (np.random.randn(N) * std[1]) particles[:, 0] += np.cos(u[0]) * dist particles[:, 1] += np.sin(u[0]) * dist def update(particles, weights, z, R, landmarks): weights.fill(1.) for i, landmark in enumerate(landmarks): distance=np.power((particles[:,0] - landmark[0])**2 +(particles[:,1] - landmark[1])**2,0.5) weights *= scipy.stats.norm(distance, R).pdf(z[i]) weights += 1.e-300 # avoid round-off to zero weights /= sum(weights) def neff(weights): return 1. / np.sum(np.square(weights))def systematic_resample(weights): N = len(weights) positions = (np.arange(N) + np.random.random()) / N indexes = np.zeros(N, 'i') cumulative_sum = np.cumsum(weights) i, j = 0, 0 while i &lt; N and j&lt;N: if positions[i] &lt; cumulative_sum[j]: indexes[i] = j i += 1 else: j += 1 return indexes def estimate(particles, weights): pos = particles[:, 0:1] mean = np.average(pos, weights=weights, axis=0) var = np.average((pos - mean)**2, weights=weights, axis=0) return mean, vardef resample_from_index(particles, weights, indexes): particles[:] = particles[indexes] weights[:] = weights[indexes] weights /= np.sum(weights) x_range=np.array([0,800])y_range=np.array([0,600])#Number of partcilesN=400landmarks=np.array([ [144,73], [410,13], [336,175], [718,159], [178,484], [665,464] ])NL = len(landmarks)particles=create_uniform_particles(x_range, y_range, N)weights = np.array([1.0]*N)# Create a black image, a window and bind the function to windowimg = np.zeros((HEIGHT,WIDTH,3), np.uint8)cv2.namedWindow(WINDOW_NAME)cv2.setMouseCallback(WINDOW_NAME,mouseCallback)center=np.array([[-10,-10]])trajectory=np.zeros(shape=(0,2))robot_pos=np.zeros(shape=(0,2))previous_x=-1previous_y=-1DELAY_MSEC=50while(1): cv2.imshow(WINDOW_NAME,img) img = np.zeros((HEIGHT,WIDTH,3), np.uint8) drawLines(img, trajectory, 0, 255, 0) drawCross(img, center, r=255, g=0, b=0) #landmarks for landmark in landmarks: cv2.circle(img,tuple(landmark),10,(255,0,0),-1) #draw_particles: for particle in particles: cv2.circle(img,tuple((int(particle[0]),int(particle[1]))),1,(255,255,255),-1) if cv2.waitKey(DELAY_MSEC) &amp; 0xFF == 27: break cv2.circle(img,(10,10),10,(255,0,0),-1) cv2.circle(img,(10,30),3,(255,255,255),-1) cv2.putText(img,\"Landmarks\",(30,20),1,1.0,(255,0,0)) cv2.putText(img,\"Particles\",(30,40),1,1.0,(255,255,255)) cv2.putText(img,\"Robot Trajectory(Ground truth)\",(30,60),1,1.0,(0,255,0)) drawLines(img, np.array([[10,55],[25,55]]), 0, 255, 0) cv2.destroyAllWindows() å¦‚ä½•å®‰è£…ä¾èµ–å¹¶è¿è¡Œæ‰“å¼€anaconda prompt 1234conda create -n Filters python=3conda activate Filtersconda install -c menpo opencv3conda install numpy scipy matplotlib sympy cd python_codepython partical.pypython partical_v2.py","categories":[{"name":"Python","slug":"Python","permalink":"https://chasencenge.github.io/categories/Python/"}],"tags":[{"name":"Python","slug":"Python","permalink":"https://chasencenge.github.io/tags/Python/"}]},{"title":"Hexoå‘å¸ƒ","slug":"Hexoå‘å¸ƒ","date":"2019-09-14T15:52:50.000Z","updated":"2020-07-20T02:28:34.779Z","comments":true,"path":"2019/09/14/Hexoå‘å¸ƒ/","link":"","permalink":"https://chasencenge.github.io/2019/09/14/Hexoå‘å¸ƒ/","excerpt":"å¦‚ä½•å‘å¸ƒHexoåšå®¢","text":"å¦‚ä½•å‘å¸ƒHexoåšå®¢ hexoæ–‡ä»¶å¤¹ä¸­ï¼Œgit bash here hexo new â€˜â€™ hexo clean hexo g hexo s hexo d","categories":[],"tags":[{"name":"hexo","slug":"hexo","permalink":"https://chasencenge.github.io/tags/hexo/"}]},{"title":"Python---yieldå…³é”®å­—","slug":"Pythonçš„yieldå…³é”®å­—","date":"2019-07-25T06:59:22.000Z","updated":"2020-07-20T02:54:05.198Z","comments":true,"path":"2019/07/25/Pythonçš„yieldå…³é”®å­—/","link":"","permalink":"https://chasencenge.github.io/2019/07/25/Pythonçš„yieldå…³é”®å­—/","excerpt":"pythonä¸­yieldå…³é”®å­—çš„ç”¨æ³•","text":"pythonä¸­yieldå…³é”®å­—çš„ç”¨æ³• è¿­ä»£(iteration)ä¸å¯è¿­ä»£(iterable)ä½¿ç”¨å®¹å™¨æ—¶é€ä¸ªè·å–å…ƒç´ çš„è¿‡ç¨‹ä¸ºè¿­ä»£ã€‚ å“ªäº›ç±»å‹æ˜¯å¯è¿­ä»£çš„ pythonä¸­çš„é¡ºåºç±»å‹ï¼š list, tuple(å…ƒç»„ï¼Œåˆ—è¡¨å¯ä¿®æ”¹å…ƒç»„ä¸å¯ä¿®æ”¹ï¼Œåˆ—è¡¨ç”¨ä¸­æ‹¬å·å…ƒç»„ç”¨å°æ‹¬å·), string. dict, set, file. æŸç±»å¯¹è±¡æä¾›äº† __iter__() æˆ–è€… __getitem__() æ–¹æ³•. è¿­ä»£å™¨å¯¹è¿­ä»£å™¨ä¸æ–­è°ƒç”¨next()æ–¹æ³•ï¼Œå¯ä¾æ¬¡è·å–ä¸‹ä¸€ä¸ªå…ƒç´ ï¼Œè¿­ä»£å™¨__iter__()æ–¹æ³•è¿”å›è¿­ä»£å™¨è‡ªèº«ï¼Œå› æ­¤è¿­ä»£å™¨ä¹Ÿæ˜¯å¯è¿­ä»£çš„ã€‚ è¿­ä»£å™¨åè®®(iterator protocol)ä¸€ä¸ªå®¹å™¨æä¾›__iter__()æ–¹æ³•ï¼Œè¯¥æ–¹æ³•èƒ½è¿”å›ä¸€ä¸ªèƒ½é€ä¸ªè®¿é—®å®¹å™¨å†…æ‰€æœ‰å…ƒç´ çš„è¿­ä»£å™¨ï¼Œåˆ™è¯¥å®¹å™¨å®ç°äº†è¿­ä»£å™¨åè®®ã€‚ pythonå¤„ç†forå¾ªç¯çš„è¿‡ç¨‹12for x in something: print(x) å¤„ç†forå¾ªç¯é¦–å…ˆè°ƒç”¨å†…å»ºå‡½æ•°iter(something),å†…å»ºå‡½æ•°è°ƒç”¨something.__iter__(),è¿”å›somethingå¯¹åº”çš„è¿­ä»£å™¨ï¼Œç„¶åforå¾ªç¯ä¼šè°ƒç”¨å†…å»ºå‡½æ•°next()ï¼Œä½œç”¨åœ¨è¿­ä»£å™¨ä¸Šè·å–è¿­ä»£å™¨çš„ä¸‹ä¸€ä¸ªå…ƒç´ ï¼Œå¹¶èµ‹å€¼ç»™x ç”Ÿæˆå™¨å‡½æ•°(generaor function)å’Œç”Ÿæˆå™¨(generator)å¦‚æœä¸€ä¸ªå‡½æ•°åŒ…å« yield è¡¨è¾¾å¼ï¼Œé‚£ä¹ˆå®ƒæ˜¯ä¸€ä¸ªç”Ÿæˆå™¨å‡½æ•°ï¼›è°ƒç”¨å®ƒä¼šè¿”å›ä¸€ä¸ªç‰¹æ®Šçš„è¿­ä»£å™¨ï¼Œç§°ä¸ºç”Ÿæˆå™¨ã€‚ ç”Ÿæˆå™¨å‡½æ•°è¢«è°ƒç”¨åï¼Œå…¶å‡½æ•°ä½“å†…çš„ä»£ç å¹¶ä¸ä¼šç«‹å³æ‰§è¡Œï¼Œè€Œæ˜¯è¿”å›ä¸€ä¸ªç”Ÿæˆå™¨ï¼ˆgenerator-iteratorï¼‰ã€‚å½“è¿”å›çš„ç”Ÿæˆå™¨è°ƒç”¨æˆå‘˜æ–¹æ³•æ—¶ï¼Œç›¸åº”çš„ç”Ÿæˆå™¨å‡½æ•°ä¸­çš„ä»£ç æ‰ä¼šæ‰§è¡Œã€‚ â€œä¸‹ä¸€ä¸ªyieldè¡¨è¾¾å¼â€è°ƒç”¨ generator.next() æ—¶ï¼Œç”Ÿæˆå™¨å‡½æ•°ä¼šä»å½“å‰ä½ç½®å¼€å§‹æ‰§è¡Œåˆ°ä¸‹ä¸€ä¸ª yield è¡¨è¾¾å¼ã€‚è¿™é‡Œçš„ã€Œä¸‹ä¸€ä¸ªã€æŒ‡çš„æ˜¯æ‰§è¡Œé€»è¾‘çš„ä¸‹ä¸€ä¸ªã€‚ 12345678910111213141516def f123(): yield 1 yield 2 yield 3for item in f123(): # 1, 2, and 3, will be printed print(item)def f13(): yield 1 while False: yield 2 yield 3for item in f13(): # 1 and 3, will be printed print(item) ä½¿ç”¨ send() æ–¹æ³•ä¸ç”Ÿæˆå™¨å‡½æ•°é€šä¿¡12345678910def func(): x = 1 while True: y = (yield x) x += ygeniter = func()geniter.next() # 1geniter.send(3) # 4geniter.send(10)# 14 ç”Ÿæˆå™¨å‡½æ•° func ç”¨ yield è¡¨è¾¾å¼ï¼Œå°†å¤„ç†å¥½çš„ x å‘é€ç»™ç”Ÿæˆå™¨çš„è°ƒç”¨è€…ï¼›ä¸æ­¤åŒæ—¶ï¼Œç”Ÿæˆå™¨çš„è°ƒç”¨è€…é€šè¿‡ send å‡½æ•°ï¼Œå°†å¤–éƒ¨ä¿¡æ¯ä½œä¸ºç”Ÿæˆå™¨å‡½æ•°å†…éƒ¨çš„ yield è¡¨è¾¾å¼çš„å€¼ï¼Œä¿å­˜åœ¨ y å½“ä¸­ï¼Œå¹¶å‚ä¸åç»­çš„å¤„ç†ã€‚ yieldçš„å¥½å¤„é¡ºåºè®¿é—®å®¹å™¨å†…çš„å‰äº”ä¸ªå…ƒç´ ï¼š way1:è·å–æ‰€æœ‰å…ƒç´ ç„¶åå–å‰äº” way2:é€ä¸ªè¿­ä»£ï¼Œè‡³ç¬¬äº”ä¸ªå…ƒç´  å‡è®¾å¯¹äºä¸€ä¸ªfunc(),è¿”å›å€¼ä¸ºåˆ—è¡¨ï¼Œè°ƒç”¨è€…å¯¹å…¶è¿”å›å€¼åªæœ‰é€ä¸ªè¿­ä»£ï¼š è‹¥ç­‰å‡½æ•°ç”Ÿæˆæ‰€æœ‰å…ƒç´ å¯èƒ½éœ€è¦å¾ˆé•¿æ—¶é—´ ä½¿ç”¨yieldæŠŠfunc()å˜æˆä¸€ä¸ªç”Ÿæˆå™¨å‡½æ•°ï¼Œæ¯æ¬¡äº§ç”Ÿä¸€ä¸ªå…ƒç´ ï¼Œå¯ä»¥èŠ‚çœå¼€é”€","categories":[{"name":"Python","slug":"Python","permalink":"https://chasencenge.github.io/categories/Python/"}],"tags":[{"name":"Python","slug":"Python","permalink":"https://chasencenge.github.io/tags/Python/"}]},{"title":"Gradleç›¸å…³çŸ¥è¯†(è½¬è½½è‡ªBonker)","slug":"Gradleç›¸å…³çŸ¥è¯†(è½¬è½½è‡ªBonker)","date":"2019-07-18T08:38:29.000Z","updated":"2020-07-20T02:27:58.584Z","comments":true,"path":"2019/07/18/Gradleç›¸å…³çŸ¥è¯†(è½¬è½½è‡ªBonker)/","link":"","permalink":"https://chasencenge.github.io/2019/07/18/Gradleç›¸å…³çŸ¥è¯†(è½¬è½½è‡ªBonker)/","excerpt":"å…³äºAndroidå¼€å‘ä¸­çš„Gradle","text":"å…³äºAndroidå¼€å‘ä¸­çš„Gradle (è½¬è½½è‡ªBonkerï¼‰åŸæ–‡é“¾æ¥ï¼šhttps://www.cnblogs.com/Bonker/p/5619458.html ä»€ä¹ˆæ˜¯Gradleç®€å•çš„è¯´ï¼ŒGradleæ˜¯ä¸€ä¸ªæ„å»ºå·¥å…·ï¼Œå®ƒæ˜¯ç”¨æ¥å¸®åŠ©æˆ‘ä»¬æ„å»ºappçš„ï¼Œæ„å»ºåŒ…æ‹¬ç¼–è¯‘ã€æ‰“åŒ…ç­‰è¿‡ç¨‹ã€‚æˆ‘ä»¬å¯ä»¥ä¸ºGradleæŒ‡å®šæ„å»ºè§„åˆ™ï¼Œç„¶åå®ƒå°±ä¼šæ ¹æ®æˆ‘ä»¬çš„â€œå‘½ä»¤â€è‡ªåŠ¨ä¸ºæˆ‘ä»¬æ„å»ºappã€‚Android Studioä¸­é»˜è®¤å°±ä½¿ç”¨Gradleæ¥å®Œæˆåº”ç”¨çš„æ„å»ºã€‚æœ‰äº›åŒå­¦å¯èƒ½ä¼šæœ‰ç–‘é—®ï¼šâ€æˆ‘ç”¨ASä¸è®°å¾—ç»™GradleæŒ‡å®šè¿‡ä»€ä¹ˆæ„å»ºè§„åˆ™å‘€ï¼Œæœ€åä¸è¿˜æ˜¯èƒ½æå‡ºæ¥ä¸ªapkã€‚â€œ å®é™…ä¸Šï¼Œappçš„æ„å»ºè¿‡ç¨‹æ˜¯å¤§åŒå°å¼‚çš„ï¼Œæœ‰ä¸€äº›è¿‡ç¨‹æ˜¯â€é€šç”¨â€œçš„ï¼Œä¹Ÿå°±æ˜¯æ¯ä¸ªappçš„æ„å»ºéƒ½è¦ç»å†ä¸€äº›å…¬å…±æ­¥éª¤ã€‚å› æ­¤ï¼Œåœ¨æˆ‘ä»¬åœ¨åˆ›å»ºå·¥ç¨‹æ—¶ï¼ŒAndroid Studioè‡ªåŠ¨å¸®æˆ‘ä»¬ç”Ÿæˆäº†ä¸€äº›é€šç”¨æ„å»ºè§„åˆ™ï¼Œå¾ˆå¤šæ—¶å€™æˆ‘ä»¬ç”šè‡³å®Œå…¨ä¸ç”¨ä¿®æ”¹è¿™äº›è§„åˆ™å°±èƒ½å®Œæˆæˆ‘ä»¬appçš„æ„å»ºã€‚ æœ‰äº›æ—¶å€™ï¼Œæˆ‘ä»¬ä¼šæœ‰ä¸€äº›ä¸ªæ€§åŒ–çš„æ„å»ºéœ€æ±‚ï¼Œæ¯”å¦‚æˆ‘ä»¬å¼•å…¥äº†ç¬¬ä¸‰æ–¹åº“ï¼Œæˆ–è€…æˆ‘ä»¬æƒ³è¦åœ¨é€šç”¨æ„å»ºè¿‡ç¨‹ä¸­åšä¸€äº›å…¶ä»–çš„äº‹æƒ…ï¼Œè¿™æ—¶æˆ‘ä»¬å°±è¦è‡ªå·±åœ¨ç³»ç»Ÿé»˜è®¤æ„å»ºè§„åˆ™ä¸Šåšä¸€äº›ä¿®æ”¹ã€‚è¿™æ—¶å€™æˆ‘ä»¬å°±è¦è‡ªå·±å‘Gradleâ€ä¸‹å‘½ä»¤â€œäº†ï¼Œè¿™æ—¶å€™æˆ‘ä»¬å°±éœ€è¦ç”¨Gradleèƒ½å¬æ‡‚çš„è¯äº†ï¼Œä¹Ÿå°±æ˜¯Groovyã€‚Groovyæ˜¯ä¸€ç§åŸºäºJVMçš„åŠ¨æ€è¯­è¨€ï¼Œå…³äºå®ƒçš„å…·ä½“ä»‹ç»ï¼Œæ„Ÿå…´è¶£çš„åŒå­¦å¯ä»¥æ–‡æœ«å‚è€ƒâ€å»¶ä¼¸é˜…è¯»â€œéƒ¨åˆ†ç»™å‡ºçš„é“¾æ¥ã€‚ æˆ‘ä»¬åœ¨å¼€å¤´å¤„æåˆ°â€œGradleæ˜¯ä¸€ç§æ„å»ºå·¥å…·â€ã€‚å®é™…ä¸Šï¼Œå½“æˆ‘ä»¬æƒ³è¦æ›´çµæ´»çš„æ„å»ºè¿‡ç¨‹æ—¶ï¼ŒGradleå°±æˆä¸ºäº†ä¸€ä¸ªç¼–ç¨‹æ¡†æ¶â€”â€”æˆ‘ä»¬å¯ä»¥é€šè¿‡ç¼–ç¨‹è®©æ„å»ºè¿‡ç¨‹æŒ‰æˆ‘ä»¬çš„æ„æ„¿è¿›è¡Œã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå½“æˆ‘ä»¬æŠŠGradleä½œä¸ºæ„å»ºå·¥å…·ä½¿ç”¨æ—¶ï¼Œæˆ‘ä»¬åªéœ€è¦æŒæ¡å®ƒçš„é…ç½®è„šæœ¬çš„åŸºæœ¬å†™æ³•å°±OKäº†ï¼›è€Œå½“æˆ‘ä»¬éœ€è¦å¯¹æ„å»ºæµç¨‹è¿›è¡Œé«˜åº¦å®šåˆ¶æ—¶ï¼Œå°±åŠ¡å¿…è¦æŒæ¡Groovyç­‰ç›¸å…³çŸ¥è¯†äº†ã€‚é™äºç¯‡å¹…ï¼Œæœ¬æ–‡åªä»æ„å»ºå·¥å…·ä½¿ç”¨è€…çš„è§’åº¦æ¥ä»‹ç»Gradleçš„ä¸€äº›æœ€ä½³å®è·µï¼Œåœ¨æ–‡æœ«â€œå»¶ä¼¸é˜…è¯»â€éƒ¨åˆ†ç»™å‡ºäº†å‡ ç¯‡é«˜è´¨é‡çš„æ·±å…¥ä»‹ç»Gradleçš„æ–‡ç« ï¼Œå…¶ä¸­åŒ…å«äº†Groovyç­‰çŸ¥è¯†çš„ä»‹ç»ã€‚ Gradleçš„åŸºæœ¬ç»„åˆ†Projectä¸Taskåœ¨Gradleä¸­ï¼Œæ¯ä¸€ä¸ªå¾…æ„å»ºçš„å·¥ç¨‹æ˜¯ä¸€ä¸ªProjectï¼Œæ„å»ºä¸€ä¸ªProjectéœ€è¦æ‰§è¡Œä¸€ç³»åˆ—Taskï¼Œæ¯”å¦‚ç¼–è¯‘ã€æ‰“åŒ…è¿™äº›æ„å»ºè¿‡ç¨‹çš„å­è¿‡ç¨‹éƒ½å¯¹åº”ç€ä¸€ä¸ªTaskã€‚å…·ä½“æ¥è¯´ï¼Œä¸€ä¸ªapkæ–‡ä»¶çš„æ„å»ºåŒ…å«ä»¥ä¸‹Taskï¼šJavaæºç ç¼–è¯‘ã€èµ„æºæ–‡ä»¶ç¼–è¯‘ã€Lintæ£€æŸ¥ã€æ‰“åŒ…ä»¥ç”Ÿæˆæœ€ç»ˆçš„apkæ–‡ä»¶ç­‰ç­‰ã€‚ æ’ä»¶æ’ä»¶çš„æ ¸å¿ƒå·¥ä½œæœ‰ä¸¤ä¸ªï¼šä¸€æ˜¯å®šä¹‰Taskï¼›è€Œæ˜¯æ‰§è¡ŒTaskã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œæˆ‘ä»¬æƒ³è®©Gradleèƒ½æ­£å¸¸å·¥ä½œï¼Œå®Œæˆæ•´ä¸ªæ„å»ºæµç¨‹ä¸­çš„ä¸€ç³»åˆ—Taskçš„æ‰§è¡Œï¼Œå¿…é¡»å¯¼å…¥åˆé€‚çš„æ’ä»¶ï¼Œè¿™äº›æ’ä»¶ä¸­å®šä¹‰äº†æ„å»ºProjectä¸­çš„ä¸€ç³»åˆ—Taskï¼Œå¹¶ä¸”è´Ÿè´£æ‰§è¡Œç›¸åº”çš„Taskã€‚ åœ¨æ–°å»ºå·¥ç¨‹çš„appæ¨¡å—çš„build.gradleæ–‡ä»¶çš„ç¬¬ä¸€è¡Œï¼Œå¾€å¾€éƒ½æ˜¯å¦‚ä¸‹è¿™å¥ï¼š apply plugin: â€˜com.android.applicationâ€™è¿™å¥è¯çš„æ„æ€å°±æ˜¯åº”ç”¨â€œcom.android.applicationâ€œè¿™ä¸ªæ’ä»¶æ¥æ„å»ºappæ¨¡å—ï¼Œappæ¨¡å—å°±æ˜¯Gradleä¸­çš„ä¸€ä¸ªProjectã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œè¿™ä¸ªæ’ä»¶è´Ÿè´£å®šä¹‰å¹¶æ‰§è¡ŒJavaæºç ç¼–è¯‘ã€èµ„æºæ–‡ä»¶ç¼–è¯‘ã€æ‰“åŒ…ç­‰ä¸€ç³»åˆ—Taskã€‚å®é™…ä¸Šâ€com.android.applicationâ€æ•´ä¸ªæ’ä»¶ä¸­å®šä¹‰äº†å¦‚ä¸‹4ä¸ªé¡¶çº§ä»»åŠ¡ï¼š assemble: æ„å»ºé¡¹ç›®çš„è¾“å‡ºï¼ˆapkï¼‰ check: è¿›è¡Œæ ¡éªŒå·¥ä½œ build: æ‰§è¡Œassembleä»»åŠ¡ä¸checkä»»åŠ¡ clean: æ¸…é™¤é¡¹ç›®çš„è¾“å‡º å½“æˆ‘ä»¬æ‰§è¡Œä¸€ä¸ªä»»åŠ¡æ—¶ï¼Œä¼šè‡ªåŠ¨æ‰§è¡Œå®ƒæ‰€ä¾èµ–çš„ä»»åŠ¡ã€‚æ¯”å¦‚ï¼Œæ‰§è¡Œassembleä»»åŠ¡ä¼šæ‰§è¡ŒassembleDebugä»»åŠ¡å’ŒassembleReleaseä»»åŠ¡ï¼Œè¿™æ˜¯å› ä¸ºä¸€ä¸ªAndroidé¡¹ç›®è‡³å°‘è¦æœ‰debugå’Œreleaseè¿™ä¸¤ä¸ªç‰ˆæœ¬çš„è¾“å‡ºã€‚ Gradleé…ç½®æ–‡ä»¶æˆ‘ä»¬åœ¨Android Studioä¸­æ–°å»ºä¸€ä¸ªå·¥ç¨‹ï¼Œå¯ä»¥å¾—åˆ°å¦‚ä¸‹çš„å·¥ç¨‹ç»“æ„å›¾ï¼š ä¸Šé¢æˆ‘ä»¬è¯´è¿‡ï¼ŒAndroid Studioä¸­çš„ä¸€ä¸ªModuleå³ä¸ºGradleä¸­çš„ä¸€ä¸ªProjectã€‚ä¸Šå›¾çš„appç›®å½•ä¸‹ï¼Œå­˜åœ¨ä¸€ä¸ªbuild.gradleæ–‡ä»¶ï¼Œä»£è¡¨äº†app Moduleçš„æ„å»ºè„šæœ¬ï¼Œå®ƒå®šä¹‰äº†åº”ç”¨äºæœ¬æ¨¡å—çš„æ„å»ºè§„åˆ™ã€‚æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œå·¥ç¨‹æ ¹ç›®å½•ä¸‹ä¹Ÿå­˜åœ¨ä¸€ä¸ªbuild.gradleæ–‡ä»¶ï¼Œå®ƒä»£è¡¨äº†æ•´ä¸ªå·¥ç¨‹çš„æ„å»ºï¼Œå…¶ä¸­å®šä¹‰äº†é€‚ç”¨äºè¿™ä¸ªå·¥ç¨‹ä¸­æ‰€æœ‰æ¨¡å—çš„æ„å»ºè§„åˆ™ã€‚ æ¥ä¸‹æ¥æˆ‘ä»¬ä»‹ç»ä¸€ä¸‹ä¸Šå›¾ä¸­å…¶ä»–å‡ ä¸ªGradleé…ç½®æ–‡ä»¶ï¼š gradle.properties: ä»å®ƒçš„åå­—å¯ä»¥çœ‹å‡ºï¼Œè¿™ä¸ªæ–‡ä»¶ä¸­å®šä¹‰äº†ä¸€ç³»åˆ—â€œå±æ€§â€ã€‚å®é™…ä¸Šï¼Œè¿™ä¸ªæ–‡ä»¶ä¸­å®šä¹‰äº†ä¸€ç³»åˆ—ä¾›build.gradleä½¿ç”¨çš„å¸¸é‡ï¼Œæ¯”å¦‚keystoreçš„å­˜å‚¨è·¯å¾„ã€keyaliasç­‰ç­‰ã€‚ gradlewä¸gradlew.bat: gradlewä¸ºLinuxä¸‹çš„shellè„šæœ¬ï¼Œgradlew.batæ˜¯Windowsä¸‹çš„æ‰¹å¤„ç†æ–‡ä»¶ã€‚gradlewæ˜¯gradle wrapperçš„ç¼©å†™ï¼Œä¹Ÿå°±æ˜¯è¯´å®ƒå¯¹gradleçš„å‘½ä»¤è¿›è¡Œäº†åŒ…è£…ï¼Œæ¯”å¦‚æˆ‘ä»¬è¿›å…¥åˆ°æŒ‡å®šModuleç›®å½•å¹¶æ‰§è¡Œâ€œgradlew.bat assembleâ€å³å¯å®Œæˆå¯¹å½“å‰Moduleçš„æ„å»ºï¼ˆWindowsç³»ç»Ÿä¸‹ï¼‰ã€‚ local.properties: ä»åå­—å°±å¯ä»¥çœ‹å‡ºæ¥ï¼Œè¿™ä¸ªæ–‡ä»¶ä¸­å®šä¹‰äº†ä¸€äº›æœ¬åœ°å±æ€§ï¼Œæ¯”å¦‚SDKçš„è·¯å¾„ã€‚ settings.gradle: å‡å¦‚æˆ‘ä»¬çš„é¡¹ç›®åŒ…å«äº†ä¸åªä¸€ä¸ªModuleæ—¶ï¼Œæˆ‘ä»¬æƒ³è¦ä¸€æ¬¡æ€§æ„å»ºæ‰€æœ‰Moduleä»¥å®Œæˆæ•´ä¸ªé¡¹ç›®çš„æ„å»ºï¼Œè¿™æ—¶æˆ‘ä»¬éœ€è¦ç”¨åˆ°è¿™ä¸ªæ–‡ä»¶ã€‚æ¯”å¦‚æˆ‘ä»¬çš„é¡¹ç›®åŒ…å«äº†ModuleAå’ŒModuleBè¿™ä¸¤ä¸ªæ¨¡å—ï¼Œåˆ™è¿™ä¸ªæ–‡ä»¶ä¸­ä¼šåŒ…å«è¿™æ ·çš„è¯­å¥ï¼šinclude â€˜:ModuleAâ€™, â€˜:ModuleBâ€™ã€‚ æ„å»ºè„šæœ¬é¦–å…ˆæˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹å·¥ç¨‹ç›®å½•ä¸‹çš„build.gradleï¼Œå®ƒæŒ‡å®šäº†çœŸä¸ªæ•´ä¸ªé¡¹ç›®çš„æ„å»ºè§„åˆ™ï¼Œå®ƒçš„å†…å®¹å¦‚ä¸‹ï¼š &#123;123456789101112131415 repositories &#123; jcenter() //æ„å»ºè„šæœ¬ä¸­æ‰€ä¾èµ–çš„åº“éƒ½åœ¨jcenterä»“åº“ä¸‹è½½ &#125; dependencies &#123; //æŒ‡å®šäº†gradleæ’ä»¶çš„ç‰ˆæœ¬ classpath &apos;com.android.tools.build:gradle:1.5.0&apos; &#125;&#125;allprojects &#123; repositories &#123; //å½“å‰é¡¹ç›®æ‰€æœ‰æ¨¡å—æ‰€ä¾èµ–çš„åº“éƒ½åœ¨jcenterä»“åº“ä¸‹è½½ jcenter() &#125;&#125; æˆ‘ä»¬å†æ¥ç®€å•ä»‹ç»ä¸‹appæ¨¡å—çš„build.gradleçš„å†…å®¹ï¼š 12345678910111213141516171819202122232425262728//åŠ è½½ç”¨äºæ„å»ºAndroidé¡¹ç›®çš„æ’ä»¶apply plugin: &apos;com.android.application&apos;android &#123; //æ„å»ºAndroidé¡¹ç›®ä½¿ç”¨çš„é…ç½® compileSdkVersion 23 //æŒ‡å®šç¼–è¯‘é¡¹ç›®æ—¶ä½¿ç”¨çš„SDKç‰ˆæœ¬ buildToolsVersion &quot;23.0.1&quot; //æŒ‡å®šæ„å»ºå·¥å…·çš„ç‰ˆæœ¬ defaultConfig &#123; applicationId &quot;com.absfree.debugframwork&quot; //åŒ…å minSdkVersion 15 //æŒ‡å®šæ”¯æŒçš„æœ€å°SDKç‰ˆæœ¬ targetSdkVersion 23 //é’ˆå¯¹çš„ç›®æ ‡SDKç‰ˆæœ¬ versionCode 1 versionName &quot;1.0&quot; &#125; buildTypes &#123; //é’ˆå¯¹ä¸åŒçš„æ„å»ºç‰ˆæœ¬è¿›è¡Œä¸€äº›è®¾ç½® release &#123; //å¯¹releaseç‰ˆæœ¬è¿›è¡Œçš„è®¾ç½® minifyEnabled false //æ˜¯å¦å¼€å¯æ··æ·† proguardFiles getDefaultProguardFile(&apos;proguard-android.txt&apos;), &apos;proguard-rules.pro&apos; //æŒ‡å®šæ··æ·†æ–‡ä»¶çš„ä½ç½® &#125; &#125;&#125;dependencies &#123; //æŒ‡å®šå½“å‰æ¨¡å—çš„ä¾èµ– compile fileTree(dir: &apos;libs&apos;, include: [&apos;*.jar&apos;]) testCompile &apos;junit:junit:4.12&apos; compile &apos;com.android.support:appcompat-v7:23.1.1&apos; compile &apos;com.android.support:design:23.1.1&apos;&#125; å¸¸è§é…ç½®æ•´ä¸ªå·¥ç¨‹çš„build.gradleé€šå¸¸ä¸éœ€æˆ‘ä»¬æ”¹åŠ¨ï¼Œè¿™é‡Œæˆ‘ä»¬ä»‹ç»ä¸‹ä¸€äº›å¯¹æ¨¡å—ç›®å½•ä¸‹build.gradleæ–‡ä»¶çš„å¸¸è§é…ç½®ã€‚ ä¾èµ–ç¬¬ä¸‰æ–¹åº“å½“æˆ‘ä»¬çš„é¡¹ç›®ä¸­ç”¨åˆ°äº†äº†ä¸€äº›ç¬¬ä¸‰æ–¹åº“æ—¶ï¼Œæˆ‘ä»¬å°±éœ€è¦è¿›è¡Œä¸€äº›é…ç½®ï¼Œä»¥ä¿è¯èƒ½æ­£ç¡®å¯¼å…¥ç›¸å…³ä¾èµ–ã€‚è®¾ç½®æ–¹æ³•å¾ˆç®€å•ï¼Œæ¯”å¦‚æˆ‘ä»¬åœ¨appæ¨¡å—ä¸­ä¸­ç”¨åˆ°äº†Frescoï¼Œåªéœ€è¦åœ¨build.gradleæ–‡ä»¶ä¸­çš„dependencieså—æ·»åŠ å¦‚ä¸‹è¯­å¥ï¼š 1234dependencies &#123; ... compile &apos;com.facebook.fresco:fresco:0.11.0&apos;&#125; è¿™æ ·ä¸€æ¥ï¼ŒGradleä¼šè‡ªåŠ¨ä»jcenterä»“åº“ä¸‹è½½æˆ‘ä»¬æ‰€éœ€çš„ç¬¬ä¸‰æ–¹åº“å¹¶å¯¼å…¥åˆ°é¡¹ç›®ä¸­ã€‚ å¯¼å…¥æœ¬åœ°jaråŒ…åœ¨ä½¿ç”¨ç¬¬ä¸‰æ–¹åº“æ—¶ï¼Œé™¤äº†åƒä¸Šé¢é‚£æ ·ä»jcenterä»“åº“ä¸‹è½½ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥å¯¼å…¥æœ¬åœ°çš„jaråŒ…ã€‚é…ç½®æ–¹æ³•ä¹Ÿå¾ˆç®€å•ï¼Œåªéœ€è¦å…ˆæŠŠjaræ–‡ä»¶æ·»åŠ åˆ°app\\libsç›®å½•ä¸‹ï¼Œç„¶ååœ¨ç›¸åº”jaræ–‡ä»¶ä¸Šå•å‡»å³é”®ï¼Œé€‰æ‹©â€œAd As Libraryâ€ã€‚ç„¶ååœ¨build.gradleçš„dependencieså—ä¸‹æ·»åŠ å¦‚ä¸‹è¯­å¥ï¼š compile files(â€˜libs/xxx.jarâ€™)å®é™…ä¸Šæˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œç³»ç»Ÿä¸ºæˆ‘ä»¬åˆ›å»ºçš„build.gradleä¸­å°±å·²ç»åŒ…å«äº†å¦‚ä¸‹è¯­å¥ï¼š compile fileTree(dir: â€˜libsâ€™, include: [â€˜*.jarâ€™]) è¿™å¥è¯çš„æ„æ€æ˜¯ï¼Œå°†libsç›®å½•ä¸‹çš„æ‰€æœ‰jaråŒ…éƒ½å¯¼å…¥ã€‚æ‰€ä»¥å®é™…ä¸Šæˆ‘ä»¬åªéœ€è¦æŠŠjaråŒ…æ·»åŠ åˆ°libsç›®å½•ä¸‹å¹¶â€œAd As Libraryâ€å³å¯ã€‚ ä¾èµ–å…¶å®ƒæ¨¡å—å‡è®¾æˆ‘ä»¬çš„é¡¹ç›®åŒ…å«äº†å¤šä¸ªæ¨¡å—ï¼Œå¹¶ä¸”appæ¨¡å—ä¾èµ–otheræ¨¡å—ï¼Œé‚£ä¹ˆæˆ‘ä»¬åªéœ€app\\build.gradleçš„denpendencieså—ä¸‹æ·»åŠ å¦‚ä¸‹è¯­å¥ï¼š compile project(â€˜:otherâ€™) æ„å»ºè¾“å‡ºä¸ºaaræ–‡ä»¶é€šå¸¸æˆ‘ä»¬æ„å»ºçš„è¾“å‡ºç›®æ ‡éƒ½æ˜¯apkæ–‡ä»¶ï¼Œä½†å¦‚æœæˆ‘ä»¬çš„å½“å‰é¡¹ç›®æ—¶Android Libraryï¼Œæˆ‘ä»¬çš„ç›®æ ‡è¾“å‡ºå°±æ˜¯aaræ–‡ä»¶ã€‚è¦æƒ³è¾¾åˆ°è¿™ä¸ªç›®çš„ä¹Ÿå¾ˆå®¹æ˜“ï¼Œåªéœ€è¦æŠŠbuild.gradleçš„ç¬¬ä¸€å¥æ”¹ä¸ºå¦‚ä¸‹ï¼š apply plugin:â€™com.android.libraryâ€™è¿™è¯è¡¨ç¤ºæˆ‘ä»¬ä½¿ç”¨çš„æ’ä»¶ä¸å†æ˜¯æ„å»ºAndroidåº”ç”¨çš„æ’ä»¶ï¼Œè€Œæ˜¯æ„å»ºAndroid Libraryçš„æ’ä»¶ï¼Œè¿™ä¸ªæ’ä»¶å®šä¹‰å¹¶æ‰§è¡Œç”¨äºæ„å»ºAndroid Libraryçš„ä¸€ç³»åˆ—Taskã€‚ è‡ªåŠ¨ç§»é™¤ä¸å†ä½¿ç”¨çš„èµ„æºåªéœ€è¿›è¡Œå¦‚ä¸‹é…ç½®ï¼š 1234567891011android &#123; ... &#125; buildTypes &#123; release &#123; ... shrinkResources true ... &#125; &#125;&#125; å¿½ç•¥Linté”™è¯¯åœ¨æˆ‘ä»¬æ„å»ºAndroidé¡¹ç›®çš„è¿‡ç¨‹ä¸­ï¼Œæœ‰æ—¶å€™ä¼šç”±äºLinté”™è¯¯è€Œç»ˆæ­¢ã€‚å½“è¿™äº›é”™è¯¯æ¥è‡ªç¬¬ä¸‰æ–¹åº“ä¸­æ—¶ï¼Œæˆ‘ä»¬å¾€å¾€æƒ³è¦å¿½ç•¥è¿™äº›é”™è¯¯ä»è€Œç»§ç»­æ„å»ºè¿›ç¨‹ã€‚è¿™æ—¶å€™ï¼Œæˆ‘ä»¬å¯ä»¥åªéœ€è¿›è¡Œå¦‚ä¸‹é…ç½®ï¼š 123456android &#123; ... lintOptions &#123; abortOnError false &#125;&#125; é›†æˆç­¾åé…ç½®åœ¨æ„å»ºreleaseç‰ˆæœ¬çš„Androidé¡¹ç›®æ—¶ï¼Œæ¯æ¬¡éƒ½æ‰‹åŠ¨å¯¼å…¥ç­¾åæ–‡ä»¶ï¼Œé”®å…¥å¯†ç ã€keyaliasç­‰ä¿¡æ¯ååˆ†éº»çƒ¦ã€‚é€šè¿‡å°†ç­¾åé…ç½®é›†æˆåˆ°æ„å»ºè„šæœ¬ä¸­ï¼Œæˆ‘ä»¬å°±ä¸å¿…æ¯æ¬¡æ„å»ºå‘è¡Œç‰ˆæœ¬æ—¶éƒ½æ‰‹åŠ¨è®¾ç½®äº†ã€‚å…·ä½“é…ç½®å¦‚ä¸‹ï¼š 1234567891011121314151617signingConfigs &#123; myConfig &#123; //å°†&quot;xx&quot;æ›¿æ¢ä¸ºè‡ªå·±çš„ç­¾åæ–‡ä»¶ä¿¡æ¯ storeFile file(&quot;xx.jks&quot;) storePassword &quot;xx&quot; keyAlias &quot;xx&quot; keyPassword &quot;xx&quot; &#125;&#125;android &#123; buildTypes &#123; release &#123; signingConfig signingConfigs.myConfig //åœ¨releaseå—ä¸­åŠ å…¥è¿™è¡Œ ... &#125; &#125; ...&#125; çœŸå®å¼€å‘ä¸­ï¼Œæˆ‘ä»¬ä¸åº”è¯¥æŠŠå¯†ç ç­‰ä¿¡æ¯ç›´æ¥å†™åˆ°build.gradleä¸­ï¼Œæ›´å¥½çš„åšæ³•æ˜¯æ”¾åœ¨gradle.propertiesä¸­è®¾ç½®ï¼š 1234RELEASE_STOREFILE=xxx.jks RELEASE_STORE_PASSWORD = xxxRELEASE_KEY_ALIAS=xxxRELEASE_KEY_PASSWORD=xxx ç„¶ååœ¨build.gradleä¸­ç›´æ¥å¼•ç”¨å³å¯ï¼š 12345678signingConfigs &#123; myConfig &#123; storeFilefile(RELEASE_STOREFILE) storePassword RELEASE_STORE_PASSWORD keyAlias RELEASE_KEY_ALIAS keyPassword RELEASE_KEY_PASSWORD &#125;&#125; å…³äºGradleçš„å…¶ä»–é…ç½®æ–¹æ³•å¤§å®¶å¯ä»¥å‚è€ƒâ€œå»¶ä¼¸é˜…è¯»â€éƒ¨åˆ†çš„â€œGradleæœ€ä½³å®è·µâ€ã€‚","categories":[{"name":"Android","slug":"Android","permalink":"https://chasencenge.github.io/categories/Android/"}],"tags":[{"name":"Gradle","slug":"Gradle","permalink":"https://chasencenge.github.io/tags/Gradle/"}]},{"title":"Linuxè¿œç¨‹ç™»å½•åŠæœåŠ¡å™¨é…ç½®","slug":"Linuxè¿œç¨‹ç™»å½•","date":"2019-07-17T13:45:43.000Z","updated":"2020-07-20T02:35:41.509Z","comments":true,"path":"2019/07/17/Linuxè¿œç¨‹ç™»å½•/","link":"","permalink":"https://chasencenge.github.io/2019/07/17/Linuxè¿œç¨‹ç™»å½•/","excerpt":"Linuxè¿œç¨‹ç™»å½•åŠæœåŠ¡å™¨é…ç½®","text":"Linuxè¿œç¨‹ç™»å½•åŠæœåŠ¡å™¨é…ç½® ##Linuxè¿œç¨‹ç™»å½•åŸç†å®‰è£…telnetè¿œç¨‹å®¢æˆ·ç«¯ç™»å½•å·¥å…·çš„å®¢æˆ·æœºé€šè¿‡23ï¼ˆé»˜è®¤ï¼‰ç«¯å£è¿æ¥åˆ°LinuxæœåŠ¡å™¨ï¼Œé€šè¿‡telnetå°†è¿œç¨‹å®¢æˆ·æœºä¸Šå‘½ä»¤ä¼ åˆ°æœåŠ¡å™¨æ‰§è¡Œå¹¶åé¦ˆã€‚###telnetè½¯ä»¶åŒ…å®‰è£…sudo apt-get install inetutils-telnetd(ubuntuæ²¡æœ‰é»˜è®¤å®‰è£…Telnetè½¯ä»¶åŒ…)","categories":[{"name":"Linux","slug":"Linux","permalink":"https://chasencenge.github.io/categories/Linux/"}],"tags":[{"name":"è¿œç¨‹ç™»å½•","slug":"è¿œç¨‹ç™»å½•","permalink":"https://chasencenge.github.io/tags/è¿œç¨‹ç™»å½•/"}]},{"title":"å¯è§å…‰è®¤è¯ç›¸å…³","slug":"å¯è§å…‰è®¤è¯","date":"2019-07-05T03:09:43.000Z","updated":"2020-07-20T02:41:01.059Z","comments":true,"path":"2019/07/05/å¯è§å…‰è®¤è¯/","link":"","permalink":"https://chasencenge.github.io/2019/07/05/å¯è§å…‰è®¤è¯/","excerpt":"åŸºäºå¯è§å…‰çš„æ— çº¿ç½‘ç»œè®¤è¯","text":"åŸºäºå¯è§å…‰çš„æ— çº¿ç½‘ç»œè®¤è¯ 2019-07-05 802.1xè®¤è¯è¿‡ç¨‹ï¼š å½“ç”¨æˆ·æœ‰è®¿é—®ç½‘ç»œéœ€æ±‚æ—¶æ‰“å¼€802.1Xå®¢æˆ·ç«¯ç¨‹åºï¼Œè¾“å…¥å·²ç»ç”³è¯·ã€ç™»è®°è¿‡çš„ç”¨æˆ·åå’Œå¯†ç ï¼Œå‘èµ·è¿æ¥è¯·æ±‚ï¼ˆEAPOL-StartæŠ¥æ–‡ï¼‰ã€‚æ­¤æ—¶ï¼Œå®¢æˆ·ç«¯ç¨‹åºå°†å‘å‡ºè¯·æ±‚è®¤è¯çš„æŠ¥æ–‡ç»™è®¾å¤‡ç«¯ï¼Œå¼€å§‹å¯åŠ¨ä¸€æ¬¡è®¤è¯è¿‡ç¨‹ã€‚ è®¾å¤‡ç«¯æ”¶åˆ°è¯·æ±‚è®¤è¯çš„æ•°æ®å¸§åï¼Œå°†å‘å‡ºä¸€ä¸ªè¯·æ±‚å¸§ï¼ˆEAP-Request/IdentityæŠ¥æ–‡ï¼‰è¦æ±‚ç”¨æˆ·çš„å®¢æˆ·ç«¯ç¨‹åºå‘é€è¾“å…¥çš„ç”¨æˆ·åã€‚ å®¢æˆ·ç«¯ç¨‹åºå“åº”è®¾å¤‡ç«¯å‘å‡ºçš„è¯·æ±‚ï¼Œå°†ç”¨æˆ·åä¿¡æ¯é€šè¿‡æ•°æ®å¸§ï¼ˆEAP-Response/IdentityæŠ¥æ–‡ï¼‰å‘é€ç»™è®¾å¤‡ç«¯ã€‚è®¾å¤‡ç«¯å°†å®¢æˆ·ç«¯å‘é€çš„æ•°æ®å¸§ç»è¿‡å°åŒ…å¤„ç†åï¼ˆRADIUS Access-RequestæŠ¥æ–‡ï¼‰é€ç»™è®¤è¯æœåŠ¡å™¨è¿›è¡Œå¤„ç†ã€‚ RADIUSæœåŠ¡å™¨æ”¶åˆ°è®¾å¤‡ç«¯è½¬å‘çš„ç”¨æˆ·åä¿¡æ¯åï¼Œå°†è¯¥ä¿¡æ¯ä¸æ•°æ®åº“ä¸­çš„ç”¨æˆ·åè¡¨å¯¹æ¯”ï¼Œæ‰¾åˆ°è¯¥ç”¨æˆ·åå¯¹åº”çš„å¯†ç ä¿¡æ¯ï¼Œç”¨éšæœºç”Ÿæˆçš„ä¸€ä¸ªåŠ å¯†å­—å¯¹å®ƒè¿›è¡ŒåŠ å¯†å¤„ç†ï¼ŒåŒæ—¶ä¹Ÿå°†æ­¤åŠ å¯†å­—é€šè¿‡RADIUS Access-ChallengeæŠ¥æ–‡å‘é€ç»™è®¾å¤‡ç«¯ï¼Œç”±è®¾å¤‡ç«¯è½¬å‘ç»™å®¢æˆ·ç«¯ç¨‹åºã€‚ å®¢æˆ·ç«¯ç¨‹åºæ”¶åˆ°ç”±è®¾å¤‡ç«¯ä¼ æ¥çš„åŠ å¯†å­—ï¼ˆEAP-Request/MD5 ChallengeæŠ¥æ–‡ï¼‰åï¼Œç”¨è¯¥åŠ å¯†å­—å¯¹å¯†ç éƒ¨åˆ†è¿›è¡ŒåŠ å¯†å¤„ç†ï¼ˆæ­¤ç§åŠ å¯†ç®—æ³•é€šå¸¸æ˜¯ä¸å¯é€†çš„ï¼‰ï¼Œç”ŸæˆEAP-Response/MD5 ChallengeæŠ¥æ–‡ï¼Œå¹¶é€šè¿‡è®¾å¤‡ç«¯ä¼ ç»™è®¤è¯æœåŠ¡å™¨ã€‚ RADIUSæœåŠ¡å™¨å°†æ”¶åˆ°çš„å·²åŠ å¯†çš„å¯†ç ä¿¡æ¯ï¼ˆRADIUS Access-RequestæŠ¥æ–‡ï¼‰å’Œæœ¬åœ°ç»è¿‡åŠ å¯†è¿ç®—åçš„å¯†ç ä¿¡æ¯è¿›è¡Œå¯¹æ¯”ï¼Œå¦‚æœç›¸åŒï¼Œåˆ™è®¤ä¸ºè¯¥ç”¨æˆ·ä¸ºåˆæ³•ç”¨æˆ·ï¼Œåé¦ˆè®¤è¯é€šè¿‡çš„æ¶ˆæ¯ï¼ˆRADIUS Access-AcceptæŠ¥æ–‡å’ŒEAP-SuccessæŠ¥æ–‡ï¼‰ã€‚ è®¾å¤‡æ”¶åˆ°è®¤è¯é€šè¿‡æ¶ˆæ¯åå°†ç«¯å£æ”¹ä¸ºæˆæƒçŠ¶æ€ï¼Œå…è®¸ç”¨æˆ·é€šè¿‡ç«¯å£è®¿é—®ç½‘ç»œã€‚åœ¨æ­¤æœŸé—´ï¼Œè®¾å¤‡ç«¯ä¼šé€šè¿‡å‘å®¢æˆ·ç«¯å®šæœŸå‘é€æ¡æ‰‹æŠ¥æ–‡çš„æ–¹æ³•ï¼Œå¯¹ç”¨æˆ·çš„åœ¨çº¿æƒ…å†µè¿›è¡Œç›‘æµ‹ã€‚ç¼ºçœæƒ…å†µä¸‹ï¼Œä¸¤æ¬¡æ¡æ‰‹è¯·æ±‚æŠ¥æ–‡éƒ½å¾—ä¸åˆ°å®¢æˆ·ç«¯åº”ç­”ï¼Œè®¾å¤‡ç«¯å°±ä¼šè®©ç”¨æˆ·ä¸‹çº¿ï¼Œé˜²æ­¢ç”¨æˆ·å› ä¸ºå¼‚å¸¸åŸå› ä¸‹çº¿è€Œè®¾å¤‡æ— æ³•æ„ŸçŸ¥ã€‚ å®¢æˆ·ç«¯ä¹Ÿå¯ä»¥å‘é€EAPOL-LogoffæŠ¥æ–‡ç»™è®¾å¤‡ç«¯ï¼Œä¸»åŠ¨è¦æ±‚ä¸‹çº¿ã€‚è®¾å¤‡ç«¯æŠŠç«¯å£çŠ¶æ€ä»æˆæƒçŠ¶æ€æ”¹å˜æˆæœªæˆæƒçŠ¶æ€ï¼Œå¹¶å‘å®¢æˆ·ç«¯å‘é€EAP-FailureæŠ¥æ–‡ã€‚ å…³äºWiFidogï¼šPortalè®¤è¯ï¼Œé€šå¸¸ä¹Ÿä¼šå«Webè®¤è¯ï¼Œæœªè®¤è¯ç”¨æˆ·ä¸Šç½‘æ—¶ï¼Œè®¾å¤‡å¼ºåˆ¶ç”¨æˆ·ç™»å½•åˆ°ç‰¹å®šç«™ç‚¹ï¼Œç”¨æˆ·å¯ä»¥å…è´¹è®¿é—®å…¶ä¸­çš„æœåŠ¡ã€‚å½“ç”¨æˆ·éœ€è¦ä½¿ç”¨äº’è”ç½‘ä¸­çš„å…¶å®ƒä¿¡æ¯æ—¶ï¼Œå¿…é¡»åœ¨é—¨æˆ·ç½‘ç«™è¿›è¡Œè®¤è¯ï¼Œåªæœ‰è®¤è¯é€šè¿‡åæ‰å¯ä»¥ä½¿ç”¨äº’è”ç½‘èµ„æºã€‚ç°é‡‘å¾ˆå¤šä¸­å›½ç§»åŠ¨CMCCã€ä¸­å›½è”é€šã€ä¸­å›½ç”µä¿¡ChinaNetçš„WIFIéƒ½ä½¿ç”¨è¿™ç§è®¤è¯æ¥å…¥æ–¹å¼ã€‚ åœ¨OpenWRTä¸Šå®ç°Portalè®¤è¯ï¼Œå®é™…ä¸Šæ—©å·²æœ‰è§£å†³æ–¹æ¡ˆï¼š chillispotï¼Œä½†åŸç»´æŠ¤ä½œè€…åœæ­¢æ›´æ–°ï¼Œè¢«chillispot.infoæ¥ç®¡ç»§ç»­å¼€å‘ï¼› coova-chilliï¼Œå®ƒæ˜¯åŸºäºchillispotå¼€å‘æ‹“å±•çš„ï¼ŒåŠŸèƒ½æœ€ä¸ºå¼ºå¤§ï¼›å¯ä»¥å»å®˜æ–¹çœ‹ä¸€ä¸‹Coova-chilliï¼› wifidogï¼Œå‰ä¸¤ä¸ªç”±äºåŸç»´æŠ¤ä½œè€…åœæ­¢æ›´æ–°ï¼Œç¬”è€…ä¹Ÿæ²¡æœ‰æ·±å…¥ç ”ç©¶ï¼Œé‡ç‚¹é’»ç ”äº†wifidogï¼ŒWifidogä¹Ÿæ˜¯OpenWRTå’ŒDD-WRTä¸­å®ç°Portalæ¯”è¾ƒå‡ºåçš„ã€‚ä½†æ˜¯ï¼ŒWifidogåªæ˜¯å®ç°APè®¤è¯ç½‘å…³ï¼Œéœ€è¦é…åˆå¤–éƒ¨çš„PortalæœåŠ¡å™¨æ‰èƒ½ä½¿ç”¨ï¼ŒPortalä¸»è¦æ˜¯æä¾›è®¤è¯æ‰€éœ€çš„WEBé¡µé¢ä¸”å®ç°è®¤è¯è®¡è´¹ç­‰çš„åŠŸèƒ½ã€‚è™½ç„¶è¿™ä¹Ÿæœ‰å¾ˆå¤šå•†ç”¨è§£å†³æ–¹æ¡ˆï¼Œä¾‹å¦‚wiwizã€wifiapç­‰ï¼Œä½†æ˜¯è¿™äº›å•†ä¸šè§£å†³æ–¹æ¡ˆçš„ç›®æ ‡éƒ½æ˜¯ç›ˆåˆ©ï¼Œå³ä½¿å¯ä»¥å…è´¹ä½¿ç”¨ï¼Œå…è´¹è´¦å·çš„åŠŸèƒ½å’Œæƒé™éƒ½å—åˆ°äº†å¾ˆå¤§çš„é™åˆ¶ï¼Œä¾‹å¦‚ä¸èƒ½è‡ªå®šä¹‰é¡µé¢ï¼ŒWebè®¤è¯é¡µé¢æœ‰å¹¿å‘Šç­‰ç­‰ã€‚æœ‰æ¡ä»¶çš„äººå¯èƒ½æ‰“ç®—è‡ªå·±æ­å»ºPortalæœåŠ¡å™¨ï¼Œä½†æ˜¯çœ‹çœ‹Wifidogçš„å®˜æ–¹Wikiï¼Œå¯¹æ­å»ºè¿‡ç¨‹å®åœ¨æ˜¯éš¾ä»¥ç†è§£ã€‚åæ¥ï¼Œç¬”è€…å‘ç°ç½‘ç»œä¸Šè¿˜æœ‰ä¸€ä¸ª authpuppyæ–¹æ¡ˆ ï¼Œå®˜æ–¹ç½‘ç«™ www.authpuppy.org ï¼Œæ˜¯ä¸€ä¸ªå·²å®ç°å¥½çš„Wifidogè®¤è¯æœåŠ¡å™¨ï¼Œé‡Œé¢åŒ…å«å„ç§æ’ä»¶ä¾›ä½ ä½¿ç”¨ï¼Œå®˜æ–¹çš„å®‰è£…è¿‡ç¨‹ä¹Ÿå¾ˆç®€å•ï¼Œå¦‚æœä½ æ‡‚çš„HTMLå’Œé¢å‘å¯¹è±¡ç¼–ç¨‹çš„ç›¸å…³çŸ¥è¯†ä¸”æ‹¥æœ‰ä¸€ä¸ªæœåŠ¡å™¨ï¼Œå¯ä»¥è‡ªè¡Œä¿®æ”¹è®¤è¯é¡µé¢ï¼Œä½¿ç”¨authpuppyä¹Ÿæ˜¯ä¸€ä¸ªä¸é”™çš„æ–¹æ¡ˆã€‚ å¦‚ä½• è‡ªè¡Œç¼–å†™ä¸€ä¸ªè½»é‡çº§çš„Web Portalè®¤è¯æœåŠ¡å™¨ ï¼š Wifidogçš„å·¥ä½œåŸç†ï¼š å®¢æˆ·ç«¯å‘å‡ºåˆå§‹åŒ–è¯·æ±‚ï¼Œæ¯”å¦‚è®¿é—® www.dqrun.com ã€‚ ç½‘å…³çš„é˜²ç«å¢™è§„åˆ™å°†è¿™ä¸ªè¯·æ±‚é‡å®šå‘åˆ°æœ¬åœ°ç½‘å…³çš„ç«¯å£ä¸Šã€‚è¿™ä¸ªç«¯å£æ˜¯Wifidogç›‘å¬çš„ç«¯å£ã€‚ Wfidogæä¾›ä¸€ä¸ªHTTPé‡å®šå‘å›å¤ï¼Œé‡å®šå‘åˆ°Webè®¤è¯é¡µé¢ï¼Œé‡å®šå‘çš„Urlçš„Querystringä¸­åŒ…å«äº†Gatewayçš„IDï¼ŒGatewayçš„FQDNä»¥åŠå…¶ä»–çš„ä¿¡æ¯ã€‚ ç”¨æˆ·å‘è®¤è¯æœåŠ¡å™¨å‘å‡ºè®¤è¯è¯·æ±‚ 1234gw_id=[GatewayID, default: â€œdefaultâ€]gw_address=[GatewayAddress, internal IP of router]gw_port=[GatewayPort, port that wifidog Gateway is listening on]url=[user requested url]ï¼› ç½‘å…³è¿”å›ä¸€ä¸ªï¼ˆå¯ä»¥æ˜¯è‡ªå®šä¹‰çš„ï¼‰splashï¼ˆä¹Ÿç§°ä½œâ€œç™»å½•â€ï¼‰é¡µé¢ã€‚ ç”¨æˆ·æä¾›ä»–çš„å‡­æ®ä¿¡æ¯ï¼Œæ¯”å¦‚ç”¨æˆ·åå’Œå¯†ç ã€‚ æˆåŠŸè®¤è¯çš„è¯ï¼Œå®¢æˆ·ç«¯å°†ä¼šè¢«é‡å®šå‘åˆ°ç½‘å…³çš„è‡ªå·±çš„webé¡µé¢ä¸Šï¼Œå¹¶ä¸”å¸¦æœ‰ä¸€ä¸ªè®¤è¯å‡­æ®ï¼ˆä¸€ä¸ªä¸€æ¬¡æ€§çš„tokenï¼‰ï¼Œå†…å®¹æ¯”å¦‚ï¼šhttp://GatewayIP:GatewayPort/wifidog/auth?token=[auth token]ï¼› ç”¨æˆ·å°±æ˜¯ç”¨è·å–åˆ°çš„å‡­æ®è®¿é—®ç½‘å…³ã€‚ ç½‘å…³å»è®¤è¯æœåŠ¡å™¨è¯¢é—®tokençš„æœ‰æ•ˆæ€§ã€‚ è®¤è¯æœåŠ¡å™¨ç¡®è®¤tokençš„æœ‰æ•ˆæ€§ã€‚ ç½‘å…³å‘é€é‡å®šå‘ç»™å®¢æˆ·ç«¯ï¼Œä»¥ä»è®¤è¯æœåŠ¡å™¨ä¸Šè·å– æˆåŠŸæç¤ºé¡µé¢ï¼Œé‡å®šå‘åˆ° http://portal_server:port/portal_script è¿™ä¸ªä½ç½®ã€‚ è®¤è¯æœåŠ¡å™¨é€šçŸ¥å®¢æˆ·è¯·æ±‚æˆåŠŸï¼Œå¯ä»¥ä¸Šç½‘äº†ã€‚ å¾…å®Œæˆå·¥ä½œï¼šè£…wifidog ï¼Œé…ç½®:1ï¼‰ç›‘å¬ç«¯å£ 2)æœåŠ¡å™¨åœ°å€ 3ï¼‰5ä¸ªè„šæœ¬çš„åœ°å€(login, portal, msg, ping, auth) é…ç½®æ–¹æ³•ï¼šè¿œç¨‹ç™»é™†openwrt: ssh root@192.168.1.1ï¼Œ ç„¶åä¿®æ”¹/etc/wifidog.confæ–‡ä»¶ã€‚ å°†ç¬”è®°æœ¬æ­å»ºæˆæœåŠ¡å™¨ æ·»åŠ å¯¹LEDçš„é¢‘ç‡æå–åŠŸèƒ½ å®ç°åŠ¨æ€è°ƒèŠ‚LEDé¢‘ç‡,å°†æ­¤åŠŸèƒ½æ·»åŠ è‡³ç³»ç»Ÿ 2019/07/08 è·¯ç”±å™¨åˆ·openwrtç³»ç»Ÿæ¢å¤å‡ºå‚ï¼šæ–­ç”µåï¼Œå…ˆæŒ‰ä½resetå†é€šç”µã€‚ç™»é™†192.168.1.1ï¼ˆbreed webï¼‰ï¼Œå…ˆç‚¹â€œæ¢å¤å‡ºå‚â€ï¼Œé€‰æ‹©â€œopenwrtâ€ï¼›å†ç‚¹å‡»â€œæ›´æ–°å›ºä»¶â€ï¼Œé€‰ä¸­å·²ä¸‹è½½å¥½çš„openwrté•œåƒï¼Œè¿›è¡Œå›ºä»¶æ›´æ–°ã€‚ è§£å†³è·¯ç”±å™¨è”ç½‘é—®é¢˜ è®¾ç½®å¯†ç ï¼šç‚¹å‡»Go to password configuration...ï¼Œæ•²å…¥2éæ–°çš„è·¯ç”±å™¨å¯†ç ï¼Œç‚¹å‡»é¡µé¢æœ€ä¸‹é¢çš„ ä¿å­˜æ‰§è¡ŒæŒ‰é’®ï¼Œå¯†ç ä¿®æ”¹å³æ—¶ç”Ÿæ•ˆã€‚ è®¾ç½®ä¸»æœºåå’Œæ—¶åŒºï¼šSystemèœå•çš„systemè¿›å»ï¼Œä¸»æœºåæ”¹ä¸ºè‡ªå·±å¸Œæœ›çš„åç§°ï¼Œæ—¶åŒºè®¾ç½®ä¸ºAsia/Shanghaiï¼Œä¿å­˜ã€‚ è”ç½‘è®¾ç½® :ç‚¹å‡»èœå•Networkä¸­çš„ç¬¬äºŒé¡¹ï¼Œå¯ä»¥é€‰æ‹©2Gæˆ–5Gæ— çº¿ç½‘ç»œè¿æ¥WIFIï¼ŒæŒ‰ scanæ‰«ææŒ‰é’®ï¼Œç¨ç­‰å‡ºç°åˆ—è¡¨ä¸­ï¼Œé€‰æ‹©è‡ªå·±(æƒ³é€šè¿‡è¿™ä¸ªè·¯ç”±è¿æ¥)çš„WIFIï¼Œè¾“å…¥å¯†ç ï¼ŒæŒ‰æäº¤ï¼Œç„¶åç¨ç­‰ï¼ŒæŒ‰ä¿å­˜æ‰§è¡Œã€‚ ubuntu16.04ç¼–è¯‘OpenWrtç¯å¢ƒæ­å»ºï¼š ubuntuä¸‹OpenWrtç¼–è¯‘ç¯å¢ƒéœ€è¦å®‰è£…å¾ˆå¤šç»„ä»¶ï¼šsudo apt-get install gccsudo apt-get install g++sudo apt-get install binutilssudo apt-get install patchsudo apt-get install bzip2sudo apt-get install flexsudo apt-get install bisonsudo apt-get install makesudo apt-get install autoconfsudo apt-get install gettextsudo apt-get install texinfosudo apt-get install unzipsudo apt-get install sharutilssudo apt-get install subversionsudo apt-get install libncurses5-devsudo apt-get install ncurses-termsudo apt-get install zlib1g-devsudo apt-get install subversionsudo apt-get install git-coresudo apt-get install gawksudo apt-get install asciidocsudo apt-get install libz-devå½“ç„¶å®‰è£…ä¹‹å‰æœ€å¥½å…ˆæ›´æ–°ä¸‹ç»„ä»¶åŒ…ï¼šsudo apt-get updateé€ä¸ªå®‰è£…â€¦ æ–°å»ºä¸€ä¸ªopenwrtç›®å½•ï¼Œä½¿ç”¨å‘½ä»¤ï¼šmkdir openwrtsudo chmod 777 openwrtæ¥ä¸‹æ¥çš„æ‰€æœ‰å‘½ä»¤éƒ½åœ¨/openwrtç›®å½•ä¸‹è¿è¡Œ ä¸‹è½½OpenWrtæºç :git clone git://git.openwrt.org/openwrt/openwrt.git æ·»åŠ è½¯ä»¶æ‰©å±•åŒ…ï¼šcd /home/ngmi/openwrt/openwrt/cp feeds.conf.default feeds.conf(å°†feeds.conf.defaultä¿®æ”¹ä¸ºfeeds.conf) æ›´æ–°æ‰©å±•ï¼Œå®‰è£…æ‰©å±•ï¼š./scripts/feeds update -a./scripts/feeds install -a æµ‹è¯•ä¸‹ç¼–è¯‘ç¯å¢ƒï¼Œä½¿ç”¨å‘½ä»¤ï¼šmake defconfig make menuconfigå¦‚æœä¸€åˆ‡æ­£å¸¸ï¼Œä¼šå‡ºç°ä¸€ä¸ªé…ç½®èœå•ï¼Œå¯ä»¥é€‰æ‹©è¦ç¼–è¯‘çš„å›ºä»¶å¹³å°ã€å‹å·ï¼Œè¿˜èƒ½é€‰æ‹©å›ºä»¶ä¸­è¦æ·»åŠ çš„åŠŸèƒ½å’Œç»„ä»¶ï¼Œè‡³æ­¤ç¼–è¯‘ç¯å¢ƒå°±æ­å»ºå¥½äº†ã€‚ åœ¨OpenWrtçš„è·¯ç”±å™¨ä¸Šå®‰è£…Wifidogåº”ç”¨ç¨‹åº åœ¨OpenWrtç³»ç»Ÿçš„æºç æ–‡ä»¶ä¸‹ï¼Œç¼–è¾‘feeds.conf.defaultæ–‡ä»¶vim feeds.conf.defaultåœ¨å…¶ä¸­å¢åŠ ä¸€è¡Œï¼šsrc-git wifidog https://github.com/wifidog/wifidog-gateway.git ç„¶åæ›´æ–°ï¼Œå†å®‰è£…ï¼š./scripts/feeds update -a./scripts/feeds install -a ç»ˆç«¯æ‰§è¡Œç¼–è¯‘å‘½ä»¤make menuconfig åœ¨Network/captive portals/ä¸‹é€‰æ‹©wifidog å°±æœ‰é€‰æ‹© WiFiDog è¿™ä¸€é¡¹äº† 2019/07/09 é…ç½®æœåŠ¡å™¨ä¸­é‡åˆ°çš„é—®é¢˜é—®é¢˜ï¼š python3 manage.py runserver 0.0.0.0:8000123456789101112131415161718Traceback (most recent call last): File &quot;manage.py&quot;, line 22, in &lt;module&gt; execute_from_command_line(sys.argv) File &quot;/usr/local/lib/python3.5/dist-packages/django/core/management/__init__.py&quot;, line 381, in execute_from_command_line utility.execute() File &quot;/usr/local/lib/python3.5/dist-packages/django/core/management/__init__.py&quot;, line 375, in execute self.fetch_command(subcommand).run_from_argv(self.argv) File &quot;/usr/local/lib/python3.5/dist-packages/django/core/management/base.py&quot;, line 323, in run_from_argv self.execute(*args, **cmd_options) File &quot;/usr/local/lib/python3.5/dist-packages/django/core/management/commands/runserver.py&quot;, line 60, in execute super().execute(*args, **options) File &quot;/usr/local/lib/python3.5/dist-packages/django/core/management/base.py&quot;, line 364, in execute output = self.handle(*args, **options) File &quot;/home/ngmi/lightFreq-master/my_wifi_auth_server/django_pdb/management/commands/runserver.py&quot;, line 59, in handle and middleware not in settings.MIDDLEWARE_CLASSES): File &quot;/usr/local/lib/python3.5/dist-packages/django/conf/__init__.py&quot;, line 80, in __getattr__ val = getattr(self._wrapped, name)AttributeError: &apos;Settings&apos; object has no attribute &apos;MIDDLEWARE_CLASSES&apos; è§£å†³æ–¹æ³•ï¼š 1234middleware = 'django_pdb.middleware.PdbMiddleware' if ((pdb_option or settings.DEBUG) and middleware not in settings.MIDDLEWARE): settings.MIDDLEWARE += (middleware,) ç”±äºDjangoç‰ˆæœ¬çš„é—®é¢˜ï¼Œéœ€è¦å°†ï¼ˆlightFreq-master/my_wifi_auth_server/django_pdb/management/conmands/runserver.pyï¼‰ä»¥ä¸Šä»£ç ä¸­åŸæœ¬çš„MIDDLEWARE_CLASSESæ”¹ä¸ºMIDDLEWAREã€‚ é—®é¢˜ï¼š HTTP_HOST header: '0.0.0.0:8000'. You may need to add '0.0.0.0' to ALLOWED_HOSTS.12Bad Request: /[09/Jul/2019 14:14:40] &quot;GET / HTTP/1.1&quot; 400 66219 è¿›å…¥http://0.0.0.0:8000é¡µé¢æ˜¾ç¤ºInvalidâ€¦è§£å†³åŠæ³•ï¼šå°†lightFreq-master/my_wifi_auth_server/Auth_server/settings.pyæ–‡ä»¶ä¸­ALLOWED_HOSTS = [&#39;192.168.1.162&#39;,&#39;127.0.0.1&#39;]ä¿®æ”¹ä¸ºALLOWED_HOSTS = [&#39;*&#39;]","categories":[{"name":"Light Frequency Authenticate","slug":"Light-Frequency-Authenticate","permalink":"https://chasencenge.github.io/categories/Light-Frequency-Authenticate/"}],"tags":[{"name":"lightFre","slug":"lightFre","permalink":"https://chasencenge.github.io/tags/lightFre/"}]},{"title":"ä¸ºHexoçš„Nextä¸»é¢˜æ·»åŠ è®¡æ•°åŠŸèƒ½","slug":"ä¸ºHexoçš„Nextä¸»é¢˜æ·»åŠ è®¡æ•°åŠŸèƒ½","date":"2019-07-03T10:22:33.000Z","updated":"2020-07-20T02:43:23.877Z","comments":true,"path":"2019/07/03/ä¸ºHexoçš„Nextä¸»é¢˜æ·»åŠ è®¡æ•°åŠŸèƒ½/","link":"","permalink":"https://chasencenge.github.io/2019/07/03/ä¸ºHexoçš„Nextä¸»é¢˜æ·»åŠ è®¡æ•°åŠŸèƒ½/","excerpt":"blogä¸­æ·»åŠ wordcountåŠŸèƒ½","text":"blogä¸­æ·»åŠ wordcountåŠŸèƒ½ 1.åœ¨æ ¹ç›®å½•git bashï¼š npm install hexo-wordcount --save 2.åœ¨ä¸»é¢˜é…ç½®æ–‡ä»¶(hexo\\themes\\next\\config.yml)ä¸­æ‰“å¼€wordcountåŠŸèƒ½ # Post wordcount display settings # Dependencies: https://github.com/willin/hexo-wordcount post_wordcount: item_text: true wordcount: true min2read: true totalcount: true separated_meta: true3.ä¿®æ”¹ hexo\\themes\\next\\layout\\post.swigï¼Œå°†ä¸‹é¢ä»£ç å¤åˆ¶åˆ°æ–‡ä»¶ä¸­ï¼š &lt;span title=&quot;{{ __('post.wordcount') }}&quot;&gt; {{ wordcount(post.content) }} å­— &lt;/span&gt; &lt;span title=&quot;{{ __('post.min2read') }}&quot;&gt; {{ min2read(post.content) }} åˆ†é’Ÿ &lt;/span&gt;","categories":[{"name":"Hexo","slug":"Hexo","permalink":"https://chasencenge.github.io/categories/Hexo/"}],"tags":[{"name":"Hexo","slug":"Hexo","permalink":"https://chasencenge.github.io/tags/Hexo/"}]}]}